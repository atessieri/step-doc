

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>test.test_step_redis_stream module &mdash; STEP Redis 1.0.4 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=4c969af8" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=5b54ee2a" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=71272d9f"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/tabs.js?v=3ee01567"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="test.test_step_redis_pool module" href="test.test_step_redis_pool.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            STEP Redis
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Step Redis:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../overview.html#key-features">Key Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview.html#purpose">Purpose</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview.html#getting-started">Getting Started</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#installing-from-pypi">Installing from PyPI</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Redis Usage Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../usage.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage.html#key-components">Key Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage.html#basic-usage">Basic Usage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../usage.html#general-pattern">General Pattern</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../usage.html#advanced-usage-stream-demo-example">Advanced Usage: Stream Demo Example</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../usage.html#stream-demo-components">Stream Demo Components</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage.html#running-the-demo-application">Running the Demo Application</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../usage.html#best-practices">Best Practices</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../package_script.html">Package Script</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../package_script.html#create-environment">Create environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../package_script.html#make">Make</a></li>
<li class="toctree-l2"><a class="reference internal" href="../package_script.html#pdf-conversion">PDF conversion</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../architecture.html">Architecture</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../architecture.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture.html#library">Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture.html#key-components">Key Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture.html#component-details">Component Details</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../architecture.html#stepredispool">StepRedisPool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../architecture.html#stepredisstream">StepRedisStream</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../architecture.html#package-integration">Package Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture.html#usage-patterns">Usage Patterns</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../architecture.html#example-usage">Example Usage</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../architecture.html#error-handling">Error Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture.html#design-considerations">Design Considerations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../step_redis_rst/step_redis.html">step_redis package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../step_redis_rst/step_redis.html#submodules">Submodules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html">step_redis.step_redis_pool module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPool"><code class="docutils literal notranslate"><span class="pre">StepRedisPool</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPool.params"><code class="docutils literal notranslate"><span class="pre">StepRedisPool.params</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPool.logger"><code class="docutils literal notranslate"><span class="pre">StepRedisPool.logger</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPool.__aenter__"><code class="docutils literal notranslate"><span class="pre">StepRedisPool.__aenter__()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPool.__aexit__"><code class="docutils literal notranslate"><span class="pre">StepRedisPool.__aexit__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams.host"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams.host</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams.port"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams.port</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams.username"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams.username</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams.password"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams.password</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams.db"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams.db</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams.socket_timeout"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams.socket_timeout</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams.socket_connect_timeout"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams.socket_connect_timeout</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams.socket_keep_idle"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams.socket_keep_idle</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams.socket_keep_alive"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams.socket_keep_alive</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams.socket_keep_cnt"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams.socket_keep_cnt</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams.ssl_enable"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams.ssl_enable</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams.ssl_client_key_file"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams.ssl_client_key_file</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams.ssl_client_key_file_password"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams.ssl_client_key_file_password</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams.ssl_client_cert_file"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams.ssl_client_cert_file</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams.ssl_cert_requested"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams.ssl_cert_requested</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams.ssl_ca_certs_file"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams.ssl_ca_certs_file</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams.health_check_interval"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams.health_check_interval</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams.max_connections"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams.max_connections</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams.connection_available_timeout"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams.connection_available_timeout</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams.protocol"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams.protocol</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_stream.html">step_redis.step_redis_stream module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_stream.html#step_redis.step_redis_stream.StepRedisStream"><code class="docutils literal notranslate"><span class="pre">StepRedisStream</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_stream.html#step_redis.step_redis_stream.StepRedisStream.logger"><code class="docutils literal notranslate"><span class="pre">StepRedisStream.logger</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_stream.html#step_redis.step_redis_stream.StepRedisStream.redis"><code class="docutils literal notranslate"><span class="pre">StepRedisStream.redis</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_stream.html#step_redis.step_redis_stream.StepRedisStream.__aenter__"><code class="docutils literal notranslate"><span class="pre">StepRedisStream.__aenter__()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_stream.html#step_redis.step_redis_stream.StepRedisStream.__aexit__"><code class="docutils literal notranslate"><span class="pre">StepRedisStream.__aexit__()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_stream.html#step_redis.step_redis_stream.StepRedisStream.create_input_stream"><code class="docutils literal notranslate"><span class="pre">StepRedisStream.create_input_stream()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_stream.html#step_redis.step_redis_stream.StepRedisStream.get_stream_ttl"><code class="docutils literal notranslate"><span class="pre">StepRedisStream.get_stream_ttl()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_stream.html#step_redis.step_redis_stream.StepRedisStream.ping"><code class="docutils literal notranslate"><span class="pre">StepRedisStream.ping()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_stream.html#step_redis.step_redis_stream.StepRedisStream.publish_message"><code class="docutils literal notranslate"><span class="pre">StepRedisStream.publish_message()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_stream.html#step_redis.step_redis_stream.StepRedisStream.receive_message"><code class="docutils literal notranslate"><span class="pre">StepRedisStream.receive_message()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_stream.html#step_redis.step_redis_stream.StepRedisStream.update_stream_ttl"><code class="docutils literal notranslate"><span class="pre">StepRedisStream.update_stream_ttl()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="test.html">Unit Test package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="test.html#submodules">Submodules</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="test.test_step_redis_init.html">test.test_step_redis_init module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test.test_step_redis_init.html#test.test_step_redis_init.TestStepRedisPackage"><code class="docutils literal notranslate"><span class="pre">TestStepRedisPackage</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="test.test_step_redis_init.html#test.test_step_redis_init.TestStepRedisPackage.test_package_exports"><code class="docutils literal notranslate"><span class="pre">TestStepRedisPackage.test_package_exports()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="test.test_step_redis_init.html#test.test_step_redis_init.TestStepRedisPackage.test_version"><code class="docutils literal notranslate"><span class="pre">TestStepRedisPackage.test_version()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="test.test_step_redis_pool.html">test.test_step_redis_pool module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="test.test_step_redis_pool.html#test.test_step_redis_pool.TestStepRedisPool"><code class="docutils literal notranslate"><span class="pre">TestStepRedisPool</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="test.test_step_redis_pool.html#test.test_step_redis_pool.TestStepRedisPool.mock_logger"><code class="docutils literal notranslate"><span class="pre">TestStepRedisPool.mock_logger()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="test.test_step_redis_pool.html#test.test_step_redis_pool.TestStepRedisPool.redis_params_no_ssl"><code class="docutils literal notranslate"><span class="pre">TestStepRedisPool.redis_params_no_ssl()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="test.test_step_redis_pool.html#test.test_step_redis_pool.TestStepRedisPool.redis_params_ssl"><code class="docutils literal notranslate"><span class="pre">TestStepRedisPool.redis_params_ssl()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="test.test_step_redis_pool.html#test.test_step_redis_pool.TestStepRedisPool.test_async_context_manager"><code class="docutils literal notranslate"><span class="pre">TestStepRedisPool.test_async_context_manager()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="test.test_step_redis_pool.html#test.test_step_redis_pool.TestStepRedisPool.test_init_with_ssl"><code class="docutils literal notranslate"><span class="pre">TestStepRedisPool.test_init_with_ssl()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="test.test_step_redis_pool.html#test.test_step_redis_pool.TestStepRedisPool.test_init_without_ssl"><code class="docutils literal notranslate"><span class="pre">TestStepRedisPool.test_init_without_ssl()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="test.test_step_redis_pool.html#test.test_step_redis_pool.TestStepRedisPoolParams"><code class="docutils literal notranslate"><span class="pre">TestStepRedisPoolParams</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="test.test_step_redis_pool.html#test.test_step_redis_pool.TestStepRedisPoolParams.redis_params_no_ssl"><code class="docutils literal notranslate"><span class="pre">TestStepRedisPoolParams.redis_params_no_ssl()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="test.test_step_redis_pool.html#test.test_step_redis_pool.TestStepRedisPoolParams.redis_params_ssl"><code class="docutils literal notranslate"><span class="pre">TestStepRedisPoolParams.redis_params_ssl()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="test.test_step_redis_pool.html#test.test_step_redis_pool.TestStepRedisPoolParams.test_redis_pool_params_init_no_ssl"><code class="docutils literal notranslate"><span class="pre">TestStepRedisPoolParams.test_redis_pool_params_init_no_ssl()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="test.test_step_redis_pool.html#test.test_step_redis_pool.TestStepRedisPoolParams.test_redis_pool_params_init_ssl"><code class="docutils literal notranslate"><span class="pre">TestStepRedisPoolParams.test_redis_pool_params_init_ssl()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">test.test_step_redis_stream module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#test.test_step_redis_stream.TestStepRedisStream"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="#test.test_step_redis_stream.TestStepRedisStream.mock_logger"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.mock_logger()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#test.test_step_redis_stream.TestStepRedisStream.mock_pool"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.mock_pool()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#test.test_step_redis_stream.TestStepRedisStream.mock_redis"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.mock_redis()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#test.test_step_redis_stream.TestStepRedisStream.test_context"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_context()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#test.test_step_redis_stream.TestStepRedisStream.test_create_input_stream_exception"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_create_input_stream_exception()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#test.test_step_redis_stream.TestStepRedisStream.test_create_input_stream_group_exists"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_create_input_stream_group_exists()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#test.test_step_redis_stream.TestStepRedisStream.test_create_input_stream_redis_exception"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_create_input_stream_redis_exception()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#test.test_step_redis_stream.TestStepRedisStream.test_create_input_stream_success"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_create_input_stream_success()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#test.test_step_redis_stream.TestStepRedisStream.test_create_input_stream_with_ttl"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_create_input_stream_with_ttl()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#test.test_step_redis_stream.TestStepRedisStream.test_get_stream_ttl_exists_no_expiration"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_get_stream_ttl_exists_no_expiration()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#test.test_step_redis_stream.TestStepRedisStream.test_get_stream_ttl_exists_with_expiration"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_get_stream_ttl_exists_with_expiration()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#test.test_step_redis_stream.TestStepRedisStream.test_get_stream_ttl_nonexistent_stream"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_get_stream_ttl_nonexistent_stream()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#test.test_step_redis_stream.TestStepRedisStream.test_init"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_init()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#test.test_step_redis_stream.TestStepRedisStream.test_ping_success"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_ping_success()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#test.test_step_redis_stream.TestStepRedisStream.test_publish_message_exception"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_publish_message_exception()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#test.test_step_redis_stream.TestStepRedisStream.test_publish_message_success"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_publish_message_success()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#test.test_step_redis_stream.TestStepRedisStream.test_receive_message_keyerror"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_receive_message_keyerror()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#test.test_step_redis_stream.TestStepRedisStream.test_receive_message_stream_wrong"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_receive_message_stream_wrong()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#test.test_step_redis_stream.TestStepRedisStream.test_receive_message_success"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_receive_message_success()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#test.test_step_redis_stream.TestStepRedisStream.test_receive_message_timeout"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_receive_message_timeout()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#test.test_step_redis_stream.TestStepRedisStream.test_receive_message_with_ttl"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_receive_message_with_ttl()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#test.test_step_redis_stream.TestStepRedisStream.test_update_stream_ttl_exception"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_update_stream_ttl_exception()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#test.test_step_redis_stream.TestStepRedisStream.test_update_stream_ttl_failure"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_update_stream_ttl_failure()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#test.test_step_redis_stream.TestStepRedisStream.test_update_stream_ttl_success"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_update_stream_ttl_success()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">STEP Redis</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="test.html">Unit Test package</a></li>
      <li class="breadcrumb-item active">test.test_step_redis_stream module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/test_rst/test.test_step_redis_stream.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-test.test_step_redis_stream">
<span id="test-test-step-redis-stream-module"></span><h1>test.test_step_redis_stream module<a class="headerlink" href="#module-test.test_step_redis_stream" title="Link to this heading"></a></h1>
<p>Unit tests for step_redis_stream module.</p>
<p>This module contains unit tests for the StepRedisStream class from the
step_redis.step_redis_stream module. These tests verify the correct behavior
of Redis stream operations, including:</p>
<blockquote>
<div><ul class="simple">
<li><p>Creating streams with consumer groups</p></li>
<li><p>Publishing messages to streams</p></li>
<li><p>Consuming messages from streams</p></li>
<li><p>Setting and updating TTL for streams</p></li>
<li><p>Exception handling and context management</p></li>
</ul>
</div></blockquote>
<p>Note: These tests use mocking to avoid requiring a real Redis server.</p>
<dl class="py class">
<dt class="sig sig-object py" id="test.test_step_redis_stream.TestStepRedisStream">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">test.test_step_redis_stream.</span></span><span class="sig-name descname"><span class="pre">TestStepRedisStream</span></span><a class="reference internal" href="../_modules/test/test_step_redis_stream.html#TestStepRedisStream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#test.test_step_redis_stream.TestStepRedisStream" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Unit tests for StepRedisStream class.
This test suite validates the functionality of the StepRedisStream class, which provides
a wrapper around Redis stream operations. The tests cover stream creation, message publishing
and receiving, TTL management, and error handling scenarios.
The suite is organized into test methods that verify:</p>
<blockquote>
<div><ul class="simple">
<li><p>Initialization and context management</p></li>
<li><p>Stream creation with and without TTL</p></li>
<li><p>Stream TTL updates and retrieval</p></li>
<li><p>Message publishing to streams</p></li>
<li><p>Message reception from streams with various options</p></li>
<li><p>Handling of timeouts and various error conditions</p></li>
</ul>
</div></blockquote>
<p>Each test method uses mocking to isolate the Redis functionality and verify proper interaction
with the Redis client. The tests ensure that StepRedisStream correctly handles both normal
operation and various error scenarios, including:</p>
<blockquote>
<div><ul class="simple">
<li><p>Stream or group already existing</p></li>
<li><p>Redis connection failures</p></li>
<li><p>Timeouts when waiting for messages</p></li>
<li><p>Processing errors when handling Redis responses</p></li>
</ul>
</div></blockquote>
<p>The test fixtures provide mock objects for Redis, connection pools, and loggers that
allow for verification of method calls and parameters.</p>
<dl class="py method">
<dt class="sig sig-object py" id="test.test_step_redis_stream.TestStepRedisStream.mock_logger">
<span class="sig-name descname"><span class="pre">mock_logger</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mocker</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MockerFixture</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Logger</span></span></span><a class="reference internal" href="../_modules/test/test_step_redis_stream.html#TestStepRedisStream.mock_logger"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#test.test_step_redis_stream.TestStepRedisStream.mock_logger" title="Link to this definition"></a></dt>
<dd><p>Provides a mock logger for testing.</p>
<p>This fixture returns a MagicMock object that behaves like a Logger instance,
allowing tests to verify logging behavior without setting up actual logging.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A mock logger object for testing.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Logger</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="test.test_step_redis_stream.TestStepRedisStream.mock_pool">
<span class="sig-name descname"><span class="pre">mock_pool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mocker</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MockerFixture</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPool" title="step_redis.step_redis_pool.StepRedisPool"><span class="pre">StepRedisPool</span></a></span></span><a class="reference internal" href="../_modules/test/test_step_redis_stream.html#TestStepRedisStream.mock_pool"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#test.test_step_redis_stream.TestStepRedisStream.mock_pool" title="Link to this definition"></a></dt>
<dd><p>Creates a mock of the StepRedisPool class for testing purposes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>mocker</strong> (<em>MockerFixture</em>) – The pytest-mock fixture used to create the mock object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A MagicMock object that follows the StepRedisPool specification.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPool" title="step_redis.step_redis_pool.StepRedisPool">StepRedisPool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="test.test_step_redis_stream.TestStepRedisStream.mock_redis">
<span class="sig-name descname"><span class="pre">mock_redis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mocker</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MockerFixture</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Redis</span></span></span><a class="reference internal" href="../_modules/test/test_step_redis_stream.html#TestStepRedisStream.mock_redis"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#test.test_step_redis_stream.TestStepRedisStream.mock_redis" title="Link to this definition"></a></dt>
<dd><p>Create a mock Redis instance using pytest-mock.</p>
<p>This function creates a mock Redis instance using the pytest-mock fixture.
The mock behaves like an asynchronous Redis instance with all methods mocked.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>mocker</strong> (<em>MockerFixture</em>) – The pytest-mock fixture.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A mocked Redis instance with AsyncMock behavior.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Redis</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="test.test_step_redis_stream.TestStepRedisStream.test_context">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">test_context</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mocker</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MockerFixture</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPool" title="step_redis.step_redis_pool.StepRedisPool"><span class="pre">StepRedisPool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_redis</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Redis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Logger</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/test/test_step_redis_stream.html#TestStepRedisStream.test_context"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#test.test_step_redis_stream.TestStepRedisStream.test_context" title="Link to this definition"></a></dt>
<dd><p>Test the context manager functionality of StepRedisStream.</p>
<p>This test verifies that:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>The context manager correctly initializes a Redis connection using
the provided pool</p></li>
<li><p>The logger is properly assigned</p></li>
<li><p>Debug logs are generated when entering and exiting the context</p></li>
<li><p>The Redis connection is properly closed when exiting the context</p></li>
</ol>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mocker</strong> – Fixture for mocking</p></li>
<li><p><strong>mock_pool</strong> – Mock Redis connection pool</p></li>
<li><p><strong>mock_redis</strong> – Mock Redis client</p></li>
<li><p><strong>mock_logger</strong> – Mock logger instance</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="test.test_step_redis_stream.TestStepRedisStream.test_create_input_stream_exception">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">test_create_input_stream_exception</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mocker</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MockerFixture</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPool" title="step_redis.step_redis_pool.StepRedisPool"><span class="pre">StepRedisPool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_redis</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Redis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Logger</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/test/test_step_redis_stream.html#TestStepRedisStream.test_create_input_stream_exception"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#test.test_step_redis_stream.TestStepRedisStream.test_create_input_stream_exception" title="Link to this definition"></a></dt>
<dd><p>Test handling of exceptions when creating an input stream.</p>
<p>This test verifies that when Redis’ xgroup_create method raises an exception
(in this case a KeyError), the exception is properly propagated from the
create_input_stream method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mocker</strong> – Pytest fixture for mocking.</p></li>
<li><p><strong>mock_pool</strong> – Mock StepRedisPool fixture.</p></li>
<li><p><strong>mock_redis</strong> – Mock Redis client fixture.</p></li>
<li><p><strong>mock_logger</strong> – Mock Logger fixture.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>KeyError</strong> – Verifies that the KeyError from Redis is propagated.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="test.test_step_redis_stream.TestStepRedisStream.test_create_input_stream_group_exists">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">test_create_input_stream_group_exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mocker</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MockerFixture</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPool" title="step_redis.step_redis_pool.StepRedisPool"><span class="pre">StepRedisPool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_redis</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Redis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Logger</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/test/test_step_redis_stream.html#TestStepRedisStream.test_create_input_stream_group_exists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#test.test_step_redis_stream.TestStepRedisStream.test_create_input_stream_group_exists" title="Link to this definition"></a></dt>
<dd><p>Test the behavior of create_input_stream when the consumer group already
exists.</p>
<p>This test verifies that when Redis returns a BUSYGROUP error indicating that
the consumer group already exists, the method handles it gracefully by logging
an informational message without raising an exception.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mocker</strong> – Pytest fixture for mocking.</p></li>
<li><p><strong>mock_pool</strong> – Mock StepRedisPool object.</p></li>
<li><p><strong>mock_redis</strong> – Mock Redis object.</p></li>
<li><p><strong>mock_logger</strong> – Mock Logger object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="test.test_step_redis_stream.TestStepRedisStream.test_create_input_stream_redis_exception">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">test_create_input_stream_redis_exception</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mocker</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MockerFixture</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPool" title="step_redis.step_redis_pool.StepRedisPool"><span class="pre">StepRedisPool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_redis</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Redis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Logger</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/test/test_step_redis_stream.html#TestStepRedisStream.test_create_input_stream_redis_exception"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#test.test_step_redis_stream.TestStepRedisStream.test_create_input_stream_redis_exception" title="Link to this definition"></a></dt>
<dd><p>Test the create_input_stream method when Redis raises an exception.</p>
<p>This test verifies that when the Redis.xgroup_create call raises a RedisResponseError,
the exception is properly propagated through the StepRedisStream.create_input_stream method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mocker</strong> – Pytest fixture for mocking.</p></li>
<li><p><strong>mock_pool</strong> – Mock StepRedisPool instance.</p></li>
<li><p><strong>mock_redis</strong> – Mock Redis instance.</p></li>
<li><p><strong>mock_logger</strong> – Mock Logger instance.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>RedisResponseError</strong> – Expected to be raised when Redis.xgroup_create fails.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="test.test_step_redis_stream.TestStepRedisStream.test_create_input_stream_success">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">test_create_input_stream_success</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mocker</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MockerFixture</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPool" title="step_redis.step_redis_pool.StepRedisPool"><span class="pre">StepRedisPool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_redis</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Redis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Logger</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/test/test_step_redis_stream.html#TestStepRedisStream.test_create_input_stream_success"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#test.test_step_redis_stream.TestStepRedisStream.test_create_input_stream_success" title="Link to this definition"></a></dt>
<dd><p>Test case for successful creation of an input stream.</p>
<p>This test verifies that the create_input_stream method of StepRedisStream
properly creates a new Redis stream with the specified group.</p>
<p>It checks that:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>xgroup_create is called with the correct parameters</p></li>
<li><p>expire is not called (when no TTL is provided)</p></li>
<li><p>A debug log message is produced with the operation result</p></li>
</ol>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mocker</strong> (<em>MockerFixture</em>) – Pytest fixture for mocking</p></li>
<li><p><strong>mock_pool</strong> (<a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPool" title="step_redis.step_redis_pool.StepRedisPool"><em>StepRedisPool</em></a>) – Mock Redis connection pool</p></li>
<li><p><strong>mock_redis</strong> (<em>Redis</em>) – Mock Redis client</p></li>
<li><p><strong>mock_logger</strong> (<em>Logger</em>) – Mock logger instance</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="test.test_step_redis_stream.TestStepRedisStream.test_create_input_stream_with_ttl">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">test_create_input_stream_with_ttl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mocker</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MockerFixture</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPool" title="step_redis.step_redis_pool.StepRedisPool"><span class="pre">StepRedisPool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_redis</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Redis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Logger</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/test/test_step_redis_stream.html#TestStepRedisStream.test_create_input_stream_with_ttl"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#test.test_step_redis_stream.TestStepRedisStream.test_create_input_stream_with_ttl" title="Link to this definition"></a></dt>
<dd><p>Test the creation of an input stream with a TTL (time to live) parameter.</p>
<p>This test verifies that creating an input stream with TTL correctly:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Calls the Redis xgroup_create method with appropriate parameters</p></li>
<li><p>Updates the stream TTL with the specified TTL value</p></li>
</ol>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mocker</strong> (<em>MockerFixture</em>) – Pytest fixture for mocking</p></li>
<li><p><strong>mock_pool</strong> (<a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPool" title="step_redis.step_redis_pool.StepRedisPool"><em>StepRedisPool</em></a>) – Mock Redis connection pool</p></li>
<li><p><strong>mock_redis</strong> (<em>Redis</em>) – Mock Redis client</p></li>
<li><p><strong>mock_logger</strong> (<em>Logger</em>) – Mock logger instance</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="test.test_step_redis_stream.TestStepRedisStream.test_get_stream_ttl_exists_no_expiration">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">test_get_stream_ttl_exists_no_expiration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mocker</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MockerFixture</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPool" title="step_redis.step_redis_pool.StepRedisPool"><span class="pre">StepRedisPool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_redis</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Redis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Logger</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/test/test_step_redis_stream.html#TestStepRedisStream.test_get_stream_ttl_exists_no_expiration"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#test.test_step_redis_stream.TestStepRedisStream.test_get_stream_ttl_exists_no_expiration" title="Link to this definition"></a></dt>
<dd><p>Test the behavior of get_stream_ttl method when a stream exists but has no
expiration.</p>
<p>This test verifies that the StepRedisStream.get_stream_ttl method correctly handles
the case where a Redis stream exists but doesn’t have an expiration time set.
The expected behavior is that when Redis returns -1 (indicating no expiration),
the method should return this value unchanged and log appropriate debug messages.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mocker</strong> – Pytest fixture for mocking.</p></li>
<li><p><strong>mock_pool</strong> – Mock StepRedisPool fixture.</p></li>
<li><p><strong>mock_redis</strong> – Mock Redis client fixture.</p></li>
<li><p><strong>mock_logger</strong> – Mock Logger fixture.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="test.test_step_redis_stream.TestStepRedisStream.test_get_stream_ttl_exists_with_expiration">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">test_get_stream_ttl_exists_with_expiration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mocker</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MockerFixture</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPool" title="step_redis.step_redis_pool.StepRedisPool"><span class="pre">StepRedisPool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_redis</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Redis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Logger</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/test/test_step_redis_stream.html#TestStepRedisStream.test_get_stream_ttl_exists_with_expiration"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#test.test_step_redis_stream.TestStepRedisStream.test_get_stream_ttl_exists_with_expiration" title="Link to this definition"></a></dt>
<dd><p>Test the get_stream_ttl method when the stream exists with an expiration
time.</p>
<p>This test verifies that the StepRedisStream.get_stream_ttl method correctly retrieves
the Time-To-Live (TTL) value for a Redis stream that exists and has an expiration set.</p>
<p>The test:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Mocks the Redis class and its ttl method to return a specific value</p></li>
<li><p>Calls get_stream_ttl with a test stream ID</p></li>
<li><p>Verifies that the method returns the expected TTL value</p></li>
<li><p>Confirms that the Redis ttl method was called with the correct parameters</p></li>
<li><p>Validates that appropriate debug log messages were generated</p></li>
</ol>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mocker</strong> (<em>MockerFixture</em>) – Pytest fixture for mocking.</p></li>
<li><p><strong>mock_pool</strong> (<a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPool" title="step_redis.step_redis_pool.StepRedisPool"><em>StepRedisPool</em></a>) – Mock Redis connection pool.</p></li>
<li><p><strong>mock_redis</strong> (<em>Redis</em>) – Mock Redis client.</p></li>
<li><p><strong>mock_logger</strong> (<em>Logger</em>) – Mock logger instance.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="test.test_step_redis_stream.TestStepRedisStream.test_get_stream_ttl_nonexistent_stream">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">test_get_stream_ttl_nonexistent_stream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mocker</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MockerFixture</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPool" title="step_redis.step_redis_pool.StepRedisPool"><span class="pre">StepRedisPool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_redis</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Redis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Logger</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/test/test_step_redis_stream.html#TestStepRedisStream.test_get_stream_ttl_nonexistent_stream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#test.test_step_redis_stream.TestStepRedisStream.test_get_stream_ttl_nonexistent_stream" title="Link to this definition"></a></dt>
<dd><p>Test the behavior of get_stream_ttl when the stream does not exist.</p>
<p>This test verifies that the StepRedisStream.get_stream_ttl method correctly
handles the case where the requested stream does not exist in Redis.</p>
<p>Expected behavior:</p>
<blockquote>
<div><ul class="simple">
<li><p>The Redis ttl method should be called with the stream ID.</p></li>
<li><p>The method should return -2 (indicating non-existence).</p></li>
<li><p>Debug logging should indicate getting TTL and stream non-existence.</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mocker</strong> – Pytest fixture for mocking.</p></li>
<li><p><strong>mock_pool</strong> – Mock StepRedisPool instance.</p></li>
<li><p><strong>mock_redis</strong> – Mock Redis client instance.</p></li>
<li><p><strong>mock_logger</strong> – Mock Logger instance.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="test.test_step_redis_stream.TestStepRedisStream.test_init">
<span class="sig-name descname"><span class="pre">test_init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mocker</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MockerFixture</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPool" title="step_redis.step_redis_pool.StepRedisPool"><span class="pre">StepRedisPool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_redis</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Redis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Logger</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/test/test_step_redis_stream.html#TestStepRedisStream.test_init"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#test.test_step_redis_stream.TestStepRedisStream.test_init" title="Link to this definition"></a></dt>
<dd><p>Test initialization of StepRedisStream.</p>
<p>This test verifies that StepRedisStream initializes correctly by:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Checking that Redis is instantiated with the provided connection pool</p></li>
<li><p>Verifying that the logger is properly assigned</p></li>
<li><p>Confirming that the redis client is set correctly</p></li>
</ol>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mocker</strong> – Pytest fixture for mocking</p></li>
<li><p><strong>mock_pool</strong> – Mock StepRedisPool fixture</p></li>
<li><p><strong>mock_redis</strong> – Mock Redis client fixture</p></li>
<li><p><strong>mock_logger</strong> – Mock Logger fixture</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="test.test_step_redis_stream.TestStepRedisStream.test_ping_success">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">test_ping_success</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mocker</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MockerFixture</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPool" title="step_redis.step_redis_pool.StepRedisPool"><span class="pre">StepRedisPool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_redis</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Redis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Logger</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/test/test_step_redis_stream.html#TestStepRedisStream.test_ping_success"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#test.test_step_redis_stream.TestStepRedisStream.test_ping_success" title="Link to this definition"></a></dt>
<dd><p>Test the ping method when Redis server responds successfully.</p>
<dl class="simple">
<dt>This test verifies that:</dt><dd><ol class="arabic simple">
<li><p>The ping method correctly calls the Redis ping command</p></li>
<li><p>Debug information is logged with the response</p></li>
</ol>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mocker</strong> – Pytest fixture for mocking</p></li>
<li><p><strong>mock_pool</strong> – Mock Redis connection pool</p></li>
<li><p><strong>mock_redis</strong> – Mock Redis client</p></li>
<li><p><strong>mock_logger</strong> – Mock logger instance</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="test.test_step_redis_stream.TestStepRedisStream.test_publish_message_exception">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">test_publish_message_exception</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mocker</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MockerFixture</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPool" title="step_redis.step_redis_pool.StepRedisPool"><span class="pre">StepRedisPool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_redis</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Redis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Logger</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/test/test_step_redis_stream.html#TestStepRedisStream.test_publish_message_exception"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#test.test_step_redis_stream.TestStepRedisStream.test_publish_message_exception" title="Link to this definition"></a></dt>
<dd><p>Test handling of exceptions when publishing a message. This test verifies
that when Redis xadd raises an exception, the exception is properly propagated
from the publish_message method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mocker</strong> – Pytest fixture for mocking</p></li>
<li><p><strong>mock_pool</strong> – Mock Redis connection pool</p></li>
<li><p><strong>mock_redis</strong> – Mock Redis client</p></li>
<li><p><strong>mock_logger</strong> – Mock logger instance</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ConnectionError</strong> – Verifies that the exception from Redis is propagated</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="test.test_step_redis_stream.TestStepRedisStream.test_publish_message_success">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">test_publish_message_success</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mocker</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MockerFixture</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPool" title="step_redis.step_redis_pool.StepRedisPool"><span class="pre">StepRedisPool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_redis</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Redis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Logger</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/test/test_step_redis_stream.html#TestStepRedisStream.test_publish_message_success"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#test.test_step_redis_stream.TestStepRedisStream.test_publish_message_success" title="Link to this definition"></a></dt>
<dd><p>Test successful publishing of a message to a Redis stream.
This test verifies that:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>The publish_message method correctly calls Redis xadd with proper parameters</p></li>
<li><p>Debug logs are generated before and after publishing</p></li>
<li><p>The Redis response is correctly returned</p></li>
</ol>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mocker</strong> – Pytest fixture for mocking</p></li>
<li><p><strong>mock_pool</strong> – Mock Redis connection pool</p></li>
<li><p><strong>mock_redis</strong> – Mock Redis client</p></li>
<li><p><strong>mock_logger</strong> – Mock logger instance</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="test.test_step_redis_stream.TestStepRedisStream.test_receive_message_keyerror">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">test_receive_message_keyerror</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mocker</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MockerFixture</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPool" title="step_redis.step_redis_pool.StepRedisPool"><span class="pre">StepRedisPool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_redis</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Redis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Logger</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/test/test_step_redis_stream.html#TestStepRedisStream.test_receive_message_keyerror"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#test.test_step_redis_stream.TestStepRedisStream.test_receive_message_keyerror" title="Link to this definition"></a></dt>
<dd><p>Test handling of KeyError when receiving a message.</p>
<dl class="simple">
<dt>This test verifies that:</dt><dd><ol class="arabic simple">
<li><p>When processing the response raises a KeyError, the method logs a
warning and continues</p></li>
<li><p>After the error, the method returns a valid message on the next attempt</p></li>
</ol>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mocker</strong> – Pytest fixture for mocking</p></li>
<li><p><strong>mock_pool</strong> – Mock Redis connection pool</p></li>
<li><p><strong>mock_redis</strong> – Mock Redis client</p></li>
<li><p><strong>mock_logger</strong> – Mock logger instance</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="test.test_step_redis_stream.TestStepRedisStream.test_receive_message_stream_wrong">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">test_receive_message_stream_wrong</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mocker</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MockerFixture</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPool" title="step_redis.step_redis_pool.StepRedisPool"><span class="pre">StepRedisPool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_redis</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Redis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Logger</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/test/test_step_redis_stream.html#TestStepRedisStream.test_receive_message_stream_wrong"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#test.test_step_redis_stream.TestStepRedisStream.test_receive_message_stream_wrong" title="Link to this definition"></a></dt>
<dd><p>Test that the <cite>receive_message</cite> method properly handles cases where the Redis
server returns messages from a stream that was not requested.</p>
<p>This test simulates a scenario where the Redis server first returns messages
from an incorrect stream ID (‘test_stream_wrong’) and then from the correct
stream ID (‘test_stream’). The test verifies that:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>The method logs a warning when receiving messages from the wrong stream</p></li>
<li><p>The method retries the operation and eventually gets the correct message</p></li>
<li><p>The method returns the payload content from the message</p></li>
<li><p>The stream TTL is updated after successful message retrieval</p></li>
</ol>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mocker</strong> – PyTest fixture for mocking</p></li>
<li><p><strong>mock_pool</strong> – Mock StepRedisPool instance</p></li>
<li><p><strong>mock_redis</strong> – Mock Redis instance</p></li>
<li><p><strong>mock_logger</strong> – Mock Logger instance</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="test.test_step_redis_stream.TestStepRedisStream.test_receive_message_success">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">test_receive_message_success</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mocker</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MockerFixture</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPool" title="step_redis.step_redis_pool.StepRedisPool"><span class="pre">StepRedisPool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_redis</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Redis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Logger</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/test/test_step_redis_stream.html#TestStepRedisStream.test_receive_message_success"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#test.test_step_redis_stream.TestStepRedisStream.test_receive_message_success" title="Link to this definition"></a></dt>
<dd><p>Test successful reception of a message from a Redis stream.</p>
<p>This test verifies that:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>The receive_message method correctly calls Redis xreadgroup with proper parameters</p></li>
<li><p>The method extracts and returns the message payload when a message is available</p></li>
<li><p>Debug logs are generated appropriately</p></li>
</ol>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mocker</strong> – Pytest fixture for mocking</p></li>
<li><p><strong>mock_pool</strong> – Mock Redis connection pool</p></li>
<li><p><strong>mock_redis</strong> – Mock Redis client</p></li>
<li><p><strong>mock_logger</strong> – Mock logger instance</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="test.test_step_redis_stream.TestStepRedisStream.test_receive_message_timeout">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">test_receive_message_timeout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mocker</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MockerFixture</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPool" title="step_redis.step_redis_pool.StepRedisPool"><span class="pre">StepRedisPool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_redis</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Redis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Logger</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/test/test_step_redis_stream.html#TestStepRedisStream.test_receive_message_timeout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#test.test_step_redis_stream.TestStepRedisStream.test_receive_message_timeout" title="Link to this definition"></a></dt>
<dd><p>Test handling of timeout when receiving a message.
This test verifies that:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>When Redis xreadgroup raises a RedisTimeoutError, the method continues to retry</p></li>
<li><p>The timeout error is logged at debug level</p></li>
<li><p>After the error, the method returns a valid message on the next attempt</p></li>
</ol>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mocker</strong> – Pytest fixture for mocking</p></li>
<li><p><strong>mock_pool</strong> – Mock Redis connection pool</p></li>
<li><p><strong>mock_redis</strong> – Mock Redis client</p></li>
<li><p><strong>mock_logger</strong> – Mock logger instance</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="test.test_step_redis_stream.TestStepRedisStream.test_receive_message_with_ttl">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">test_receive_message_with_ttl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mocker</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MockerFixture</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPool" title="step_redis.step_redis_pool.StepRedisPool"><span class="pre">StepRedisPool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_redis</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Redis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Logger</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/test/test_step_redis_stream.html#TestStepRedisStream.test_receive_message_with_ttl"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#test.test_step_redis_stream.TestStepRedisStream.test_receive_message_with_ttl" title="Link to this definition"></a></dt>
<dd><p>Test reception of a message with TTL update from a Redis stream.
This test verifies that:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>When ttl_seconds is provided, update_stream_ttl is called after each attempt</p></li>
<li><p>The message content is correctly extracted and returned</p></li>
</ol>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mocker</strong> – Pytest fixture for mocking</p></li>
<li><p><strong>mock_pool</strong> – Mock Redis connection pool</p></li>
<li><p><strong>mock_redis</strong> – Mock Redis client</p></li>
<li><p><strong>mock_logger</strong> – Mock logger instance</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="test.test_step_redis_stream.TestStepRedisStream.test_update_stream_ttl_exception">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">test_update_stream_ttl_exception</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mocker</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MockerFixture</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPool" title="step_redis.step_redis_pool.StepRedisPool"><span class="pre">StepRedisPool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_redis</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Redis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Logger</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/test/test_step_redis_stream.html#TestStepRedisStream.test_update_stream_ttl_exception"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#test.test_step_redis_stream.TestStepRedisStream.test_update_stream_ttl_exception" title="Link to this definition"></a></dt>
<dd><p>Test handling of exceptions when updating stream TTL.</p>
<p>This test verifies that the StepRedisStream.update_stream_ttl method
raises a ValueError when ttl_seconds is set to 0, confirming
that the method correctly validates the TTL parameter before
attempting to update it.</p>
<dl class="simple">
<dt>Asserts:</dt><dd><ul class="simple">
<li><p>The Redis expire method is not called when validation fails.</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mocker</strong> – Pytest fixture for mocking.</p></li>
<li><p><strong>mock_pool</strong> – Mocked StepRedisPool instance.</p></li>
<li><p><strong>mock_redis</strong> – Mocked Redis client.</p></li>
<li><p><strong>mock_logger</strong> – Mocked logger instance.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – Expected to be raised with message “TTL seconds must be a positive integer”.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="test.test_step_redis_stream.TestStepRedisStream.test_update_stream_ttl_failure">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">test_update_stream_ttl_failure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mocker</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MockerFixture</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPool" title="step_redis.step_redis_pool.StepRedisPool"><span class="pre">StepRedisPool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_redis</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Redis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Logger</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/test/test_step_redis_stream.html#TestStepRedisStream.test_update_stream_ttl_failure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#test.test_step_redis_stream.TestStepRedisStream.test_update_stream_ttl_failure" title="Link to this definition"></a></dt>
<dd><p>Test the update_stream_ttl method in StepRedisStream when the TTL update
fails.</p>
<p>This test mocks the Redis client and simulates a scenario where the expire method
returns 0, indicating a failure in updating the TTL for the stream.</p>
<p>Asserts:</p>
<blockquote>
<div><ul class="simple">
<li><p>The method returns False when Redis expire returns 0</p></li>
<li><p>The expire method was called with the correct parameters</p></li>
<li><p>A warning log was generated with the appropriate message</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mocker</strong> – Pytest fixture for mocking.</p></li>
<li><p><strong>mock_pool</strong> – Mock StepRedisPool instance.</p></li>
<li><p><strong>mock_redis</strong> – Mock Redis client instance.</p></li>
<li><p><strong>mock_logger</strong> – Mock logger instance.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="test.test_step_redis_stream.TestStepRedisStream.test_update_stream_ttl_success">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">test_update_stream_ttl_success</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mocker</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">MockerFixture</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPool" title="step_redis.step_redis_pool.StepRedisPool"><span class="pre">StepRedisPool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_redis</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Redis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Logger</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/test/test_step_redis_stream.html#TestStepRedisStream.test_update_stream_ttl_success"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#test.test_step_redis_stream.TestStepRedisStream.test_update_stream_ttl_success" title="Link to this definition"></a></dt>
<dd><p>Test successful update of a Redis stream’s TTL.</p>
<p>This test verifies that the <cite>update_stream_ttl</cite> method correctly:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Sets the expiration time (TTL) for a Redis stream</p></li>
<li><p>Returns True when the operation succeeds</p></li>
<li><p>Logs appropriate debug messages before and after the operation</p></li>
</ol>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mocker</strong> (<em>MockerFixture</em>) – Fixture for mocking.</p></li>
<li><p><strong>mock_pool</strong> (<a class="reference internal" href="../step_redis_rst/step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPool" title="step_redis.step_redis_pool.StepRedisPool"><em>StepRedisPool</em></a>) – Mock Redis connection pool.</p></li>
<li><p><strong>mock_redis</strong> (<em>Redis</em>) – Mock Redis client.</p></li>
<li><p><strong>mock_logger</strong> (<em>Logger</em>) – Mock logger instance.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="test.test_step_redis_pool.html" class="btn btn-neutral float-left" title="test.test_step_redis_pool module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Vodafone Automotive.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>