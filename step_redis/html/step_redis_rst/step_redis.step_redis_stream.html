

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>step_redis.step_redis_stream module &mdash; STEP Redis 1.0.4 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=4c969af8" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=5b54ee2a" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=71272d9f"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/tabs.js?v=3ee01567"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Unit Test package" href="../test_rst/test.html" />
    <link rel="prev" title="step_redis.step_redis_pool module" href="step_redis.step_redis_pool.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            STEP Redis
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Step Redis:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../overview.html#key-features">Key Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview.html#purpose">Purpose</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview.html#getting-started">Getting Started</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#installing-from-pypi">Installing from PyPI</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Redis Usage Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../usage.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage.html#key-components">Key Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage.html#basic-usage">Basic Usage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../usage.html#general-pattern">General Pattern</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../usage.html#advanced-usage-stream-demo-example">Advanced Usage: Stream Demo Example</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../usage.html#stream-demo-components">Stream Demo Components</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage.html#running-the-demo-application">Running the Demo Application</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../usage.html#best-practices">Best Practices</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../package_script.html">Package Script</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../package_script.html#create-environment">Create environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../package_script.html#make">Make</a></li>
<li class="toctree-l2"><a class="reference internal" href="../package_script.html#pdf-conversion">PDF conversion</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../architecture.html">Architecture</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../architecture.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture.html#library">Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture.html#key-components">Key Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture.html#component-details">Component Details</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../architecture.html#stepredispool">StepRedisPool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../architecture.html#stepredisstream">StepRedisStream</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../architecture.html#package-integration">Package Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture.html#usage-patterns">Usage Patterns</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../architecture.html#example-usage">Example Usage</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../architecture.html#error-handling">Error Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture.html#design-considerations">Design Considerations</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="step_redis.html">step_redis package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="step_redis.html#submodules">Submodules</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="step_redis.step_redis_pool.html">step_redis.step_redis_pool module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPool"><code class="docutils literal notranslate"><span class="pre">StepRedisPool</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPool.params"><code class="docutils literal notranslate"><span class="pre">StepRedisPool.params</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPool.logger"><code class="docutils literal notranslate"><span class="pre">StepRedisPool.logger</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPool.__aenter__"><code class="docutils literal notranslate"><span class="pre">StepRedisPool.__aenter__()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPool.__aexit__"><code class="docutils literal notranslate"><span class="pre">StepRedisPool.__aexit__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams.host"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams.host</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams.port"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams.port</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams.username"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams.username</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams.password"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams.password</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams.db"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams.db</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams.socket_timeout"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams.socket_timeout</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams.socket_connect_timeout"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams.socket_connect_timeout</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams.socket_keep_idle"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams.socket_keep_idle</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams.socket_keep_alive"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams.socket_keep_alive</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams.socket_keep_cnt"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams.socket_keep_cnt</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams.ssl_enable"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams.ssl_enable</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams.ssl_client_key_file"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams.ssl_client_key_file</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams.ssl_client_key_file_password"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams.ssl_client_key_file_password</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams.ssl_client_cert_file"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams.ssl_client_cert_file</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams.ssl_cert_requested"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams.ssl_cert_requested</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams.ssl_ca_certs_file"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams.ssl_ca_certs_file</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams.health_check_interval"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams.health_check_interval</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams.max_connections"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams.max_connections</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams.connection_available_timeout"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams.connection_available_timeout</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPoolParams.protocol"><code class="docutils literal notranslate"><span class="pre">StepRedisPoolParams.protocol</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">step_redis.step_redis_stream module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#step_redis.step_redis_stream.StepRedisStream"><code class="docutils literal notranslate"><span class="pre">StepRedisStream</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="#step_redis.step_redis_stream.StepRedisStream.logger"><code class="docutils literal notranslate"><span class="pre">StepRedisStream.logger</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#step_redis.step_redis_stream.StepRedisStream.redis"><code class="docutils literal notranslate"><span class="pre">StepRedisStream.redis</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#step_redis.step_redis_stream.StepRedisStream.__aenter__"><code class="docutils literal notranslate"><span class="pre">StepRedisStream.__aenter__()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#step_redis.step_redis_stream.StepRedisStream.__aexit__"><code class="docutils literal notranslate"><span class="pre">StepRedisStream.__aexit__()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#step_redis.step_redis_stream.StepRedisStream.create_input_stream"><code class="docutils literal notranslate"><span class="pre">StepRedisStream.create_input_stream()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#step_redis.step_redis_stream.StepRedisStream.get_stream_ttl"><code class="docutils literal notranslate"><span class="pre">StepRedisStream.get_stream_ttl()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#step_redis.step_redis_stream.StepRedisStream.ping"><code class="docutils literal notranslate"><span class="pre">StepRedisStream.ping()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#step_redis.step_redis_stream.StepRedisStream.publish_message"><code class="docutils literal notranslate"><span class="pre">StepRedisStream.publish_message()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#step_redis.step_redis_stream.StepRedisStream.receive_message"><code class="docutils literal notranslate"><span class="pre">StepRedisStream.receive_message()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#step_redis.step_redis_stream.StepRedisStream.update_stream_ttl"><code class="docutils literal notranslate"><span class="pre">StepRedisStream.update_stream_ttl()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../test_rst/test.html">Unit Test package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../test_rst/test.html#submodules">Submodules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../test_rst/test.test_step_redis_init.html">test.test_step_redis_init module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../test_rst/test.test_step_redis_init.html#test.test_step_redis_init.TestStepRedisPackage"><code class="docutils literal notranslate"><span class="pre">TestStepRedisPackage</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../test_rst/test.test_step_redis_init.html#test.test_step_redis_init.TestStepRedisPackage.test_package_exports"><code class="docutils literal notranslate"><span class="pre">TestStepRedisPackage.test_package_exports()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../test_rst/test.test_step_redis_init.html#test.test_step_redis_init.TestStepRedisPackage.test_version"><code class="docutils literal notranslate"><span class="pre">TestStepRedisPackage.test_version()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../test_rst/test.test_step_redis_pool.html">test.test_step_redis_pool module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../test_rst/test.test_step_redis_pool.html#test.test_step_redis_pool.TestStepRedisPool"><code class="docutils literal notranslate"><span class="pre">TestStepRedisPool</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../test_rst/test.test_step_redis_pool.html#test.test_step_redis_pool.TestStepRedisPool.mock_logger"><code class="docutils literal notranslate"><span class="pre">TestStepRedisPool.mock_logger()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../test_rst/test.test_step_redis_pool.html#test.test_step_redis_pool.TestStepRedisPool.redis_params_no_ssl"><code class="docutils literal notranslate"><span class="pre">TestStepRedisPool.redis_params_no_ssl()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../test_rst/test.test_step_redis_pool.html#test.test_step_redis_pool.TestStepRedisPool.redis_params_ssl"><code class="docutils literal notranslate"><span class="pre">TestStepRedisPool.redis_params_ssl()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../test_rst/test.test_step_redis_pool.html#test.test_step_redis_pool.TestStepRedisPool.test_async_context_manager"><code class="docutils literal notranslate"><span class="pre">TestStepRedisPool.test_async_context_manager()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../test_rst/test.test_step_redis_pool.html#test.test_step_redis_pool.TestStepRedisPool.test_init_with_ssl"><code class="docutils literal notranslate"><span class="pre">TestStepRedisPool.test_init_with_ssl()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../test_rst/test.test_step_redis_pool.html#test.test_step_redis_pool.TestStepRedisPool.test_init_without_ssl"><code class="docutils literal notranslate"><span class="pre">TestStepRedisPool.test_init_without_ssl()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../test_rst/test.test_step_redis_pool.html#test.test_step_redis_pool.TestStepRedisPoolParams"><code class="docutils literal notranslate"><span class="pre">TestStepRedisPoolParams</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../test_rst/test.test_step_redis_pool.html#test.test_step_redis_pool.TestStepRedisPoolParams.redis_params_no_ssl"><code class="docutils literal notranslate"><span class="pre">TestStepRedisPoolParams.redis_params_no_ssl()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../test_rst/test.test_step_redis_pool.html#test.test_step_redis_pool.TestStepRedisPoolParams.redis_params_ssl"><code class="docutils literal notranslate"><span class="pre">TestStepRedisPoolParams.redis_params_ssl()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../test_rst/test.test_step_redis_pool.html#test.test_step_redis_pool.TestStepRedisPoolParams.test_redis_pool_params_init_no_ssl"><code class="docutils literal notranslate"><span class="pre">TestStepRedisPoolParams.test_redis_pool_params_init_no_ssl()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../test_rst/test.test_step_redis_pool.html#test.test_step_redis_pool.TestStepRedisPoolParams.test_redis_pool_params_init_ssl"><code class="docutils literal notranslate"><span class="pre">TestStepRedisPoolParams.test_redis_pool_params_init_ssl()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../test_rst/test.test_step_redis_stream.html">test.test_step_redis_stream module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../test_rst/test.test_step_redis_stream.html#test.test_step_redis_stream.TestStepRedisStream"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../test_rst/test.test_step_redis_stream.html#test.test_step_redis_stream.TestStepRedisStream.mock_logger"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.mock_logger()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../test_rst/test.test_step_redis_stream.html#test.test_step_redis_stream.TestStepRedisStream.mock_pool"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.mock_pool()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../test_rst/test.test_step_redis_stream.html#test.test_step_redis_stream.TestStepRedisStream.mock_redis"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.mock_redis()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../test_rst/test.test_step_redis_stream.html#test.test_step_redis_stream.TestStepRedisStream.test_context"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_context()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../test_rst/test.test_step_redis_stream.html#test.test_step_redis_stream.TestStepRedisStream.test_create_input_stream_exception"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_create_input_stream_exception()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../test_rst/test.test_step_redis_stream.html#test.test_step_redis_stream.TestStepRedisStream.test_create_input_stream_group_exists"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_create_input_stream_group_exists()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../test_rst/test.test_step_redis_stream.html#test.test_step_redis_stream.TestStepRedisStream.test_create_input_stream_redis_exception"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_create_input_stream_redis_exception()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../test_rst/test.test_step_redis_stream.html#test.test_step_redis_stream.TestStepRedisStream.test_create_input_stream_success"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_create_input_stream_success()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../test_rst/test.test_step_redis_stream.html#test.test_step_redis_stream.TestStepRedisStream.test_create_input_stream_with_ttl"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_create_input_stream_with_ttl()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../test_rst/test.test_step_redis_stream.html#test.test_step_redis_stream.TestStepRedisStream.test_get_stream_ttl_exists_no_expiration"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_get_stream_ttl_exists_no_expiration()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../test_rst/test.test_step_redis_stream.html#test.test_step_redis_stream.TestStepRedisStream.test_get_stream_ttl_exists_with_expiration"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_get_stream_ttl_exists_with_expiration()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../test_rst/test.test_step_redis_stream.html#test.test_step_redis_stream.TestStepRedisStream.test_get_stream_ttl_nonexistent_stream"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_get_stream_ttl_nonexistent_stream()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../test_rst/test.test_step_redis_stream.html#test.test_step_redis_stream.TestStepRedisStream.test_init"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_init()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../test_rst/test.test_step_redis_stream.html#test.test_step_redis_stream.TestStepRedisStream.test_ping_success"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_ping_success()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../test_rst/test.test_step_redis_stream.html#test.test_step_redis_stream.TestStepRedisStream.test_publish_message_exception"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_publish_message_exception()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../test_rst/test.test_step_redis_stream.html#test.test_step_redis_stream.TestStepRedisStream.test_publish_message_success"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_publish_message_success()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../test_rst/test.test_step_redis_stream.html#test.test_step_redis_stream.TestStepRedisStream.test_receive_message_keyerror"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_receive_message_keyerror()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../test_rst/test.test_step_redis_stream.html#test.test_step_redis_stream.TestStepRedisStream.test_receive_message_stream_wrong"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_receive_message_stream_wrong()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../test_rst/test.test_step_redis_stream.html#test.test_step_redis_stream.TestStepRedisStream.test_receive_message_success"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_receive_message_success()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../test_rst/test.test_step_redis_stream.html#test.test_step_redis_stream.TestStepRedisStream.test_receive_message_timeout"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_receive_message_timeout()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../test_rst/test.test_step_redis_stream.html#test.test_step_redis_stream.TestStepRedisStream.test_receive_message_with_ttl"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_receive_message_with_ttl()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../test_rst/test.test_step_redis_stream.html#test.test_step_redis_stream.TestStepRedisStream.test_update_stream_ttl_exception"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_update_stream_ttl_exception()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../test_rst/test.test_step_redis_stream.html#test.test_step_redis_stream.TestStepRedisStream.test_update_stream_ttl_failure"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_update_stream_ttl_failure()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../test_rst/test.test_step_redis_stream.html#test.test_step_redis_stream.TestStepRedisStream.test_update_stream_ttl_success"><code class="docutils literal notranslate"><span class="pre">TestStepRedisStream.test_update_stream_ttl_success()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">STEP Redis</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="step_redis.html">step_redis package</a></li>
      <li class="breadcrumb-item active">step_redis.step_redis_stream module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/step_redis_rst/step_redis.step_redis_stream.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-step_redis.step_redis_stream">
<span id="step-redis-step-redis-stream-module"></span><h1>step_redis.step_redis_stream module<a class="headerlink" href="#module-step_redis.step_redis_stream" title="Link to this heading"></a></h1>
<p>Redis Stream Module for asynchronous message processing.</p>
<p>This module provides a comprehensive interface for working with Redis Streams using
asynchronous context management. Redis Streams are an append-only data structure
that allows for high-throughput pub/sub messaging with consumer groups and
persistence capabilities.</p>
<p>The StepRedisStream class offers functionality for:</p>
<blockquote>
<div><ul class="simple">
<li><p>Creating and managing Redis streams with consumer groups</p></li>
<li><p>Publishing messages to streams with configurable max length</p></li>
<li><p>Consuming messages from streams with proper acknowledgment handling</p></li>
<li><p>Setting and managing Time-To-Live (TTL) for streams</p></li>
<li><p>Connection health monitoring via ping commands</p></li>
</ul>
</div></blockquote>
<p>This module is designed to be used in asynchronous Python applications that require
reliable message passing with persistence and consumer group capabilities. It supports
the async/await syntax and is intended to be used as an async context manager.</p>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">asyncio</span>
<span class="gp">... </span><span class="kn">import</span><span class="w"> </span><span class="nn">logging</span>
<span class="gp">... </span><span class="kn">from</span><span class="w"> </span><span class="nn">step_redis.step_redis_pool</span><span class="w"> </span><span class="kn">import</span> <span class="n">StepRedisPool</span>
<span class="gp">... </span><span class="kn">from</span><span class="w"> </span><span class="nn">step_redis.step_redis_stream</span><span class="w"> </span><span class="kn">import</span> <span class="n">StepRedisStream</span>
<span class="gp">...</span>
<span class="gp">... </span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
<span class="gp">... </span>   <span class="c1">#Setup logging</span>
<span class="gp">... </span>   <span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>
<span class="gp">... </span>   <span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;redis_example&quot;</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">... </span>   <span class="c1"># Create a Redis pool</span>
<span class="gp">... </span>   <span class="n">pool</span> <span class="o">=</span> <span class="n">StepRedisPool</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s2">&quot;localhost&quot;</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">6379</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">... </span>   <span class="c1"># Use the stream as a context manager</span>
<span class="gp">... </span>   <span class="k">async</span> <span class="k">with</span> <span class="n">StepRedisStream</span><span class="p">(</span><span class="n">pool</span><span class="p">,</span> <span class="n">logger</span><span class="p">)</span> <span class="k">as</span> <span class="n">stream</span><span class="p">:</span>
<span class="gp">... </span>       <span class="c1"># Create a stream with a consumer group</span>
<span class="gp">... </span>       <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">create_input_stream</span><span class="p">(</span><span class="s2">&quot;my_stream&quot;</span><span class="p">,</span> <span class="s2">&quot;my_group&quot;</span><span class="p">,</span> <span class="n">ttl_seconds</span><span class="o">=</span><span class="mi">3600</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">... </span>       <span class="c1"># Publish a message</span>
<span class="gp">... </span>       <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">publish_message</span><span class="p">(</span><span class="s2">&quot;my_stream&quot;</span><span class="p">,</span> <span class="s2">&quot;Hello, Redis!&quot;</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">... </span>       <span class="c1"># Consume a message</span>
<span class="gp">... </span>       <span class="n">message</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">receive_message</span><span class="p">(</span>
<span class="gp">... </span>           <span class="s2">&quot;my_stream&quot;</span><span class="p">,</span> <span class="s2">&quot;my_group&quot;</span><span class="p">,</span> <span class="s2">&quot;consumer1&quot;</span><span class="p">,</span> <span class="mi">5000</span><span class="p">,</span> <span class="n">ttl_seconds</span><span class="o">=</span><span class="mi">3600</span>
<span class="gp">... </span>       <span class="p">)</span>
<span class="gp">... </span>       <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Received: </span><span class="si">{</span><span class="n">message</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">... </span><span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
</pre></div>
</div>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="step_redis.step_redis_stream.StepRedisStream">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">step_redis.step_redis_stream.</span></span><span class="sig-name descname"><span class="pre">StepRedisStream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="step_redis.step_redis_pool.html#step_redis.step_redis_pool.StepRedisPool" title="step_redis.step_redis_pool.StepRedisPool"><span class="pre">StepRedisPool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Logger</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/step_redis/step_redis_stream.html#StepRedisStream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#step_redis.step_redis_stream.StepRedisStream" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class for interacting with Redis streams using async context management. This
class provides methods for creating Redis streams, publishing messages to them, and
consuming messages from them. It’s designed to be used as an async context manager.</p>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">with</span> <span class="n">StepRedisStream</span><span class="p">(</span><span class="n">redis_pool</span><span class="p">,</span> <span class="n">logger</span><span class="p">)</span> <span class="k">as</span> <span class="n">stream</span><span class="p">:</span>
<span class="gp">... </span>   <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">create_input_stream</span><span class="p">(</span><span class="s2">&quot;my_stream&quot;</span><span class="p">,</span> <span class="s2">&quot;my_group&quot;</span><span class="p">)</span>
<span class="gp">... </span>   <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">publish_message</span><span class="p">(</span><span class="s2">&quot;my_stream&quot;</span><span class="p">,</span> <span class="s2">&quot;Hello, Redis!&quot;</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="gp">... </span>   <span class="n">message</span> <span class="o">=</span> <span class="k">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">receive_message</span><span class="p">(</span><span class="s2">&quot;my_stream&quot;</span><span class="p">,</span> <span class="s2">&quot;my_group&quot;</span><span class="p">,</span> <span class="s2">&quot;consumer1&quot;</span><span class="p">,</span> <span class="mi">5000</span><span class="p">)</span>
</pre></div>
</div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="step_redis.step_redis_stream.StepRedisStream.logger">
<span class="sig-name descname"><span class="pre">logger</span></span><a class="headerlink" href="#step_redis.step_redis_stream.StepRedisStream.logger" title="Link to this definition"></a></dt>
<dd><p>Logger instance for recording events and debug information.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Logger</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="step_redis.step_redis_stream.StepRedisStream.redis">
<span class="sig-name descname"><span class="pre">redis</span></span><a class="headerlink" href="#step_redis.step_redis_stream.StepRedisStream.redis" title="Link to this definition"></a></dt>
<dd><p>Redis client instance used for stream operations.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Redis</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="step_redis.step_redis_stream.StepRedisStream.__aenter__">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">__aenter__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#step_redis.step_redis_stream.StepRedisStream" title="step_redis.step_redis_stream.StepRedisStream"><span class="pre">StepRedisStream</span></a></span></span><a class="reference internal" href="../_modules/step_redis/step_redis_stream.html#StepRedisStream.__aenter__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#step_redis.step_redis_stream.StepRedisStream.__aenter__" title="Link to this definition"></a></dt>
<dd><p>Asynchronous context manager entry method.</p>
<p>This method is called when entering the context manager (‘async with’ statement).
It logs a debug message, creates the Redis input stream, and returns the instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The current instance for use in the context.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#step_redis.step_redis_stream.StepRedisStream" title="step_redis.step_redis_stream.StepRedisStream">StepRedisStream</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="step_redis.step_redis_stream.StepRedisStream.__aexit__">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">__aexit__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exc_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exc_value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">traceback</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/step_redis/step_redis_stream.html#StepRedisStream.__aexit__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#step_redis.step_redis_stream.StepRedisStream.__aexit__" title="Link to this definition"></a></dt>
<dd><p>Asynchronously exits the Redis stream context manager, closing the Redis
connection.</p>
<p>This method is called when exiting the context manager using an ‘async with’ statement.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exc_type</strong> (<em>Any</em>) – The exception type if an exception was raised in the context,
otherwise None.</p></li>
<li><p><strong>exc_value</strong> (<em>Any</em>) – The exception value if an exception was raised in the context,
otherwise None.</p></li>
<li><p><strong>traceback</strong> (<em>Any</em>) – The traceback if an exception was raised in the context,
otherwise None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>This method doesn’t return anything.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method logs a debug message and closes the Redis connection asynchronously.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="step_redis.step_redis_stream.StepRedisStream.create_input_stream">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">create_input_stream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ttl_seconds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/step_redis/step_redis_stream.html#StepRedisStream.create_input_stream"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#step_redis.step_redis_stream.StepRedisStream.create_input_stream" title="Link to this definition"></a></dt>
<dd><p>Creates an input stream with a consumer group in Redis.</p>
<p>This method creates a new Redis stream with a specified ID and associates it with a
consumer group. If the consumer group already exists, the method logs this information
and continues without error. Optionally, a time-to-live (TTL) can be set for the stream.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stream_id</strong> – The identifier for the Redis stream to create</p></li>
<li><p><strong>group_id</strong> – The identifier for the consumer group to create/associate with the stream</p></li>
<li><p><strong>ttl_seconds</strong> – Optional; The number of seconds until the stream expires, if specified</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>RedisResponseError</strong> – If there’s an error with the Redis operation other than the consumer
    group already existing</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="step_redis.step_redis_stream.StepRedisStream.get_stream_ttl">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_stream_ttl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="../_modules/step_redis/step_redis_stream.html#StepRedisStream.get_stream_ttl"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#step_redis.step_redis_stream.StepRedisStream.get_stream_ttl" title="Link to this definition"></a></dt>
<dd><p>Get the remaining Time-To-Live (TTL) in seconds for a Redis stream.</p>
<p>This method retrieves the remaining TTL for a Redis stream. It uses the Redis TTL
command which returns the remaining time to live for a key in seconds.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>stream_id</strong> (<em>str</em>) – The identifier of the Redis stream to check</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The number of seconds until the stream expires.
Returns -2 if the stream doesn’t exist.
Returns -1 if the stream exists but has no associated TTL (will not expire).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A return value of -2 indicates the key does not exist.
A return value of -1 indicates the key exists but has no associated expiration.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="step_redis.step_redis_stream.StepRedisStream.ping">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ping</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/step_redis/step_redis_stream.html#StepRedisStream.ping"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#step_redis.step_redis_stream.StepRedisStream.ping" title="Link to this definition"></a></dt>
<dd><p>Send a ping command to the Redis server and check for a response.</p>
<p>This method is useful for checking if the Redis connection is active and
responding properly. It sends a PING command to the Redis server and expects
a “PONG” response.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method logs debug information about the ping attempt and any errors
that might occur during the operation.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="step_redis.step_redis_stream.StepRedisStream.publish_message">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">publish_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream_max_len</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/step_redis/step_redis_stream.html#StepRedisStream.publish_message"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#step_redis.step_redis_stream.StepRedisStream.publish_message" title="Link to this definition"></a></dt>
<dd><p>Publish a message to a Redis stream.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stream_id</strong> (<em>str</em>) – The identifier of the Redis stream.</p></li>
<li><p><strong>message</strong> (<em>str</em>) – The message to publish.</p></li>
<li><p><strong>stream_max_len</strong> (<em>int</em>) – Truncate old stream members beyond this size.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method adds a message to a Redis stream with the given ID.
The message is added as a field named ‘payload’ in the stream entry.
The stream length is limited to stream_max_len entries.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="step_redis.step_redis_stream.StepRedisStream.receive_message">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">receive_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consumer_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">block_timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ttl_seconds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/step_redis/step_redis_stream.html#StepRedisStream.receive_message"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#step_redis.step_redis_stream.StepRedisStream.receive_message" title="Link to this definition"></a></dt>
<dd><p>Receives a message from a specified Redis stream using consumer groups.</p>
<p>This method continuously attempts to read a message from a Redis stream using the specified
consumer group and consumer.
It will keep trying until a message is successfully received and processed. If a TTL
is provided, it updates the stream’s time-to-live after each attempt.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stream_id</strong> (<em>str</em>) – The ID of the Redis stream to read from.</p></li>
<li><p><strong>group_id</strong> (<em>str</em>) – The consumer group ID.</p></li>
<li><p><strong>consumer_name</strong> (<em>str</em>) – The name of the consumer in the group.</p></li>
<li><p><strong>block_timeout</strong> (<em>int</em>) – Maximum time in milliseconds to block waiting for a message.</p></li>
<li><p><strong>ttl_seconds</strong> (<em>Optional</em><em>[</em><em>int</em><em>]</em><em>, </em><em>optional</em>) – Time-to-live in seconds to set for the stream.
If provided, the stream’s TTL will be updated after each read attempt.
Defaults to None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The payload of the received message.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>RedisTimeoutError</strong> – Caught and logged when the block timeout is reached.</p></li>
<li><p><strong>KeyError</strong> – Caught and logged when there’s an issue with the response structure.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method uses ‘noack=True’ which means that messages are automatically acknowledged
upon delivery and not added to the pending entries list.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="step_redis.step_redis_stream.StepRedisStream.update_stream_ttl">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">update_stream_ttl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ttl_seconds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="../_modules/step_redis/step_redis_stream.html#StepRedisStream.update_stream_ttl"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#step_redis.step_redis_stream.StepRedisStream.update_stream_ttl" title="Link to this definition"></a></dt>
<dd><p>Update the Time-To-Live (TTL) expiration for an existing Redis stream.</p>
<p>This method updates the TTL expiration for an existing Redis stream. It uses the
Redis EXPIRE command which will either set a new TTL if none exists, or replace an
existing TTL with the new value. This is useful for refreshing the expiration time
for active streams that should persist longer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stream_id</strong> (<em>str</em>) – The identifier of the Redis stream to update TTL for</p></li>
<li><p><strong>ttl_seconds</strong> (<em>optional</em><em>[</em><em>int</em><em>]</em>) – The number of seconds until the stream should expire
Must be a positive integer</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the TTL was successfully updated, False otherwise
(False typically means the stream key doesn’t exist)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If ttl_seconds is less than or equal to zero</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="step_redis.step_redis_pool.html" class="btn btn-neutral float-left" title="step_redis.step_redis_pool module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../test_rst/test.html" class="btn btn-neutral float-right" title="Unit Test package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Vodafone Automotive.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>