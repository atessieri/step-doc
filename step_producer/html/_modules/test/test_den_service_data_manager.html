

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>test.test_den_service_data_manager &mdash; STEP Producer 1.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/tabs.css?v=4c969af8" />
      <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=5b54ee2a" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=292eb321"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/tabs.js?v=3ee01567"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            STEP Producer
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">STEP Producer:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../overview.html">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../overview.html#purpose">Purpose</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../overview.html#key-features">Key Features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../overview.html#message-processing">Message Processing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../overview.html#data-management">Data Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../overview.html#configuration-and-monitoring">Configuration and Monitoring</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../overview.html#core-components">Core Components</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../overview.html#den-service-manager">DEN Service Manager</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../overview.html#den-service-data-manager">DEN Service Data Manager</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../overview.html#redis-integration">Redis Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../overview.html#configuration-system">Configuration System</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../overview.html#logging-infrastructure">Logging Infrastructure</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../overview.html#architecture">Architecture</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../overview.html#event-driven-processing">Event-Driven Processing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../overview.html#asynchronous-operations">Asynchronous Operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../overview.html#message-flow">Message Flow</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../overview.html#standards-compliance">Standards Compliance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../overview.html#dependencies">Dependencies</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../overview.html#core-dependencies">Core Dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../overview.html#development-dependencies">Development Dependencies</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../overview.html#deployment">Deployment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../overview.html#usage-patterns">Usage Patterns</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../overview.html#service-mode">Service Mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../overview.html#configuration-generation">Configuration Generation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../overview.html#integration-mode">Integration Mode</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../overview.html#performance-considerations">Performance Considerations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../overview.html#testing">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../overview.html#getting-started">Getting Started</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../installation.html#installing-from-pypi">Installing from PyPI</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../commands.html">Command Line Interface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../commands.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../commands.html#basic-usage">Basic Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../commands.html#options">Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../commands.html#detailed-command-description">Detailed Command Description</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../commands.html#help-command">Help Command</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../commands.html#version-command">Version Command</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../commands.html#configuration-schema-generation">Configuration Schema Generation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../commands.html#configuration-template-generation">Configuration Template Generation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../commands.html#running-with-configuration">Running with Configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../commands.html#configuration-file-structure">Configuration File Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../commands.html#exit-codes">Exit Codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../commands.html#examples">Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../commands.html#program-operation">Program Operation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../commands.html#advanced-usage">Advanced Usage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../commands.html#signal-handling">Signal Handling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../commands.html#logging">Logging</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../usage.html">STEP Producer Usage Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../usage.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../usage.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../usage.html#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../usage.html#basic-concepts">Basic Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../usage.html#configuration">Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../usage.html#creating-a-configuration-file">Creating a Configuration File</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../usage.html#key-configuration-parameters">Key Configuration Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../usage.html#example-configuration">Example Configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../usage.html#running-step-producer-as-a-service">Running STEP Producer as a Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../usage.html#command-line-options">Command-Line Options</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../package_script.html">Package Script</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../package_script.html#create-environment">Create environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../package_script.html#make">Make</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../package_script.html#pdf-conversion">PDF conversion</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../architecture.html">Architecture</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../architecture.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture.html#library">Library</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../architecture.html#core-dependencies">Core Dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../architecture.html#architecture-integration">Architecture Integration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture.html#components">Components</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../architecture.html#denservicemanager">DenServiceManager</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../architecture.html#denservicedatamanager">DenServiceDataManager</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../architecture.html#stepproducerconfig">StepProducerConfig</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../architecture.html#stepproducerredispool-and-stepproducerredisstream">StepProducerRedisPool and StepProducerRedisStream</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../architecture.html#steplogger">StepLogger</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../architecture.html#stepinterruptexception">StepInterruptException</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../architecture.html#component-diagram">Component Diagram</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture.html#class-diagram">Class Diagram</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture.html#sequence-diagrams">Sequence Diagrams</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../architecture.html#denm-creation-and-publication">DENM creation and publication</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../architecture.html#denm-negation">DENM negation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture.html#performance-considerations">Performance Considerations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../architecture.html#data-structure-performance-characteristics">Data Structure Performance Characteristics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../architecture.html#collision-message-processing-performance">Collision Message Processing Performance</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../architecture.html#denm-negation-processing-performance">DENM Negation Processing Performance</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../architecture.html#periodic-cleanup-performance">Periodic Cleanup Performance</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../architecture.html#bottleneck-analysis">Bottleneck Analysis</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../schemas_rst/json_schemas.html">JSON Schemas</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../schemas_rst/json_schemas.html#input-message-schema">Input Message Schema</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../schemas_rst/cloud_events_step_producer_schema.html">STEP Producer Schema</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../schemas_rst/cloud_events_step_producer_schema.html#cloud-event-step-producer">Cloud Event STEP Producer</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_producer_schema.html#action-id">Action Id</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_producer_schema.html#reference-altitude">Reference Altitude</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_producer_schema.html#cause-code">Cause Code</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_producer_schema.html#cloud-event-data-content-types">Cloud Event Data Content Types</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_producer_schema.html#denm-data-version-1">DENM Data Version 1</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_producer_schema.html#drive-direction">Drive Direction</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_producer_schema.html#heading">Heading</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_producer_schema.html#identification">Identification</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_producer_schema.html#location-container">Location Container</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_producer_schema.html#denm-management-container">DENM Management Container</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_producer_schema.html#object-dimension">Object Dimension</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_producer_schema.html#object-face">Object Face</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_producer_schema.html#perceived-object">Perceived Object</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_producer_schema.html#position-confidence-ellipse">Position Confidence Ellipse</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_producer_schema.html#position-info">Position Info</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_producer_schema.html#position-type">Position Type</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_producer_schema.html#pre-crash-container">Pre-Crash Container</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_producer_schema.html#cloud-event-denm-data-v1">Cloud Event DENM Data V1</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_producer_schema.html#cloud-event-station-collision-array-data-v1">Cloud Event Station Collision Array Data V1</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_producer_schema.html#reference-position">Reference Position</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_producer_schema.html#road-type">Road Type</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_producer_schema.html#situation-container">Situation Container</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_producer_schema.html#cloudevents-specification-version">CloudEvents Specification Version</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_producer_schema.html#speed">Speed</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_producer_schema.html#station-collision-array-version-1">Station Collision Array Version 1</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_producer_schema.html#denm-termination-type">DENM Termination Type</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_producer_schema.html#traffic-direction-type">Traffic Direction Type</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_producer_schema.html#traffic-participant-type">Traffic Participant Type</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../schemas_rst/json_schemas.html#output-message-schema">Output Message Schema</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../schemas_rst/cloud_events_step_client_schema.html">STEP Client Schema</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../schemas_rst/cloud_events_step_client_schema.html#cloud-events-step-client">Cloud Events STEP Client</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_client_schema.html#action-id">Action Id</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_client_schema.html#reference-altitude">Reference Altitude</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_client_schema.html#cause-code">Cause Code</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_client_schema.html#cloud-event-denm-data-v1">Cloud Event DENM Data V1</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_client_schema.html#cloud-event-data-content-types">Cloud Event Data Content Types</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_client_schema.html#denm-data-version-1">DENM Data Version 1</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_client_schema.html#heading">Heading</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_client_schema.html#location-container">Location Container</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_client_schema.html#denm-management-container">DENM Management Container</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_client_schema.html#object-dimension">Object Dimension</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_client_schema.html#object-face">Object Face</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_client_schema.html#perceived-object">Perceived Object</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_client_schema.html#position-confidence-ellipse">Position Confidence Ellipse</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_client_schema.html#pre-crash-container">Pre-Crash Container</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_client_schema.html#reference-position">Reference Position</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_client_schema.html#road-type">Road Type</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_client_schema.html#situation-container">Situation Container</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_client_schema.html#cloudevents-specification-version">CloudEvents Specification Version</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_client_schema.html#speed">Speed</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_client_schema.html#denm-termination-type">DENM Termination Type</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_client_schema.html#traffic-direction-type">Traffic Direction Type</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/cloud_events_step_client_schema.html#traffic-participant-type">Traffic Participant Type</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../schemas_rst/json_schemas.html#its-message-schema">ITS Message Schema</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../schemas_rst/denm_message.html">DENM Message</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../schemas_rst/denm_data_v1_schema.html">DENM Data V1 Schema</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/denm_data_v1_schema.html#denm-data-version-1">DENM Data Version 1</a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../schemas_rst/denm_data_v1_schema.html#action-id">Action Id</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../schemas_rst/denm_data_v1_schema.html#reference-altitude">Reference Altitude</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../schemas_rst/denm_data_v1_schema.html#cause-code">Cause Code</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../schemas_rst/denm_data_v1_schema.html#heading">Heading</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../schemas_rst/denm_data_v1_schema.html#location-container">Location Container</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../schemas_rst/denm_data_v1_schema.html#denm-management-container">DENM Management Container</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../schemas_rst/denm_data_v1_schema.html#object-dimension">Object Dimension</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../schemas_rst/denm_data_v1_schema.html#object-face">Object Face</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../schemas_rst/denm_data_v1_schema.html#perceived-object">Perceived Object</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../schemas_rst/denm_data_v1_schema.html#position-confidence-ellipse">Position Confidence Ellipse</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../schemas_rst/denm_data_v1_schema.html#pre-crash-container">Pre-Crash Container</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../schemas_rst/denm_data_v1_schema.html#reference-position">Reference Position</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../schemas_rst/denm_data_v1_schema.html#road-type">Road Type</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../schemas_rst/denm_data_v1_schema.html#situation-container">Situation Container</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../schemas_rst/denm_data_v1_schema.html#speed">Speed</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../schemas_rst/denm_data_v1_schema.html#denm-termination-type">DENM Termination Type</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../schemas_rst/denm_data_v1_schema.html#traffic-direction-type">Traffic Direction Type</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../schemas_rst/denm_data_v1_schema.html#traffic-participant-type">Traffic Participant Type</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../schemas_rst/json_schemas.html#configuration-schema">Configuration Schema</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../schemas_rst/step_producer_config_schema.html">STEP Producer Config V1 Schema</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../schemas_rst/step_producer_config_schema.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../schemas_rst/step_producer_config_schema.html#features-and-benefits">Features and Benefits</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../schemas_rst/step_producer_config_schema.html#example">Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../schemas_rst/step_producer_config_schema.html#json-schema">JSON Schema</a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../schemas_rst/step_producer_config_schema.html#step-producer-configuration">STEP Producer Configuration</a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../schemas_rst/step_producer_config_schema.html#log-configuration">Log Configuration</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../schemas_rst/step_producer_config_schema.html#log-file-handler">Log File Handler</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../schemas_rst/step_producer_config_schema.html#log-interval-type">Log Interval Type</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../schemas_rst/step_producer_config_schema.html#logging-level">Logging Level</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../schemas_rst/step_producer_config_schema.html#log-null-handler">Log Null Handler</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../schemas_rst/step_producer_config_schema.html#log-size-file-rotate-handler">Log Size File Rotate Handler</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../schemas_rst/step_producer_config_schema.html#log-stream-handler">Log Stream Handler</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../schemas_rst/step_producer_config_schema.html#log-time-file-rotate-handler">Log Time File Rotate Handler</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../schemas_rst/step_producer_config_schema.html#redis-configuration">Redis Configuration</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../schemas_rst/step_producer_config_schema.html#redis-connection-configuration">Redis Connection Configuration</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../schemas_rst/step_producer_config_schema.html#redis-stream-input-configuration">Redis Stream Input Configuration</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../schemas_rst/step_producer_config_schema.html#redis-stream-output-configuration">Redis Stream Output Configuration</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../schemas_rst/step_producer_config_schema.html#redis-stream-outputs-configuration">Redis Stream Outputs Configuration</a></li>
<li class="toctree-l6"><a class="reference internal" href="../../schemas_rst/step_producer_config_schema.html#redis-stream-configuration">Redis Stream Configuration</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../step_producer_rst/step_producer.html">step_producer package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../step_producer_rst/step_producer.html#submodules">Submodules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../step_producer_rst/step_producer.den_service_data_manager.html">step_producer.den_service_data_manager module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../step_producer_rst/step_producer.den_service_data_manager.html#step_producer.den_service_data_manager.DenServiceDataManager"><code class="docutils literal notranslate"><span class="pre">DenServiceDataManager</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.den_service_data_manager.html#step_producer.den_service_data_manager.DenServiceDataManager.station_id"><code class="docutils literal notranslate"><span class="pre">DenServiceDataManager.station_id</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.den_service_data_manager.html#step_producer.den_service_data_manager.DenServiceDataManager.time_after_collision"><code class="docutils literal notranslate"><span class="pre">DenServiceDataManager.time_after_collision</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.den_service_data_manager.html#step_producer.den_service_data_manager.DenServiceDataManager.denm_last_update_max_delay_ms"><code class="docutils literal notranslate"><span class="pre">DenServiceDataManager.denm_last_update_max_delay_ms</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.den_service_data_manager.html#step_producer.den_service_data_manager.DenServiceDataManager.denm_check_last_update_max_interval"><code class="docutils literal notranslate"><span class="pre">DenServiceDataManager.denm_check_last_update_max_interval</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.den_service_data_manager.html#step_producer.den_service_data_manager.DenServiceDataManager.logger"><code class="docutils literal notranslate"><span class="pre">DenServiceDataManager.logger</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.den_service_data_manager.html#step_producer.den_service_data_manager.DenServiceDataManager.get_denm_records_clean_reference_expired"><code class="docutils literal notranslate"><span class="pre">DenServiceDataManager.get_denm_records_clean_reference_expired()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.den_service_data_manager.html#step_producer.den_service_data_manager.DenServiceDataManager.get_interval_oldest_update_ms"><code class="docutils literal notranslate"><span class="pre">DenServiceDataManager.get_interval_oldest_update_ms()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.den_service_data_manager.html#step_producer.den_service_data_manager.DenServiceDataManager.insert_station_collision_array"><code class="docutils literal notranslate"><span class="pre">DenServiceDataManager.insert_station_collision_array()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.den_service_data_manager.html#step_producer.den_service_data_manager.DenServiceDataManager.remove_denm_record"><code class="docutils literal notranslate"><span class="pre">DenServiceDataManager.remove_denm_record()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../step_producer_rst/step_producer.den_service_manager.html">step_producer.den_service_manager module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../step_producer_rst/step_producer.den_service_manager.html#step_producer.den_service_manager.DenServiceManager"><code class="docutils literal notranslate"><span class="pre">DenServiceManager</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.den_service_manager.html#step_producer.den_service_manager.DenServiceManager.station_id"><code class="docutils literal notranslate"><span class="pre">DenServiceManager.station_id</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.den_service_manager.html#step_producer.den_service_manager.DenServiceManager.time_after_collision"><code class="docutils literal notranslate"><span class="pre">DenServiceManager.time_after_collision</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.den_service_manager.html#step_producer.den_service_manager.DenServiceManager.denm_last_update_max_delay_ms"><code class="docutils literal notranslate"><span class="pre">DenServiceManager.denm_last_update_max_delay_ms</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.den_service_manager.html#step_producer.den_service_manager.DenServiceManager.denm_check_last_update_max_interval"><code class="docutils literal notranslate"><span class="pre">DenServiceManager.denm_check_last_update_max_interval</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.den_service_manager.html#step_producer.den_service_manager.DenServiceManager.logger"><code class="docutils literal notranslate"><span class="pre">DenServiceManager.logger</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.den_service_manager.html#step_producer.den_service_manager.DenServiceManager.periodical_cleanup_run"><code class="docutils literal notranslate"><span class="pre">DenServiceManager.periodical_cleanup_run()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.den_service_manager.html#step_producer.den_service_manager.DenServiceManager.process_denm_record_received"><code class="docutils literal notranslate"><span class="pre">DenServiceManager.process_denm_record_received()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.den_service_manager.html#step_producer.den_service_manager.DenServiceManager.process_station_collisions_received"><code class="docutils literal notranslate"><span class="pre">DenServiceManager.process_station_collisions_received()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../step_producer_rst/step_producer.denm_record.html">step_producer.denm_record module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../step_producer_rst/step_producer.denm_record.html#step_producer.denm_record.DenmRecord"><code class="docutils literal notranslate"><span class="pre">DenmRecord</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.denm_record.html#step_producer.denm_record.DenmRecord.__eq__"><code class="docutils literal notranslate"><span class="pre">DenmRecord.__eq__()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.denm_record.html#step_producer.denm_record.DenmRecord.__hash__"><code class="docutils literal notranslate"><span class="pre">DenmRecord.__hash__()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.denm_record.html#step_producer.denm_record.DenmRecord.__lt__"><code class="docutils literal notranslate"><span class="pre">DenmRecord.__lt__()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.denm_record.html#step_producer.denm_record.DenmRecord.__repr__"><code class="docutils literal notranslate"><span class="pre">DenmRecord.__repr__()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.denm_record.html#step_producer.denm_record.DenmRecord.__str__"><code class="docutils literal notranslate"><span class="pre">DenmRecord.__str__()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.denm_record.html#step_producer.denm_record.DenmRecord.action_id_index"><code class="docutils literal notranslate"><span class="pre">DenmRecord.action_id_index</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.denm_record.html#step_producer.denm_record.DenmRecord.denm"><code class="docutils literal notranslate"><span class="pre">DenmRecord.denm</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.denm_record.html#step_producer.denm_record.DenmRecord.record_key"><code class="docutils literal notranslate"><span class="pre">DenmRecord.record_key</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.denm_record.html#step_producer.denm_record.DenmRecord.reference_time"><code class="docutils literal notranslate"><span class="pre">DenmRecord.reference_time</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../step_producer_rst/step_producer.step_exception.html">step_producer.step_exception module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../step_producer_rst/step_producer.step_exception.html#step_producer.step_exception.StepCliException"><code class="docutils literal notranslate"><span class="pre">StepCliException</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../step_producer_rst/step_producer.step_exception.html#step_producer.step_exception.StepInterruptException"><code class="docutils literal notranslate"><span class="pre">StepInterruptException</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../step_producer_rst/step_producer.step_logger.html">step_producer.step_logger module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../step_producer_rst/step_producer.step_logger.html#step_producer.step_logger.UtcFormatter"><code class="docutils literal notranslate"><span class="pre">UtcFormatter</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_logger.html#step_producer.step_logger.UtcFormatter.converter"><code class="docutils literal notranslate"><span class="pre">UtcFormatter.converter()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../step_producer_rst/step_producer.step_logger.html#step_producer.step_logger.get_logger"><code class="docutils literal notranslate"><span class="pre">get_logger()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html">step_producer.step_producer_config module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogConfig"><code class="docutils literal notranslate"><span class="pre">LogConfig</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogConfig.handler"><code class="docutils literal notranslate"><span class="pre">LogConfig.handler</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogConfig.level"><code class="docutils literal notranslate"><span class="pre">LogConfig.level</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogConfig.format"><code class="docutils literal notranslate"><span class="pre">LogConfig.format</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogConfig.dateFormat"><code class="docutils literal notranslate"><span class="pre">LogConfig.dateFormat</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogConfig.get_default"><code class="docutils literal notranslate"><span class="pre">LogConfig.get_default()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogConfig.model_config"><code class="docutils literal notranslate"><span class="pre">LogConfig.model_config</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogFileHandler"><code class="docutils literal notranslate"><span class="pre">LogFileHandler</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogFileHandler.handlerType"><code class="docutils literal notranslate"><span class="pre">LogFileHandler.handlerType</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogFileHandler.path"><code class="docutils literal notranslate"><span class="pre">LogFileHandler.path</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogFileHandler.filenameTrailer"><code class="docutils literal notranslate"><span class="pre">LogFileHandler.filenameTrailer</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogFileHandler.append"><code class="docutils literal notranslate"><span class="pre">LogFileHandler.append</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogFileHandler.get_default"><code class="docutils literal notranslate"><span class="pre">LogFileHandler.get_default()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogFileHandler.model_config"><code class="docutils literal notranslate"><span class="pre">LogFileHandler.model_config</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogHandlerType"><code class="docutils literal notranslate"><span class="pre">LogHandlerType</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogHandlerType.STREAM"><code class="docutils literal notranslate"><span class="pre">LogHandlerType.STREAM</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogHandlerType.NULL"><code class="docutils literal notranslate"><span class="pre">LogHandlerType.NULL</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogHandlerType.FILE"><code class="docutils literal notranslate"><span class="pre">LogHandlerType.FILE</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogHandlerType.SIZE_FILE_ROTATE"><code class="docutils literal notranslate"><span class="pre">LogHandlerType.SIZE_FILE_ROTATE</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogHandlerType.TIME_FILE_ROTATE"><code class="docutils literal notranslate"><span class="pre">LogHandlerType.TIME_FILE_ROTATE</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogIntervalType"><code class="docutils literal notranslate"><span class="pre">LogIntervalType</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogIntervalType.SECONDS"><code class="docutils literal notranslate"><span class="pre">LogIntervalType.SECONDS</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogIntervalType.MINUTES"><code class="docutils literal notranslate"><span class="pre">LogIntervalType.MINUTES</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogIntervalType.HOURS"><code class="docutils literal notranslate"><span class="pre">LogIntervalType.HOURS</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogIntervalType.DAYS"><code class="docutils literal notranslate"><span class="pre">LogIntervalType.DAYS</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogIntervalType.SUNDAY"><code class="docutils literal notranslate"><span class="pre">LogIntervalType.SUNDAY</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogIntervalType.MONDAY"><code class="docutils literal notranslate"><span class="pre">LogIntervalType.MONDAY</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogIntervalType.TUESDAY"><code class="docutils literal notranslate"><span class="pre">LogIntervalType.TUESDAY</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogIntervalType.WEDNESDAY"><code class="docutils literal notranslate"><span class="pre">LogIntervalType.WEDNESDAY</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogIntervalType.THURSDAY"><code class="docutils literal notranslate"><span class="pre">LogIntervalType.THURSDAY</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogIntervalType.FRIDAY"><code class="docutils literal notranslate"><span class="pre">LogIntervalType.FRIDAY</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogIntervalType.SATURDAY"><code class="docutils literal notranslate"><span class="pre">LogIntervalType.SATURDAY</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogIntervalType.MIDNIGHT"><code class="docutils literal notranslate"><span class="pre">LogIntervalType.MIDNIGHT</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogIntervalType.__get_pydantic_json_schema__"><code class="docutils literal notranslate"><span class="pre">LogIntervalType.__get_pydantic_json_schema__()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogIntervalType.to_when"><code class="docutils literal notranslate"><span class="pre">LogIntervalType.to_when()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogMode"><code class="docutils literal notranslate"><span class="pre">LogMode</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogMode.CRITICAL"><code class="docutils literal notranslate"><span class="pre">LogMode.CRITICAL</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogMode.ERROR"><code class="docutils literal notranslate"><span class="pre">LogMode.ERROR</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogMode.WARNING"><code class="docutils literal notranslate"><span class="pre">LogMode.WARNING</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogMode.INFO"><code class="docutils literal notranslate"><span class="pre">LogMode.INFO</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogMode.DEBUG"><code class="docutils literal notranslate"><span class="pre">LogMode.DEBUG</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogMode.__get_pydantic_json_schema__"><code class="docutils literal notranslate"><span class="pre">LogMode.__get_pydantic_json_schema__()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogMode.to_logging_level"><code class="docutils literal notranslate"><span class="pre">LogMode.to_logging_level()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogNullHandler"><code class="docutils literal notranslate"><span class="pre">LogNullHandler</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogNullHandler.handlerType"><code class="docutils literal notranslate"><span class="pre">LogNullHandler.handlerType</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogNullHandler.get_default"><code class="docutils literal notranslate"><span class="pre">LogNullHandler.get_default()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogNullHandler.model_config"><code class="docutils literal notranslate"><span class="pre">LogNullHandler.model_config</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogSizeFileRotateHandler"><code class="docutils literal notranslate"><span class="pre">LogSizeFileRotateHandler</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogSizeFileRotateHandler.handlerType"><code class="docutils literal notranslate"><span class="pre">LogSizeFileRotateHandler.handlerType</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogSizeFileRotateHandler.path"><code class="docutils literal notranslate"><span class="pre">LogSizeFileRotateHandler.path</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogSizeFileRotateHandler.filenameTrailer"><code class="docutils literal notranslate"><span class="pre">LogSizeFileRotateHandler.filenameTrailer</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogSizeFileRotateHandler.append"><code class="docutils literal notranslate"><span class="pre">LogSizeFileRotateHandler.append</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogSizeFileRotateHandler.maxBytes"><code class="docutils literal notranslate"><span class="pre">LogSizeFileRotateHandler.maxBytes</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogSizeFileRotateHandler.backupCount"><code class="docutils literal notranslate"><span class="pre">LogSizeFileRotateHandler.backupCount</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogSizeFileRotateHandler.get_default"><code class="docutils literal notranslate"><span class="pre">LogSizeFileRotateHandler.get_default()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogSizeFileRotateHandler.model_config"><code class="docutils literal notranslate"><span class="pre">LogSizeFileRotateHandler.model_config</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogStreamHandler"><code class="docutils literal notranslate"><span class="pre">LogStreamHandler</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogStreamHandler.handlerType"><code class="docutils literal notranslate"><span class="pre">LogStreamHandler.handlerType</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogStreamHandler.get_default"><code class="docutils literal notranslate"><span class="pre">LogStreamHandler.get_default()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogStreamHandler.model_config"><code class="docutils literal notranslate"><span class="pre">LogStreamHandler.model_config</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogTimeFileRotateHandler"><code class="docutils literal notranslate"><span class="pre">LogTimeFileRotateHandler</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogTimeFileRotateHandler.handlerType"><code class="docutils literal notranslate"><span class="pre">LogTimeFileRotateHandler.handlerType</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogTimeFileRotateHandler.path"><code class="docutils literal notranslate"><span class="pre">LogTimeFileRotateHandler.path</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogTimeFileRotateHandler.filenameTrailer"><code class="docutils literal notranslate"><span class="pre">LogTimeFileRotateHandler.filenameTrailer</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogTimeFileRotateHandler.append"><code class="docutils literal notranslate"><span class="pre">LogTimeFileRotateHandler.append</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogTimeFileRotateHandler.intervalType"><code class="docutils literal notranslate"><span class="pre">LogTimeFileRotateHandler.intervalType</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogTimeFileRotateHandler.interval"><code class="docutils literal notranslate"><span class="pre">LogTimeFileRotateHandler.interval</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogTimeFileRotateHandler.backupCount"><code class="docutils literal notranslate"><span class="pre">LogTimeFileRotateHandler.backupCount</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogTimeFileRotateHandler.get_default"><code class="docutils literal notranslate"><span class="pre">LogTimeFileRotateHandler.get_default()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.LogTimeFileRotateHandler.model_config"><code class="docutils literal notranslate"><span class="pre">LogTimeFileRotateHandler.model_config</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisClientConfig"><code class="docutils literal notranslate"><span class="pre">RedisClientConfig</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisClientConfig.connection"><code class="docutils literal notranslate"><span class="pre">RedisClientConfig.connection</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisClientConfig.streams"><code class="docutils literal notranslate"><span class="pre">RedisClientConfig.streams</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisClientConfig.get_default"><code class="docutils literal notranslate"><span class="pre">RedisClientConfig.get_default()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisClientConfig.model_config"><code class="docutils literal notranslate"><span class="pre">RedisClientConfig.model_config</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisConnection"><code class="docutils literal notranslate"><span class="pre">RedisConnection</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisConnection.host"><code class="docutils literal notranslate"><span class="pre">RedisConnection.host</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisConnection.port"><code class="docutils literal notranslate"><span class="pre">RedisConnection.port</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisConnection.username"><code class="docutils literal notranslate"><span class="pre">RedisConnection.username</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisConnection.password"><code class="docutils literal notranslate"><span class="pre">RedisConnection.password</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisConnection.db"><code class="docutils literal notranslate"><span class="pre">RedisConnection.db</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisConnection.socketTimeout"><code class="docutils literal notranslate"><span class="pre">RedisConnection.socketTimeout</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisConnection.socketConnectTimeout"><code class="docutils literal notranslate"><span class="pre">RedisConnection.socketConnectTimeout</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisConnection.socketKeepIdle"><code class="docutils literal notranslate"><span class="pre">RedisConnection.socketKeepIdle</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisConnection.socketKeepAlive"><code class="docutils literal notranslate"><span class="pre">RedisConnection.socketKeepAlive</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisConnection.socketKeepCnt"><code class="docutils literal notranslate"><span class="pre">RedisConnection.socketKeepCnt</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisConnection.sslEnable"><code class="docutils literal notranslate"><span class="pre">RedisConnection.sslEnable</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisConnection.sslClientKeyFile"><code class="docutils literal notranslate"><span class="pre">RedisConnection.sslClientKeyFile</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisConnection.sslClientKeyFilePassword"><code class="docutils literal notranslate"><span class="pre">RedisConnection.sslClientKeyFilePassword</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisConnection.sslClientCertFile"><code class="docutils literal notranslate"><span class="pre">RedisConnection.sslClientCertFile</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisConnection.sslCertRequested"><code class="docutils literal notranslate"><span class="pre">RedisConnection.sslCertRequested</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisConnection.sslCaCertsFile"><code class="docutils literal notranslate"><span class="pre">RedisConnection.sslCaCertsFile</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisConnection.healthCheckInterval"><code class="docutils literal notranslate"><span class="pre">RedisConnection.healthCheckInterval</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisConnection.connectionAvailableTimeout"><code class="docutils literal notranslate"><span class="pre">RedisConnection.connectionAvailableTimeout</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisConnection.protocol"><code class="docutils literal notranslate"><span class="pre">RedisConnection.protocol</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisConnection.get_default"><code class="docutils literal notranslate"><span class="pre">RedisConnection.get_default()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisConnection.model_config"><code class="docutils literal notranslate"><span class="pre">RedisConnection.model_config</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisStreamInput"><code class="docutils literal notranslate"><span class="pre">RedisStreamInput</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisStreamInput.streamId"><code class="docutils literal notranslate"><span class="pre">RedisStreamInput.streamId</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisStreamInput.groupId"><code class="docutils literal notranslate"><span class="pre">RedisStreamInput.groupId</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisStreamInput.waitTimeout"><code class="docutils literal notranslate"><span class="pre">RedisStreamInput.waitTimeout</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisStreamInput.get_default"><code class="docutils literal notranslate"><span class="pre">RedisStreamInput.get_default()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisStreamInput.model_config"><code class="docutils literal notranslate"><span class="pre">RedisStreamInput.model_config</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisStreamOutput"><code class="docutils literal notranslate"><span class="pre">RedisStreamOutput</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisStreamOutput.streamId"><code class="docutils literal notranslate"><span class="pre">RedisStreamOutput.streamId</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisStreamOutput.maxLength"><code class="docutils literal notranslate"><span class="pre">RedisStreamOutput.maxLength</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisStreamOutput.get_default"><code class="docutils literal notranslate"><span class="pre">RedisStreamOutput.get_default()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisStreamOutput.model_config"><code class="docutils literal notranslate"><span class="pre">RedisStreamOutput.model_config</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisStreamOutputs"><code class="docutils literal notranslate"><span class="pre">RedisStreamOutputs</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisStreamOutputs.client"><code class="docutils literal notranslate"><span class="pre">RedisStreamOutputs.client</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisStreamOutputs.get_default"><code class="docutils literal notranslate"><span class="pre">RedisStreamOutputs.get_default()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisStreamOutputs.model_config"><code class="docutils literal notranslate"><span class="pre">RedisStreamOutputs.model_config</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisStreams"><code class="docutils literal notranslate"><span class="pre">RedisStreams</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisStreams.outputs"><code class="docutils literal notranslate"><span class="pre">RedisStreams.outputs</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisStreams.input"><code class="docutils literal notranslate"><span class="pre">RedisStreams.input</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisStreams.get_default"><code class="docutils literal notranslate"><span class="pre">RedisStreams.get_default()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.RedisStreams.model_config"><code class="docutils literal notranslate"><span class="pre">RedisStreams.model_config</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.StepConfigGenerateJsonSchema"><code class="docutils literal notranslate"><span class="pre">StepConfigGenerateJsonSchema</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.StepConfigGenerateJsonSchema.generate"><code class="docutils literal notranslate"><span class="pre">StepConfigGenerateJsonSchema.generate()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.StepConfigVersion"><code class="docutils literal notranslate"><span class="pre">StepConfigVersion</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.StepConfigVersion.VERSION"><code class="docutils literal notranslate"><span class="pre">StepConfigVersion.VERSION</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.StepProducerConfig"><code class="docutils literal notranslate"><span class="pre">StepProducerConfig</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.StepProducerConfig.templateVersion"><code class="docutils literal notranslate"><span class="pre">StepProducerConfig.templateVersion</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.StepProducerConfig.stationId"><code class="docutils literal notranslate"><span class="pre">StepProducerConfig.stationId</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.StepProducerConfig.timeAfterCollision"><code class="docutils literal notranslate"><span class="pre">StepProducerConfig.timeAfterCollision</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.StepProducerConfig.denmLastUpdateMaxDelay"><code class="docutils literal notranslate"><span class="pre">StepProducerConfig.denmLastUpdateMaxDelay</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.StepProducerConfig.denmCheckLastUpdateMaxInterval"><code class="docutils literal notranslate"><span class="pre">StepProducerConfig.denmCheckLastUpdateMaxInterval</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.StepProducerConfig.reconnectInterval"><code class="docutils literal notranslate"><span class="pre">StepProducerConfig.reconnectInterval</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.StepProducerConfig.redis"><code class="docutils literal notranslate"><span class="pre">StepProducerConfig.redis</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.StepProducerConfig.log"><code class="docutils literal notranslate"><span class="pre">StepProducerConfig.log</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.StepProducerConfig.get_default"><code class="docutils literal notranslate"><span class="pre">StepProducerConfig.get_default()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.StepProducerConfig.model_config"><code class="docutils literal notranslate"><span class="pre">StepProducerConfig.model_config</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.StepProducerConfig.print_config_example"><code class="docutils literal notranslate"><span class="pre">StepProducerConfig.print_config_example()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_config.html#step_producer.step_producer_config.StepProducerConfig.print_config_schema"><code class="docutils literal notranslate"><span class="pre">StepProducerConfig.print_config_schema()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_redis.html">step_producer.step_producer_redis module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_redis.html#step_producer.step_producer_redis.StepProducerRedisPool"><code class="docutils literal notranslate"><span class="pre">StepProducerRedisPool</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_redis.html#step_producer.step_producer_redis.StepProducerRedisPool.config"><code class="docutils literal notranslate"><span class="pre">StepProducerRedisPool.config</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_redis.html#step_producer.step_producer_redis.StepProducerRedisPool.logger"><code class="docutils literal notranslate"><span class="pre">StepProducerRedisPool.logger</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_redis.html#step_producer.step_producer_redis.StepProducerRedisPool.__aenter__"><code class="docutils literal notranslate"><span class="pre">StepProducerRedisPool.__aenter__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_redis.html#step_producer.step_producer_redis.StepProducerRedisStream"><code class="docutils literal notranslate"><span class="pre">StepProducerRedisStream</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_redis.html#step_producer.step_producer_redis.StepProducerRedisStream.consumer_name"><code class="docutils literal notranslate"><span class="pre">StepProducerRedisStream.consumer_name</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_redis.html#step_producer.step_producer_redis.StepProducerRedisStream.config"><code class="docutils literal notranslate"><span class="pre">StepProducerRedisStream.config</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_redis.html#step_producer.step_producer_redis.StepProducerRedisStream.logger"><code class="docutils literal notranslate"><span class="pre">StepProducerRedisStream.logger</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_redis.html#step_producer.step_producer_redis.StepProducerRedisStream.pool"><code class="docutils literal notranslate"><span class="pre">StepProducerRedisStream.pool</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_redis.html#step_producer.step_producer_redis.StepProducerRedisStream.__aenter__"><code class="docutils literal notranslate"><span class="pre">StepProducerRedisStream.__aenter__()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_redis.html#step_producer.step_producer_redis.StepProducerRedisStream.create_client_input_stream"><code class="docutils literal notranslate"><span class="pre">StepProducerRedisStream.create_client_input_stream()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_redis.html#step_producer.step_producer_redis.StepProducerRedisStream.publish_its_message"><code class="docutils literal notranslate"><span class="pre">StepProducerRedisStream.publish_its_message()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../step_producer_rst/step_producer.step_producer_redis.html#step_producer.step_producer_redis.StepProducerRedisStream.receive_producer_message"><code class="docutils literal notranslate"><span class="pre">StepProducerRedisStream.receive_producer_message()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../test_rst/test.html">Unit Test package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../test_rst/test.html#submodules">Submodules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../test_rst/test.test___init__.html">test.test___init__ module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../test_rst/test.test___init__.html#test.test___init__.test_package_exports"><code class="docutils literal notranslate"><span class="pre">test_package_exports()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../test_rst/test.test___init__.html#test.test___init__.test_version"><code class="docutils literal notranslate"><span class="pre">test_version()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../test_rst/test.test___main__.html">test.test___main__ module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../test_rst/test.test___main__.html#test.test___main__.TestExitCode"><code class="docutils literal notranslate"><span class="pre">TestExitCode</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test___main__.html#test.test___main__.TestExitCode.test_enum_length"><code class="docutils literal notranslate"><span class="pre">TestExitCode.test_enum_length()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test___main__.html#test.test___main__.TestExitCode.test_enum_values"><code class="docutils literal notranslate"><span class="pre">TestExitCode.test_enum_values()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../test_rst/test.test___main__.html#test.test___main__.test___os_signal_config"><code class="docutils literal notranslate"><span class="pre">test___os_signal_config()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../test_rst/test.test___main__.html#test.test___main__.test_args_parse"><code class="docutils literal notranslate"><span class="pre">test_args_parse()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../test_rst/test.test___main__.html#test.test___main__.test_exception_handler"><code class="docutils literal notranslate"><span class="pre">test_exception_handler()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../test_rst/test.test___main__.html#test.test___main__.test_get_config_schema_file"><code class="docutils literal notranslate"><span class="pre">test_get_config_schema_file()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../test_rst/test.test___main__.html#test.test___main__.test_get_config_template_file"><code class="docutils literal notranslate"><span class="pre">test_get_config_template_file()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../test_rst/test.test___main__.html#test.test___main__.test_main"><code class="docutils literal notranslate"><span class="pre">test_main()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../test_rst/test.test___main__.html#test.test___main__.test_main_async"><code class="docutils literal notranslate"><span class="pre">test_main_async()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../test_rst/test.test___main__.html#test.test___main__.test_main_interrupt_exception"><code class="docutils literal notranslate"><span class="pre">test_main_interrupt_exception()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../test_rst/test.test___main__.html#test.test___main__.test_shutdown"><code class="docutils literal notranslate"><span class="pre">test_shutdown()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../test_rst/test.test___main__.html#test.test___main__.test_stream_receive_run"><code class="docutils literal notranslate"><span class="pre">test_stream_receive_run()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../test_rst/test.test_den_service_data_manager.html">test.test_den_service_data_manager module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../test_rst/test.test_den_service_data_manager.html#test.test_den_service_data_manager.TestDenServiceDataManager"><code class="docutils literal notranslate"><span class="pre">TestDenServiceDataManager</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_den_service_data_manager.html#test.test_den_service_data_manager.TestDenServiceDataManager.mock_logger"><code class="docutils literal notranslate"><span class="pre">TestDenServiceDataManager.mock_logger()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_den_service_data_manager.html#test.test_den_service_data_manager.TestDenServiceDataManager.station_collision_array_1"><code class="docutils literal notranslate"><span class="pre">TestDenServiceDataManager.station_collision_array_1()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_den_service_data_manager.html#test.test_den_service_data_manager.TestDenServiceDataManager.station_collision_array_2"><code class="docutils literal notranslate"><span class="pre">TestDenServiceDataManager.station_collision_array_2()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_den_service_data_manager.html#test.test_den_service_data_manager.TestDenServiceDataManager.stations_list_1"><code class="docutils literal notranslate"><span class="pre">TestDenServiceDataManager.stations_list_1()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_den_service_data_manager.html#test.test_den_service_data_manager.TestDenServiceDataManager.stations_list_2"><code class="docutils literal notranslate"><span class="pre">TestDenServiceDataManager.stations_list_2()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_den_service_data_manager.html#test.test_den_service_data_manager.TestDenServiceDataManager.test___slots__"><code class="docutils literal notranslate"><span class="pre">TestDenServiceDataManager.test___slots__()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_den_service_data_manager.html#test.test_den_service_data_manager.TestDenServiceDataManager.test_create_denm"><code class="docutils literal notranslate"><span class="pre">TestDenServiceDataManager.test_create_denm()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_den_service_data_manager.html#test.test_den_service_data_manager.TestDenServiceDataManager.test_get_denm_records_reference_expired"><code class="docutils literal notranslate"><span class="pre">TestDenServiceDataManager.test_get_denm_records_reference_expired()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_den_service_data_manager.html#test.test_den_service_data_manager.TestDenServiceDataManager.test_get_denm_records_reference_expired_validity"><code class="docutils literal notranslate"><span class="pre">TestDenServiceDataManager.test_get_denm_records_reference_expired_validity()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_den_service_data_manager.html#test.test_den_service_data_manager.TestDenServiceDataManager.test_get_interval_oldest_update_ms_long_max_delay"><code class="docutils literal notranslate"><span class="pre">TestDenServiceDataManager.test_get_interval_oldest_update_ms_long_max_delay()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_den_service_data_manager.html#test.test_den_service_data_manager.TestDenServiceDataManager.test_get_interval_oldest_update_ms_none"><code class="docutils literal notranslate"><span class="pre">TestDenServiceDataManager.test_get_interval_oldest_update_ms_none()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_den_service_data_manager.html#test.test_den_service_data_manager.TestDenServiceDataManager.test_get_interval_oldest_update_ms_oldest_record"><code class="docutils literal notranslate"><span class="pre">TestDenServiceDataManager.test_get_interval_oldest_update_ms_oldest_record()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_den_service_data_manager.html#test.test_den_service_data_manager.TestDenServiceDataManager.test_init"><code class="docutils literal notranslate"><span class="pre">TestDenServiceDataManager.test_init()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_den_service_data_manager.html#test.test_den_service_data_manager.TestDenServiceDataManager.test_insert_station_collision_array"><code class="docutils literal notranslate"><span class="pre">TestDenServiceDataManager.test_insert_station_collision_array()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_den_service_data_manager.html#test.test_den_service_data_manager.TestDenServiceDataManager.test_remove_denm_record"><code class="docutils literal notranslate"><span class="pre">TestDenServiceDataManager.test_remove_denm_record()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_den_service_data_manager.html#test.test_den_service_data_manager.TestDenServiceDataManager.test_station_order"><code class="docutils literal notranslate"><span class="pre">TestDenServiceDataManager.test_station_order()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../test_rst/test.test_den_service_manager.html">test.test_den_service_manager module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../test_rst/test.test_den_service_manager.html#test.test_den_service_manager.TestDenServiceManager"><code class="docutils literal notranslate"><span class="pre">TestDenServiceManager</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_den_service_manager.html#test.test_den_service_manager.TestDenServiceManager.mock_logger"><code class="docutils literal notranslate"><span class="pre">TestDenServiceManager.mock_logger()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_den_service_manager.html#test.test_den_service_manager.TestDenServiceManager.test___slots__"><code class="docutils literal notranslate"><span class="pre">TestDenServiceManager.test___slots__()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_den_service_manager.html#test.test_den_service_manager.TestDenServiceManager.test_denm_create_cancellation_sets_expected_fields"><code class="docutils literal notranslate"><span class="pre">TestDenServiceManager.test_denm_create_cancellation_sets_expected_fields()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_den_service_manager.html#test.test_den_service_manager.TestDenServiceManager.test_init"><code class="docutils literal notranslate"><span class="pre">TestDenServiceManager.test_init()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_den_service_manager.html#test.test_den_service_manager.TestDenServiceManager.test_periodical_cleanup_run_publishes_cancellations_for_expired_records"><code class="docutils literal notranslate"><span class="pre">TestDenServiceManager.test_periodical_cleanup_run_publishes_cancellations_for_expired_records()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_den_service_manager.html#test.test_den_service_manager.TestDenServiceManager.test_process_denm_record_received_negation"><code class="docutils literal notranslate"><span class="pre">TestDenServiceManager.test_process_denm_record_received_negation()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_den_service_manager.html#test.test_den_service_manager.TestDenServiceManager.test_process_denm_record_received_no_termination"><code class="docutils literal notranslate"><span class="pre">TestDenServiceManager.test_process_denm_record_received_no_termination()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_den_service_manager.html#test.test_den_service_manager.TestDenServiceManager.test_process_denm_record_received_termination_cancellation"><code class="docutils literal notranslate"><span class="pre">TestDenServiceManager.test_process_denm_record_received_termination_cancellation()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_den_service_manager.html#test.test_den_service_manager.TestDenServiceManager.test_process_station_collisions_received_empty_list"><code class="docutils literal notranslate"><span class="pre">TestDenServiceManager.test_process_station_collisions_received_empty_list()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_den_service_manager.html#test.test_den_service_manager.TestDenServiceManager.test_process_station_collisions_received_publishes_all_records"><code class="docutils literal notranslate"><span class="pre">TestDenServiceManager.test_process_station_collisions_received_publishes_all_records()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../test_rst/test.test_denm_record.html">test.test_denm_record module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../test_rst/test.test_denm_record.html#test.test_denm_record.TestDenmRecord"><code class="docutils literal notranslate"><span class="pre">TestDenmRecord</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_denm_record.html#test.test_denm_record.TestDenmRecord.mock_denm"><code class="docutils literal notranslate"><span class="pre">TestDenmRecord.mock_denm()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_denm_record.html#test.test_denm_record.TestDenmRecord.mock_its_time"><code class="docutils literal notranslate"><span class="pre">TestDenmRecord.mock_its_time()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_denm_record.html#test.test_denm_record.TestDenmRecord.record_key"><code class="docutils literal notranslate"><span class="pre">TestDenmRecord.record_key()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_denm_record.html#test.test_denm_record.TestDenmRecord.test___slots__"><code class="docutils literal notranslate"><span class="pre">TestDenmRecord.test___slots__()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_denm_record.html#test.test_denm_record.TestDenmRecord.test_comparison_operators"><code class="docutils literal notranslate"><span class="pre">TestDenmRecord.test_comparison_operators()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_denm_record.html#test.test_denm_record.TestDenmRecord.test_equality"><code class="docutils literal notranslate"><span class="pre">TestDenmRecord.test_equality()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_denm_record.html#test.test_denm_record.TestDenmRecord.test_hash"><code class="docutils literal notranslate"><span class="pre">TestDenmRecord.test_hash()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_denm_record.html#test.test_denm_record.TestDenmRecord.test_init"><code class="docutils literal notranslate"><span class="pre">TestDenmRecord.test_init()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_denm_record.html#test.test_denm_record.TestDenmRecord.test_properties"><code class="docutils literal notranslate"><span class="pre">TestDenmRecord.test_properties()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_denm_record.html#test.test_denm_record.TestDenmRecord.test_repr"><code class="docutils literal notranslate"><span class="pre">TestDenmRecord.test_repr()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_denm_record.html#test.test_denm_record.TestDenmRecord.test_str"><code class="docutils literal notranslate"><span class="pre">TestDenmRecord.test_str()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../test_rst/test.test_step_logger.html">test.test_step_logger module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../test_rst/test.test_step_logger.html#test.test_step_logger.TestUtcFormatter"><code class="docutils literal notranslate"><span class="pre">TestUtcFormatter</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_step_logger.html#test.test_step_logger.TestUtcFormatter.test___slots__"><code class="docutils literal notranslate"><span class="pre">TestUtcFormatter.test___slots__()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_step_logger.html#test.test_step_logger.TestUtcFormatter.test_converter_returns_struct_time_for_given_timestamp"><code class="docutils literal notranslate"><span class="pre">TestUtcFormatter.test_converter_returns_struct_time_for_given_timestamp()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../test_rst/test.test_step_logger.html#test.test_step_logger.test_get_logger"><code class="docutils literal notranslate"><span class="pre">test_get_logger()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../test_rst/test.test_step_logger.html#test.test_step_logger.test_get_logger_default"><code class="docutils literal notranslate"><span class="pre">test_get_logger_default()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../test_rst/test.test_step_logger.html#test.test_step_logger.test_get_logger_exception"><code class="docutils literal notranslate"><span class="pre">test_get_logger_exception()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../test_rst/test.test_step_logger.html#test.test_step_logger.test_get_logger_unknown_handler"><code class="docutils literal notranslate"><span class="pre">test_get_logger_unknown_handler()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../test_rst/test.test_step_logger.html#test.test_step_logger.test_namer_replaces_log_extension_with_bz2"><code class="docutils literal notranslate"><span class="pre">test_namer_replaces_log_extension_with_bz2()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../test_rst/test.test_step_logger.html#test.test_step_logger.test_rotator_compresses_file_and_removes_source"><code class="docutils literal notranslate"><span class="pre">test_rotator_compresses_file_and_removes_source()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../test_rst/test.test_step_producer_config.html">test.test_step_producer_config module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../test_rst/test.test_step_producer_config.html#test.test_step_producer_config.TestLogHandlerType"><code class="docutils literal notranslate"><span class="pre">TestLogHandlerType</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_step_producer_config.html#test.test_step_producer_config.TestLogHandlerType.test_value"><code class="docutils literal notranslate"><span class="pre">TestLogHandlerType.test_value()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../test_rst/test.test_step_producer_config.html#test.test_step_producer_config.TestLogIntervalType"><code class="docutils literal notranslate"><span class="pre">TestLogIntervalType</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_step_producer_config.html#test.test_step_producer_config.TestLogIntervalType.test_to_when"><code class="docutils literal notranslate"><span class="pre">TestLogIntervalType.test_to_when()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_step_producer_config.html#test.test_step_producer_config.TestLogIntervalType.test_to_when_invalid"><code class="docutils literal notranslate"><span class="pre">TestLogIntervalType.test_to_when_invalid()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../test_rst/test.test_step_producer_config.html#test.test_step_producer_config.TestLogMode"><code class="docutils literal notranslate"><span class="pre">TestLogMode</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_step_producer_config.html#test.test_step_producer_config.TestLogMode.test_to_logging_level_invalid"><code class="docutils literal notranslate"><span class="pre">TestLogMode.test_to_logging_level_invalid()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_step_producer_config.html#test.test_step_producer_config.TestLogMode.test_to_logging_level_valid"><code class="docutils literal notranslate"><span class="pre">TestLogMode.test_to_logging_level_valid()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../test_rst/test.test_step_producer_config.html#test.test_step_producer_config.TestLogNullHandler"><code class="docutils literal notranslate"><span class="pre">TestLogNullHandler</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_step_producer_config.html#test.test_step_producer_config.TestLogNullHandler.test_get_default"><code class="docutils literal notranslate"><span class="pre">TestLogNullHandler.test_get_default()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../test_rst/test.test_step_producer_config.html#test.test_step_producer_config.TestLogSizeFileRotateHandler"><code class="docutils literal notranslate"><span class="pre">TestLogSizeFileRotateHandler</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_step_producer_config.html#test.test_step_producer_config.TestLogSizeFileRotateHandler.test_get_default"><code class="docutils literal notranslate"><span class="pre">TestLogSizeFileRotateHandler.test_get_default()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../test_rst/test.test_step_producer_config.html#test.test_step_producer_config.TestLogStreamHandler"><code class="docutils literal notranslate"><span class="pre">TestLogStreamHandler</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_step_producer_config.html#test.test_step_producer_config.TestLogStreamHandler.test_get_default"><code class="docutils literal notranslate"><span class="pre">TestLogStreamHandler.test_get_default()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../test_rst/test.test_step_producer_config.html#test.test_step_producer_config.TestLogTimeFileRotateHandler"><code class="docutils literal notranslate"><span class="pre">TestLogTimeFileRotateHandler</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_step_producer_config.html#test.test_step_producer_config.TestLogTimeFileRotateHandler.test_get_default"><code class="docutils literal notranslate"><span class="pre">TestLogTimeFileRotateHandler.test_get_default()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../test_rst/test.test_step_producer_config.html#test.test_step_producer_config.TestRedisClientConfig"><code class="docutils literal notranslate"><span class="pre">TestRedisClientConfig</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_step_producer_config.html#test.test_step_producer_config.TestRedisClientConfig.test_get_default"><code class="docutils literal notranslate"><span class="pre">TestRedisClientConfig.test_get_default()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../test_rst/test.test_step_producer_config.html#test.test_step_producer_config.TestRedisConnection"><code class="docutils literal notranslate"><span class="pre">TestRedisConnection</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_step_producer_config.html#test.test_step_producer_config.TestRedisConnection.test_get_default"><code class="docutils literal notranslate"><span class="pre">TestRedisConnection.test_get_default()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../test_rst/test.test_step_producer_config.html#test.test_step_producer_config.TestRedisStreamInput"><code class="docutils literal notranslate"><span class="pre">TestRedisStreamInput</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_step_producer_config.html#test.test_step_producer_config.TestRedisStreamInput.test_get_default"><code class="docutils literal notranslate"><span class="pre">TestRedisStreamInput.test_get_default()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../test_rst/test.test_step_producer_config.html#test.test_step_producer_config.TestRedisStreamOutput"><code class="docutils literal notranslate"><span class="pre">TestRedisStreamOutput</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_step_producer_config.html#test.test_step_producer_config.TestRedisStreamOutput.test_get_default"><code class="docutils literal notranslate"><span class="pre">TestRedisStreamOutput.test_get_default()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../test_rst/test.test_step_producer_config.html#test.test_step_producer_config.TestRedisStreamOutputs"><code class="docutils literal notranslate"><span class="pre">TestRedisStreamOutputs</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_step_producer_config.html#test.test_step_producer_config.TestRedisStreamOutputs.test_get_default"><code class="docutils literal notranslate"><span class="pre">TestRedisStreamOutputs.test_get_default()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../test_rst/test.test_step_producer_config.html#test.test_step_producer_config.TestRedisStreams"><code class="docutils literal notranslate"><span class="pre">TestRedisStreams</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_step_producer_config.html#test.test_step_producer_config.TestRedisStreams.test_get_default"><code class="docutils literal notranslate"><span class="pre">TestRedisStreams.test_get_default()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../test_rst/test.test_step_producer_config.html#test.test_step_producer_config.TestStepConfigVersion"><code class="docutils literal notranslate"><span class="pre">TestStepConfigVersion</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_step_producer_config.html#test.test_step_producer_config.TestStepConfigVersion.test_value"><code class="docutils literal notranslate"><span class="pre">TestStepConfigVersion.test_value()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../test_rst/test.test_step_producer_config.html#test.test_step_producer_config.TestStepProducerConfig"><code class="docutils literal notranslate"><span class="pre">TestStepProducerConfig</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_step_producer_config.html#test.test_step_producer_config.TestStepProducerConfig.test_get_default"><code class="docutils literal notranslate"><span class="pre">TestStepProducerConfig.test_get_default()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_step_producer_config.html#test.test_step_producer_config.TestStepProducerConfig.test_print_config_example"><code class="docutils literal notranslate"><span class="pre">TestStepProducerConfig.test_print_config_example()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_step_producer_config.html#test.test_step_producer_config.TestStepProducerConfig.test_print_config_schema"><code class="docutils literal notranslate"><span class="pre">TestStepProducerConfig.test_print_config_schema()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../test_rst/test.test_step_producer_redis.html">test.test_step_producer_redis module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../test_rst/test.test_step_producer_redis.html#test.test_step_producer_redis.TestStepProducerRedisPool"><code class="docutils literal notranslate"><span class="pre">TestStepProducerRedisPool</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_step_producer_redis.html#test.test_step_producer_redis.TestStepProducerRedisPool.test___slots__"><code class="docutils literal notranslate"><span class="pre">TestStepProducerRedisPool.test___slots__()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_step_producer_redis.html#test.test_step_producer_redis.TestStepProducerRedisPool.test_aenter"><code class="docutils literal notranslate"><span class="pre">TestStepProducerRedisPool.test_aenter()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_step_producer_redis.html#test.test_step_producer_redis.TestStepProducerRedisPool.test_init"><code class="docutils literal notranslate"><span class="pre">TestStepProducerRedisPool.test_init()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../test_rst/test.test_step_producer_redis.html#test.test_step_producer_redis.TestStepProducerRedisStream"><code class="docutils literal notranslate"><span class="pre">TestStepProducerRedisStream</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_step_producer_redis.html#test.test_step_producer_redis.TestStepProducerRedisStream.test___slots__"><code class="docutils literal notranslate"><span class="pre">TestStepProducerRedisStream.test___slots__()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_step_producer_redis.html#test.test_step_producer_redis.TestStepProducerRedisStream.test__aenter__"><code class="docutils literal notranslate"><span class="pre">TestStepProducerRedisStream.test__aenter__()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_step_producer_redis.html#test.test_step_producer_redis.TestStepProducerRedisStream.test_create_client_input_stream"><code class="docutils literal notranslate"><span class="pre">TestStepProducerRedisStream.test_create_client_input_stream()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_step_producer_redis.html#test.test_step_producer_redis.TestStepProducerRedisStream.test_publish_its_message"><code class="docutils literal notranslate"><span class="pre">TestStepProducerRedisStream.test_publish_its_message()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_step_producer_redis.html#test.test_step_producer_redis.TestStepProducerRedisStream.test_receive_producer_message"><code class="docutils literal notranslate"><span class="pre">TestStepProducerRedisStream.test_receive_producer_message()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../test_rst/test.test_step_producer_redis.html#test.test_step_producer_redis.TestStepProducerRedisStream.test_stream_init"><code class="docutils literal notranslate"><span class="pre">TestStepProducerRedisStream.test_stream_init()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">STEP Producer</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Module code</a></li>
      <li class="breadcrumb-item active">test.test_den_service_data_manager</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for test.test_den_service_data_manager</h1><div class="highlight"><pre>
<span></span><span class="linenos">   1</span><span class="sd">&quot;&quot;&quot;Unit tests for the DEN (Decentralized Environmental Notification) Service Data</span>
<span class="linenos">   2</span><span class="sd">Manager.</span>
<span class="linenos">   3</span>
<span class="linenos">   4</span><span class="sd">This module contains comprehensive test suites for the `DenServiceDataManager` and `DenmRecord`</span>
<span class="linenos">   5</span><span class="sd">classes, which are responsible for managing Decentralized Environmental Notification Messages</span>
<span class="linenos">   6</span><span class="sd">(DENM) in the STEP Producer system. DENM messages are part of the Cooperative Intelligent</span>
<span class="linenos">   7</span><span class="sd">Transport Systems (C-ITS) standard and are used to communicate hazardous events and situations</span>
<span class="linenos">   8</span><span class="sd">on the road.</span>
<span class="linenos">   9</span>
<span class="linenos">  10</span><span class="sd">Test Classes:</span>
<span class="linenos">  11</span><span class="sd">    TestDenmRecord: Tests for the `DenmRecord` class that represents individual DENM records</span>
<span class="linenos">  12</span><span class="sd">        with functionality for:</span>
<span class="linenos">  13</span>
<span class="linenos">  14</span><span class="sd">            - Record initialization with DENM data and keys</span>
<span class="linenos">  15</span><span class="sd">            - Equality and comparison operations for sorting and deduplication</span>
<span class="linenos">  16</span><span class="sd">            - Hash computation for use in collections</span>
<span class="linenos">  17</span><span class="sd">            - String representation for debugging</span>
<span class="linenos">  18</span><span class="sd">            - Property access for record attributes</span>
<span class="linenos">  19</span>
<span class="linenos">  20</span><span class="sd">    TestDenServiceDataManager: Tests for the `DenServiceDataManager` class that manages</span>
<span class="linenos">  21</span><span class="sd">        collections of DENM records with functionality for:</span>
<span class="linenos">  22</span>
<span class="linenos">  23</span><span class="sd">            - Initialization of data structures and configuration</span>
<span class="linenos">  24</span><span class="sd">            - Station ordering algorithms for consistent record generation</span>
<span class="linenos">  25</span><span class="sd">            - DENM record creation from collision detection data</span>
<span class="linenos">  26</span><span class="sd">            - Station collision array insertion and processing</span>
<span class="linenos">  27</span><span class="sd">            - Expired record cleanup and management</span>
<span class="linenos">  28</span><span class="sd">            - Update interval calculations for periodic operations</span>
<span class="linenos">  29</span><span class="sd">            - Record removal operations</span>
<span class="linenos">  30</span>
<span class="linenos">  31</span><span class="sd">Key Features Tested:</span>
<span class="linenos">  32</span>
<span class="linenos">  33</span><span class="sd">    - DENM record lifecycle management (creation, storage, expiration, removal)</span>
<span class="linenos">  34</span><span class="sd">    - Station collision array processing and conversion to DENM format</span>
<span class="linenos">  35</span><span class="sd">    - Time-based operations including expiration checking and update intervals</span>
<span class="linenos">  36</span><span class="sd">    - Index maintenance for efficient record lookup by action ID and record key</span>
<span class="linenos">  37</span><span class="sd">    - Sequence number management for unique record identification</span>
<span class="linenos">  38</span><span class="sd">    - Configuration handling for timing parameters and station identification</span>
<span class="linenos">  39</span>
<span class="linenos">  40</span><span class="sd">The tests use pytest fixtures to create mock objects and test data, ensuring isolated</span>
<span class="linenos">  41</span><span class="sd">and reproducible test execution. Parameterized tests verify behavior across different</span>
<span class="linenos">  42</span><span class="sd">time scenarios and configuration parameters.</span>
<span class="linenos">  43</span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">  44</span>
<span class="linenos">  45</span><span class="c1"># pylint: disable=protected-access,unnecessary-dunder-call,unnecessary-negation,too-many-lines</span>
<span class="linenos">  46</span>
<span class="linenos">  47</span><span class="c1"># Standard Library Imports</span>
<span class="linenos">  48</span><span class="kn">from</span><span class="w"> </span><span class="nn">logging</span><span class="w"> </span><span class="kn">import</span> <span class="n">Logger</span>
<span class="linenos">  49</span><span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">cast</span>
<span class="linenos">  50</span>
<span class="linenos">  51</span><span class="c1"># Third Party Imports</span>
<span class="linenos">  52</span><span class="kn">import</span><span class="w"> </span><span class="nn">pytest</span>
<span class="linenos">  53</span><span class="kn">from</span><span class="w"> </span><span class="nn">pytest</span><span class="w"> </span><span class="kn">import</span> <span class="n">fixture</span>
<span class="linenos">  54</span><span class="kn">from</span><span class="w"> </span><span class="nn">pytest_mock</span><span class="w"> </span><span class="kn">import</span> <span class="n">MockerFixture</span>
<span class="linenos">  55</span><span class="kn">from</span><span class="w"> </span><span class="nn">sortedcontainers</span><span class="w"> </span><span class="kn">import</span> <span class="n">SortedList</span>
<span class="linenos">  56</span><span class="kn">from</span><span class="w"> </span><span class="nn">step_cloud_schemas</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
<span class="linenos">  57</span>    <span class="n">ActionId</span><span class="p">,</span>
<span class="linenos">  58</span>    <span class="n">DriveDirection</span><span class="p">,</span>
<span class="linenos">  59</span>    <span class="n">Heading</span><span class="p">,</span>
<span class="linenos">  60</span>    <span class="n">Identification</span><span class="p">,</span>
<span class="linenos">  61</span>    <span class="n">ItsTime</span><span class="p">,</span>
<span class="linenos">  62</span>    <span class="n">PositionInfo</span><span class="p">,</span>
<span class="linenos">  63</span>    <span class="n">PositionType</span><span class="p">,</span>
<span class="linenos">  64</span>    <span class="n">ReferencePosition</span><span class="p">,</span>
<span class="linenos">  65</span>    <span class="n">RoadType</span><span class="p">,</span>
<span class="linenos">  66</span>    <span class="n">Speed</span><span class="p">,</span>
<span class="linenos">  67</span>    <span class="n">StationCollisionArrayV1</span><span class="p">,</span>
<span class="linenos">  68</span>    <span class="n">TrafficParticipantType</span><span class="p">,</span>
<span class="linenos">  69</span><span class="p">)</span>
<span class="linenos">  70</span>
<span class="linenos">  71</span><span class="c1"># step_producer Package Imports</span>
<span class="linenos">  72</span><span class="kn">from</span><span class="w"> </span><span class="nn">step_producer.den_service_data_manager</span><span class="w"> </span><span class="kn">import</span> <span class="n">DenServiceDataManager</span>
<span class="linenos">  73</span><span class="kn">from</span><span class="w"> </span><span class="nn">step_producer.denm_record</span><span class="w"> </span><span class="kn">import</span> <span class="n">DenmRecord</span>
<span class="linenos">  74</span>
<span class="linenos">  75</span>
<div class="viewcode-block" id="TestDenServiceDataManager">
<a class="viewcode-back" href="../../test_rst/test.test_den_service_data_manager.html#test.test_den_service_data_manager.TestDenServiceDataManager">[docs]</a>
<span class="linenos">  76</span><span class="k">class</span><span class="w"> </span><span class="nc">TestDenServiceDataManager</span><span class="p">:</span>
<span class="linenos">  77</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;This class contains unit tests for the DenServiceDataManager class that manages</span>
<span class="linenos">  78</span><span class="sd">    Decentralized Environmental Notification Message (DENM) data.</span>
<span class="linenos">  79</span>
<span class="linenos">  80</span><span class="sd">    The test suite verifies the correct functionality of DenServiceDataManager including:</span>
<span class="linenos">  81</span>
<span class="linenos">  82</span><span class="sd">        - Initialization with proper parameters</span>
<span class="linenos">  83</span><span class="sd">        - Inserting and managing station collision arrays</span>
<span class="linenos">  84</span><span class="sd">        - Handling expired DENM records</span>
<span class="linenos">  85</span><span class="sd">        - Calculating update intervals</span>
<span class="linenos">  86</span><span class="sd">        - Removing DENM records</span>
<span class="linenos">  87</span>
<span class="linenos">  88</span><span class="sd">    Each test method targets specific behaviors to ensure the DenServiceDataManager</span>
<span class="linenos">  89</span><span class="sd">    class correctly processes and manages DENM data.</span>
<span class="linenos">  90</span><span class="sd">    &quot;&quot;&quot;</span>
<span class="linenos">  91</span>
<div class="viewcode-block" id="TestDenServiceDataManager.mock_logger">
<a class="viewcode-back" href="../../test_rst/test.test_den_service_data_manager.html#test.test_den_service_data_manager.TestDenServiceDataManager.mock_logger">[docs]</a>
<span class="linenos">  92</span>    <span class="nd">@fixture</span>
<span class="linenos">  93</span>    <span class="k">def</span><span class="w"> </span><span class="nf">mock_logger</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mocker</span><span class="p">:</span> <span class="n">MockerFixture</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Logger</span><span class="p">:</span>
<span class="linenos">  94</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a mock Logger object for testing purposes.</span>
<span class="linenos">  95</span>
<span class="linenos">  96</span><span class="sd">        Args:</span>
<span class="linenos">  97</span><span class="sd">            mocker (MockerFixture): The pytest mocker fixture.</span>
<span class="linenos">  98</span>
<span class="linenos">  99</span><span class="sd">        Returns:</span>
<span class="linenos"> 100</span><span class="sd">            Logger: A mocked Logger instance.</span>
<span class="linenos"> 101</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos"> 102</span>        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="n">Logger</span><span class="p">,</span> <span class="n">mocker</span><span class="o">.</span><span class="n">MagicMock</span><span class="p">(</span><span class="n">spec</span><span class="o">=</span><span class="n">Logger</span><span class="p">))</span></div>

<span class="linenos"> 103</span>
<div class="viewcode-block" id="TestDenServiceDataManager.stations_list_1">
<a class="viewcode-back" href="../../test_rst/test.test_den_service_data_manager.html#test.test_den_service_data_manager.TestDenServiceDataManager.stations_list_1">[docs]</a>
<span class="linenos"> 104</span>    <span class="nd">@fixture</span>
<span class="linenos"> 105</span>    <span class="k">def</span><span class="w"> </span><span class="nf">stations_list_1</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">PositionInfo</span><span class="p">]:</span>
<span class="linenos"> 106</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns a list of PositionInfo objects representing station positions.</span>
<span class="linenos"> 107</span>
<span class="linenos"> 108</span><span class="sd">        Each PositionInfo contains:</span>
<span class="linenos"> 109</span>
<span class="linenos"> 110</span><span class="sd">            - stationInfo: Identification of the station, including stationId and stationType.</span>
<span class="linenos"> 111</span><span class="sd">            - objectId: Identifier for the object (may be None).</span>
<span class="linenos"> 112</span><span class="sd">            - positionType: Type of the position (e.g., POSITION_GNSS).</span>
<span class="linenos"> 113</span><span class="sd">            - time: Timestamp of the position in ISO 8601 format.</span>
<span class="linenos"> 114</span><span class="sd">            - position: ReferencePosition object (default values).</span>
<span class="linenos"> 115</span><span class="sd">            - speed: Speed object or None.</span>
<span class="linenos"> 116</span><span class="sd">            - heading: Heading object or None.</span>
<span class="linenos"> 117</span><span class="sd">            - driveDirection: DriveDirection enum value or None.</span>
<span class="linenos"> 118</span>
<span class="linenos"> 119</span><span class="sd">        Returns:</span>
<span class="linenos"> 120</span><span class="sd">            list[PositionInfo]: List of PositionInfo objects with predefined station data.</span>
<span class="linenos"> 121</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos"> 122</span>        <span class="k">return</span> <span class="p">[</span>
<span class="linenos"> 123</span>            <span class="n">PositionInfo</span><span class="p">(</span>
<span class="linenos"> 124</span>                <span class="n">stationInfo</span><span class="o">=</span><span class="n">Identification</span><span class="p">(</span>
<span class="linenos"> 125</span>                    <span class="n">stationId</span><span class="o">=</span><span class="mi">102</span><span class="p">,</span> <span class="n">stationType</span><span class="o">=</span><span class="n">TrafficParticipantType</span><span class="o">.</span><span class="n">PASSENGER_CAR</span>
<span class="linenos"> 126</span>                <span class="p">),</span>
<span class="linenos"> 127</span>                <span class="n">objectId</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="linenos"> 128</span>                <span class="n">positionType</span><span class="o">=</span><span class="n">PositionType</span><span class="o">.</span><span class="n">POSITION_GNSS</span><span class="p">,</span>
<span class="linenos"> 129</span>                <span class="n">time</span><span class="o">=</span><span class="s2">&quot;2023-01-01T14:00:00.000Z&quot;</span><span class="p">,</span>
<span class="linenos"> 130</span>                <span class="n">position</span><span class="o">=</span><span class="n">ReferencePosition</span><span class="o">.</span><span class="n">get_default</span><span class="p">(),</span>
<span class="linenos"> 131</span>                <span class="n">speed</span><span class="o">=</span><span class="n">Speed</span><span class="o">.</span><span class="n">get_default</span><span class="p">(),</span>
<span class="linenos"> 132</span>                <span class="n">heading</span><span class="o">=</span><span class="n">Heading</span><span class="o">.</span><span class="n">get_default</span><span class="p">(),</span>
<span class="linenos"> 133</span>                <span class="n">driveDirection</span><span class="o">=</span><span class="n">DriveDirection</span><span class="o">.</span><span class="n">FORWARD</span><span class="p">,</span>
<span class="linenos"> 134</span>            <span class="p">),</span>
<span class="linenos"> 135</span>            <span class="n">PositionInfo</span><span class="p">(</span>
<span class="linenos"> 136</span>                <span class="n">stationInfo</span><span class="o">=</span><span class="n">Identification</span><span class="p">(</span>
<span class="linenos"> 137</span>                    <span class="n">stationId</span><span class="o">=</span><span class="mi">101</span><span class="p">,</span> <span class="n">stationType</span><span class="o">=</span><span class="n">TrafficParticipantType</span><span class="o">.</span><span class="n">PASSENGER_CAR</span>
<span class="linenos"> 138</span>                <span class="p">),</span>
<span class="linenos"> 139</span>                <span class="n">objectId</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="linenos"> 140</span>                <span class="n">positionType</span><span class="o">=</span><span class="n">PositionType</span><span class="o">.</span><span class="n">POSITION_GNSS</span><span class="p">,</span>
<span class="linenos"> 141</span>                <span class="n">time</span><span class="o">=</span><span class="s2">&quot;2023-01-01T14:00:00.100Z&quot;</span><span class="p">,</span>
<span class="linenos"> 142</span>                <span class="n">position</span><span class="o">=</span><span class="n">ReferencePosition</span><span class="o">.</span><span class="n">get_default</span><span class="p">(),</span>
<span class="linenos"> 143</span>                <span class="n">speed</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="linenos"> 144</span>                <span class="n">heading</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="linenos"> 145</span>                <span class="n">driveDirection</span><span class="o">=</span><span class="n">DriveDirection</span><span class="o">.</span><span class="n">FORWARD</span><span class="p">,</span>
<span class="linenos"> 146</span>            <span class="p">),</span>
<span class="linenos"> 147</span>            <span class="n">PositionInfo</span><span class="p">(</span>
<span class="linenos"> 148</span>                <span class="n">stationInfo</span><span class="o">=</span><span class="n">Identification</span><span class="p">(</span>
<span class="linenos"> 149</span>                    <span class="n">stationId</span><span class="o">=</span><span class="mi">102</span><span class="p">,</span> <span class="n">stationType</span><span class="o">=</span><span class="n">TrafficParticipantType</span><span class="o">.</span><span class="n">PASSENGER_CAR</span>
<span class="linenos"> 150</span>                <span class="p">),</span>
<span class="linenos"> 151</span>                <span class="n">objectId</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="linenos"> 152</span>                <span class="n">positionType</span><span class="o">=</span><span class="n">PositionType</span><span class="o">.</span><span class="n">POSITION_GNSS</span><span class="p">,</span>
<span class="linenos"> 153</span>                <span class="n">time</span><span class="o">=</span><span class="s2">&quot;2023-01-01T14:00:00.200Z&quot;</span><span class="p">,</span>
<span class="linenos"> 154</span>                <span class="n">position</span><span class="o">=</span><span class="n">ReferencePosition</span><span class="o">.</span><span class="n">get_default</span><span class="p">(),</span>
<span class="linenos"> 155</span>                <span class="n">speed</span><span class="o">=</span><span class="n">Speed</span><span class="o">.</span><span class="n">get_default</span><span class="p">(),</span>
<span class="linenos"> 156</span>                <span class="n">heading</span><span class="o">=</span><span class="n">Heading</span><span class="o">.</span><span class="n">get_default</span><span class="p">(),</span>
<span class="linenos"> 157</span>                <span class="n">driveDirection</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="linenos"> 158</span>            <span class="p">),</span>
<span class="linenos"> 159</span>        <span class="p">]</span></div>

<span class="linenos"> 160</span>
<div class="viewcode-block" id="TestDenServiceDataManager.station_collision_array_1">
<a class="viewcode-back" href="../../test_rst/test.test_den_service_data_manager.html#test.test_den_service_data_manager.TestDenServiceDataManager.station_collision_array_1">[docs]</a>
<span class="linenos"> 161</span>    <span class="nd">@fixture</span>
<span class="linenos"> 162</span>    <span class="k">def</span><span class="w"> </span><span class="nf">station_collision_array_1</span><span class="p">(</span>
<span class="linenos"> 163</span>        <span class="bp">self</span><span class="p">,</span> <span class="n">stations_list_1</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">PositionInfo</span><span class="p">]</span>
<span class="linenos"> 164</span>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StationCollisionArrayV1</span><span class="p">:</span>
<span class="linenos"> 165</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a StationCollisionArrayV1 instance with predefined collision data and</span>
<span class="linenos"> 166</span><span class="sd">        a given list of stations.</span>
<span class="linenos"> 167</span>
<span class="linenos"> 168</span><span class="sd">        Args:</span>
<span class="linenos"> 169</span><span class="sd">            stations_list_1 (list[PositionInfo]): A list of PositionInfo objects</span>
<span class="linenos"> 170</span><span class="sd">                representing the stations involved in the collision array.</span>
<span class="linenos"> 171</span>
<span class="linenos"> 172</span><span class="sd">        Returns:</span>
<span class="linenos"> 173</span><span class="sd">            StationCollisionArrayV1: An instance containing collision detection time,</span>
<span class="linenos"> 174</span><span class="sd">            time to collision, estimated braking distance, road type,</span>
<span class="linenos"> 175</span><span class="sd">            information quality, and the provided list of stations.</span>
<span class="linenos"> 176</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos"> 177</span>        <span class="k">return</span> <span class="n">StationCollisionArrayV1</span><span class="p">(</span>
<span class="linenos"> 178</span>            <span class="n">detectionTime</span><span class="o">=</span><span class="s2">&quot;2023-01-01T14:00:00.300Z&quot;</span><span class="p">,</span>
<span class="linenos"> 179</span>            <span class="n">timeToCollision</span><span class="o">=</span><span class="mi">6000</span><span class="p">,</span>
<span class="linenos"> 180</span>            <span class="n">estimatedBrakingDistance</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
<span class="linenos"> 181</span>            <span class="n">roadType</span><span class="o">=</span><span class="n">RoadType</span><span class="o">.</span><span class="n">URBAN_NO_STRUCT_SEP_TO_OPPOSITE_LANES</span><span class="p">,</span>
<span class="linenos"> 182</span>            <span class="n">informationQuality</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span>
<span class="linenos"> 183</span>            <span class="n">stations</span><span class="o">=</span><span class="n">stations_list_1</span><span class="p">,</span>
<span class="linenos"> 184</span>        <span class="p">)</span></div>

<span class="linenos"> 185</span>
<div class="viewcode-block" id="TestDenServiceDataManager.stations_list_2">
<a class="viewcode-back" href="../../test_rst/test.test_den_service_data_manager.html#test.test_den_service_data_manager.TestDenServiceDataManager.stations_list_2">[docs]</a>
<span class="linenos"> 186</span>    <span class="nd">@fixture</span>
<span class="linenos"> 187</span>    <span class="k">def</span><span class="w"> </span><span class="nf">stations_list_2</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">PositionInfo</span><span class="p">]:</span>
<span class="linenos"> 188</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns a list of PositionInfo objects representing station positions.</span>
<span class="linenos"> 189</span>
<span class="linenos"> 190</span><span class="sd">        Each PositionInfo contains:</span>
<span class="linenos"> 191</span>
<span class="linenos"> 192</span><span class="sd">            - stationInfo: Identification of the station, including stationId and stationType.</span>
<span class="linenos"> 193</span><span class="sd">            - objectId: Identifier for the object (may be None).</span>
<span class="linenos"> 194</span><span class="sd">            - positionType: Type of the position (e.g., POSITION_GNSS).</span>
<span class="linenos"> 195</span><span class="sd">            - time: Timestamp of the position in ISO 8601 format.</span>
<span class="linenos"> 196</span><span class="sd">            - position: ReferencePosition object (default values).</span>
<span class="linenos"> 197</span><span class="sd">            - speed: Speed object or None.</span>
<span class="linenos"> 198</span><span class="sd">            - heading: Heading object or None.</span>
<span class="linenos"> 199</span><span class="sd">            - driveDirection: DriveDirection enum value or None.</span>
<span class="linenos"> 200</span>
<span class="linenos"> 201</span><span class="sd">        Returns:</span>
<span class="linenos"> 202</span><span class="sd">            list[PositionInfo]: List of PositionInfo objects with predefined station data.</span>
<span class="linenos"> 203</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos"> 204</span>        <span class="k">return</span> <span class="p">[</span>
<span class="linenos"> 205</span>            <span class="n">PositionInfo</span><span class="p">(</span>
<span class="linenos"> 206</span>                <span class="n">stationInfo</span><span class="o">=</span><span class="n">Identification</span><span class="p">(</span>
<span class="linenos"> 207</span>                    <span class="n">stationId</span><span class="o">=</span><span class="mi">102</span><span class="p">,</span> <span class="n">stationType</span><span class="o">=</span><span class="n">TrafficParticipantType</span><span class="o">.</span><span class="n">PASSENGER_CAR</span>
<span class="linenos"> 208</span>                <span class="p">),</span>
<span class="linenos"> 209</span>                <span class="n">objectId</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="linenos"> 210</span>                <span class="n">positionType</span><span class="o">=</span><span class="n">PositionType</span><span class="o">.</span><span class="n">POSITION_GNSS</span><span class="p">,</span>
<span class="linenos"> 211</span>                <span class="n">time</span><span class="o">=</span><span class="s2">&quot;2023-01-01T14:00:01.000Z&quot;</span><span class="p">,</span>
<span class="linenos"> 212</span>                <span class="n">position</span><span class="o">=</span><span class="n">ReferencePosition</span><span class="o">.</span><span class="n">get_default</span><span class="p">(),</span>
<span class="linenos"> 213</span>                <span class="n">speed</span><span class="o">=</span><span class="n">Speed</span><span class="o">.</span><span class="n">get_default</span><span class="p">(),</span>
<span class="linenos"> 214</span>                <span class="n">heading</span><span class="o">=</span><span class="n">Heading</span><span class="o">.</span><span class="n">get_default</span><span class="p">(),</span>
<span class="linenos"> 215</span>                <span class="n">driveDirection</span><span class="o">=</span><span class="n">DriveDirection</span><span class="o">.</span><span class="n">FORWARD</span><span class="p">,</span>
<span class="linenos"> 216</span>            <span class="p">),</span>
<span class="linenos"> 217</span>            <span class="n">PositionInfo</span><span class="p">(</span>
<span class="linenos"> 218</span>                <span class="n">stationInfo</span><span class="o">=</span><span class="n">Identification</span><span class="p">(</span>
<span class="linenos"> 219</span>                    <span class="n">stationId</span><span class="o">=</span><span class="mi">101</span><span class="p">,</span> <span class="n">stationType</span><span class="o">=</span><span class="n">TrafficParticipantType</span><span class="o">.</span><span class="n">PASSENGER_CAR</span>
<span class="linenos"> 220</span>                <span class="p">),</span>
<span class="linenos"> 221</span>                <span class="n">objectId</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="linenos"> 222</span>                <span class="n">positionType</span><span class="o">=</span><span class="n">PositionType</span><span class="o">.</span><span class="n">POSITION_GNSS</span><span class="p">,</span>
<span class="linenos"> 223</span>                <span class="n">time</span><span class="o">=</span><span class="s2">&quot;2023-01-01T14:00:01.100Z&quot;</span><span class="p">,</span>
<span class="linenos"> 224</span>                <span class="n">position</span><span class="o">=</span><span class="n">ReferencePosition</span><span class="o">.</span><span class="n">get_default</span><span class="p">(),</span>
<span class="linenos"> 225</span>                <span class="n">speed</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="linenos"> 226</span>                <span class="n">heading</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="linenos"> 227</span>                <span class="n">driveDirection</span><span class="o">=</span><span class="n">DriveDirection</span><span class="o">.</span><span class="n">FORWARD</span><span class="p">,</span>
<span class="linenos"> 228</span>            <span class="p">),</span>
<span class="linenos"> 229</span>            <span class="n">PositionInfo</span><span class="p">(</span>
<span class="linenos"> 230</span>                <span class="n">stationInfo</span><span class="o">=</span><span class="n">Identification</span><span class="p">(</span>
<span class="linenos"> 231</span>                    <span class="n">stationId</span><span class="o">=</span><span class="mi">102</span><span class="p">,</span> <span class="n">stationType</span><span class="o">=</span><span class="n">TrafficParticipantType</span><span class="o">.</span><span class="n">PASSENGER_CAR</span>
<span class="linenos"> 232</span>                <span class="p">),</span>
<span class="linenos"> 233</span>                <span class="n">objectId</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<span class="linenos"> 234</span>                <span class="n">positionType</span><span class="o">=</span><span class="n">PositionType</span><span class="o">.</span><span class="n">POSITION_GNSS</span><span class="p">,</span>
<span class="linenos"> 235</span>                <span class="n">time</span><span class="o">=</span><span class="s2">&quot;2023-01-01T14:00:01.200Z&quot;</span><span class="p">,</span>
<span class="linenos"> 236</span>                <span class="n">position</span><span class="o">=</span><span class="n">ReferencePosition</span><span class="o">.</span><span class="n">get_default</span><span class="p">(),</span>
<span class="linenos"> 237</span>                <span class="n">speed</span><span class="o">=</span><span class="n">Speed</span><span class="o">.</span><span class="n">get_default</span><span class="p">(),</span>
<span class="linenos"> 238</span>                <span class="n">heading</span><span class="o">=</span><span class="n">Heading</span><span class="o">.</span><span class="n">get_default</span><span class="p">(),</span>
<span class="linenos"> 239</span>                <span class="n">driveDirection</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="linenos"> 240</span>            <span class="p">),</span>
<span class="linenos"> 241</span>        <span class="p">]</span></div>

<span class="linenos"> 242</span>
<div class="viewcode-block" id="TestDenServiceDataManager.station_collision_array_2">
<a class="viewcode-back" href="../../test_rst/test.test_den_service_data_manager.html#test.test_den_service_data_manager.TestDenServiceDataManager.station_collision_array_2">[docs]</a>
<span class="linenos"> 243</span>    <span class="nd">@fixture</span>
<span class="linenos"> 244</span>    <span class="k">def</span><span class="w"> </span><span class="nf">station_collision_array_2</span><span class="p">(</span>
<span class="linenos"> 245</span>        <span class="bp">self</span><span class="p">,</span> <span class="n">stations_list_2</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">PositionInfo</span><span class="p">]</span>
<span class="linenos"> 246</span>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StationCollisionArrayV1</span><span class="p">:</span>
<span class="linenos"> 247</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;Creates a StationCollisionArrayV1 instance with predefined collision data and</span>
<span class="linenos"> 248</span><span class="sd">        a given list of stations.</span>
<span class="linenos"> 249</span>
<span class="linenos"> 250</span><span class="sd">        Args:</span>
<span class="linenos"> 251</span><span class="sd">            stations_list_2 (list[PositionInfo]): A list of PositionInfo objects</span>
<span class="linenos"> 252</span><span class="sd">                representing the stations involved in the collision array.</span>
<span class="linenos"> 253</span>
<span class="linenos"> 254</span><span class="sd">        Returns:</span>
<span class="linenos"> 255</span><span class="sd">            StationCollisionArrayV1: An instance containing collision detection time,</span>
<span class="linenos"> 256</span><span class="sd">            time to collision, estimated braking distance, road type,</span>
<span class="linenos"> 257</span><span class="sd">            information quality, and the provided list of stations.</span>
<span class="linenos"> 258</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos"> 259</span>        <span class="k">return</span> <span class="n">StationCollisionArrayV1</span><span class="p">(</span>
<span class="linenos"> 260</span>            <span class="n">detectionTime</span><span class="o">=</span><span class="s2">&quot;2023-01-01T14:00:01.300Z&quot;</span><span class="p">,</span>
<span class="linenos"> 261</span>            <span class="n">timeToCollision</span><span class="o">=</span><span class="mi">8000</span><span class="p">,</span>
<span class="linenos"> 262</span>            <span class="n">estimatedBrakingDistance</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
<span class="linenos"> 263</span>            <span class="n">roadType</span><span class="o">=</span><span class="n">RoadType</span><span class="o">.</span><span class="n">URBAN_NO_STRUCT_SEP_TO_OPPOSITE_LANES</span><span class="p">,</span>
<span class="linenos"> 264</span>            <span class="n">informationQuality</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span>
<span class="linenos"> 265</span>            <span class="n">stations</span><span class="o">=</span><span class="n">stations_list_2</span><span class="p">,</span>
<span class="linenos"> 266</span>        <span class="p">)</span></div>

<span class="linenos"> 267</span>
<div class="viewcode-block" id="TestDenServiceDataManager.test___slots__">
<a class="viewcode-back" href="../../test_rst/test.test_den_service_data_manager.html#test.test_den_service_data_manager.TestDenServiceDataManager.test___slots__">[docs]</a>
<span class="linenos"> 268</span>    <span class="k">def</span><span class="w"> </span><span class="nf">test___slots__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="linenos"> 269</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;Test that DenServiceDataManager has the expected ``__slots__`` attributes.</span>
<span class="linenos"> 270</span>
<span class="linenos"> 271</span><span class="sd">        Verifies that the ``__slots__`` tuple contains all the required private attributes</span>
<span class="linenos"> 272</span><span class="sd">        for memory optimization and prevents dynamic attribute creation.</span>
<span class="linenos"> 273</span>
<span class="linenos"> 274</span><span class="sd">        Returns:</span>
<span class="linenos"> 275</span><span class="sd">            None</span>
<span class="linenos"> 276</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos"> 277</span>        <span class="k">assert</span> <span class="n">DenServiceDataManager</span><span class="o">.</span><span class="vm">__slots__</span> <span class="o">==</span> <span class="p">(</span>
<span class="linenos"> 278</span>            <span class="s2">&quot;_denm_sorted_records&quot;</span><span class="p">,</span>
<span class="linenos"> 279</span>            <span class="s2">&quot;_record_key_index&quot;</span><span class="p">,</span>
<span class="linenos"> 280</span>            <span class="s2">&quot;_action_id_index&quot;</span><span class="p">,</span>
<span class="linenos"> 281</span>            <span class="s2">&quot;_station_id&quot;</span><span class="p">,</span>
<span class="linenos"> 282</span>            <span class="s2">&quot;_sequence_number&quot;</span><span class="p">,</span>
<span class="linenos"> 283</span>            <span class="s2">&quot;_time_after_collision&quot;</span><span class="p">,</span>
<span class="linenos"> 284</span>            <span class="s2">&quot;_denm_last_update_max_delay_ms&quot;</span><span class="p">,</span>
<span class="linenos"> 285</span>            <span class="s2">&quot;_denm_check_last_update_max_interval&quot;</span><span class="p">,</span>
<span class="linenos"> 286</span>            <span class="s2">&quot;_logger&quot;</span><span class="p">,</span>
<span class="linenos"> 287</span>            <span class="s2">&quot;_lock&quot;</span><span class="p">,</span>
<span class="linenos"> 288</span>        <span class="p">)</span></div>

<span class="linenos"> 289</span>
<div class="viewcode-block" id="TestDenServiceDataManager.test_init">
<a class="viewcode-back" href="../../test_rst/test.test_den_service_data_manager.html#test.test_den_service_data_manager.TestDenServiceDataManager.test_init">[docs]</a>
<span class="linenos"> 290</span>    <span class="k">def</span><span class="w"> </span><span class="nf">test_init</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mock_logger</span><span class="p">:</span> <span class="n">Logger</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="linenos"> 291</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;Test the initialization of a DenServiceDataManager instance.</span>
<span class="linenos"> 292</span>
<span class="linenos"> 293</span><span class="sd">        This test verifies that the DenServiceDataManager constructor:</span>
<span class="linenos"> 294</span>
<span class="linenos"> 295</span><span class="sd">            #. Properly initializes an empty SortedList for DENM records</span>
<span class="linenos"> 296</span><span class="sd">            #. Creates empty dictionaries for record key and action ID indices</span>
<span class="linenos"> 297</span><span class="sd">            #. Correctly sets the station ID, sequence number and timing parameters</span>
<span class="linenos"> 298</span><span class="sd">            #. Sets the logger properly</span>
<span class="linenos"> 299</span>
<span class="linenos"> 300</span><span class="sd">        Args:</span>
<span class="linenos"> 301</span><span class="sd">            mock_logger (Logger): A mock logger object</span>
<span class="linenos"> 302</span>
<span class="linenos"> 303</span><span class="sd">        Returns:</span>
<span class="linenos"> 304</span><span class="sd">            None</span>
<span class="linenos"> 305</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos"> 306</span>        <span class="n">den_service_data_manager</span> <span class="o">=</span> <span class="n">DenServiceDataManager</span><span class="p">(</span>
<span class="linenos"> 307</span>            <span class="n">station_id</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
<span class="linenos"> 308</span>            <span class="n">time_after_collision</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
<span class="linenos"> 309</span>            <span class="n">denm_last_update_max_delay_ms</span><span class="o">=</span><span class="mi">2000</span><span class="p">,</span>
<span class="linenos"> 310</span>            <span class="n">denm_check_last_update_max_interval</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span>
<span class="linenos"> 311</span>            <span class="n">logger</span><span class="o">=</span><span class="n">mock_logger</span><span class="p">,</span>
<span class="linenos"> 312</span>        <span class="p">)</span>
<span class="linenos"> 313</span>        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_denm_sorted_records</span><span class="p">,</span> <span class="n">SortedList</span><span class="p">)</span>
<span class="linenos"> 314</span>        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_denm_sorted_records</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
<span class="linenos"> 315</span>        <span class="k">assert</span> <span class="ow">not</span> <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_record_key_index</span>
<span class="linenos"> 316</span>        <span class="k">assert</span> <span class="ow">not</span> <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_action_id_index</span>
<span class="linenos"> 317</span>        <span class="k">assert</span> <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_station_id</span> <span class="o">==</span> <span class="mi">100</span>
<span class="linenos"> 318</span>        <span class="k">assert</span> <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_sequence_number</span> <span class="o">==</span> <span class="mi">0</span>
<span class="linenos"> 319</span>        <span class="k">assert</span> <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_time_after_collision</span> <span class="o">==</span> <span class="mi">1000</span>
<span class="linenos"> 320</span>        <span class="k">assert</span> <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_denm_last_update_max_delay_ms</span> <span class="o">==</span> <span class="mi">2000</span>
<span class="linenos"> 321</span>        <span class="k">assert</span> <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_denm_check_last_update_max_interval</span> <span class="o">==</span> <span class="mi">5000</span>
<span class="linenos"> 322</span>        <span class="k">assert</span> <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_logger</span> <span class="o">==</span> <span class="n">mock_logger</span></div>

<span class="linenos"> 323</span>
<div class="viewcode-block" id="TestDenServiceDataManager.test_station_order">
<a class="viewcode-back" href="../../test_rst/test.test_den_service_data_manager.html#test.test_den_service_data_manager.TestDenServiceDataManager.test_station_order">[docs]</a>
<span class="linenos"> 324</span>    <span class="k">def</span><span class="w"> </span><span class="nf">test_station_order</span><span class="p">(</span>
<span class="linenos"> 325</span>        <span class="bp">self</span><span class="p">,</span>
<span class="linenos"> 326</span>        <span class="n">mock_logger</span><span class="p">:</span> <span class="n">Logger</span><span class="p">,</span>
<span class="linenos"> 327</span>        <span class="n">station_collision_array_1</span><span class="p">:</span> <span class="n">StationCollisionArrayV1</span><span class="p">,</span>
<span class="linenos"> 328</span>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="linenos"> 329</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;Test the ``_station_order`` method of DenServiceDataManager.</span>
<span class="linenos"> 330</span>
<span class="linenos"> 331</span><span class="sd">        Verifies that stations are correctly ordered based on their objectId and stationId</span>
<span class="linenos"> 332</span><span class="sd">        attributes. The test creates a DenServiceDataManager instance and calls the</span>
<span class="linenos"> 333</span><span class="sd">        ``_station_order`` method with a predefined set of stations, then asserts that</span>
<span class="linenos"> 334</span><span class="sd">        the returned stations are in the expected order.</span>
<span class="linenos"> 335</span>
<span class="linenos"> 336</span><span class="sd">        Args:</span>
<span class="linenos"> 337</span><span class="sd">            mock_logger: A mock logger instance for testing purposes.</span>
<span class="linenos"> 338</span><span class="sd">            station_collision_array_1: A fixture containing test station data with</span>
<span class="linenos"> 339</span><span class="sd">                stations that have different objectId and stationId combinations.</span>
<span class="linenos"> 340</span>
<span class="linenos"> 341</span><span class="sd">        Returns:</span>
<span class="linenos"> 342</span><span class="sd">            None</span>
<span class="linenos"> 343</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos"> 344</span>        <span class="c1"># Arrange</span>
<span class="linenos"> 345</span>        <span class="n">den_service_data_manager</span> <span class="o">=</span> <span class="n">DenServiceDataManager</span><span class="p">(</span>
<span class="linenos"> 346</span>            <span class="n">station_id</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
<span class="linenos"> 347</span>            <span class="n">time_after_collision</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
<span class="linenos"> 348</span>            <span class="n">denm_last_update_max_delay_ms</span><span class="o">=</span><span class="mi">2000</span><span class="p">,</span>
<span class="linenos"> 349</span>            <span class="n">denm_check_last_update_max_interval</span><span class="o">=</span><span class="mi">3000</span><span class="p">,</span>
<span class="linenos"> 350</span>            <span class="n">logger</span><span class="o">=</span><span class="n">mock_logger</span><span class="p">,</span>
<span class="linenos"> 351</span>        <span class="p">)</span>
<span class="linenos"> 352</span>        <span class="n">ordered_stations</span> <span class="o">=</span> <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_station_order</span><span class="p">(</span>
<span class="linenos"> 353</span>            <span class="n">stations</span><span class="o">=</span><span class="n">station_collision_array_1</span><span class="o">.</span><span class="n">stations</span>
<span class="linenos"> 354</span>        <span class="p">)</span>
<span class="linenos"> 355</span>        <span class="c1"># Verify the order of stations based on objectId and stationId</span>
<span class="linenos"> 356</span>        <span class="k">assert</span> <span class="n">ordered_stations</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">station_collision_array_1</span><span class="o">.</span><span class="n">stations</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># (101, 1)</span>
<span class="linenos"> 357</span>        <span class="k">assert</span> <span class="p">(</span>
<span class="linenos"> 358</span>            <span class="n">ordered_stations</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">station_collision_array_1</span><span class="o">.</span><span class="n">stations</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>  <span class="c1"># (102, None)</span>
<span class="linenos"> 359</span>        <span class="p">)</span>  <span class="c1"># (200, 1)</span>
<span class="linenos"> 360</span>        <span class="k">assert</span> <span class="p">(</span>
<span class="linenos"> 361</span>            <span class="n">ordered_stations</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="n">station_collision_array_1</span><span class="o">.</span><span class="n">stations</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># (102, 1)</span>
<span class="linenos"> 362</span>        <span class="p">)</span>  <span class="c1"># (200, 2)</span></div>

<span class="linenos"> 363</span>
<div class="viewcode-block" id="TestDenServiceDataManager.test_create_denm">
<a class="viewcode-back" href="../../test_rst/test.test_den_service_data_manager.html#test.test_den_service_data_manager.TestDenServiceDataManager.test_create_denm">[docs]</a>
<span class="linenos"> 364</span>    <span class="k">def</span><span class="w"> </span><span class="nf">test_create_denm</span><span class="p">(</span>
<span class="linenos"> 365</span>        <span class="bp">self</span><span class="p">,</span>
<span class="linenos"> 366</span>        <span class="n">mock_logger</span><span class="p">:</span> <span class="n">Logger</span><span class="p">,</span>
<span class="linenos"> 367</span>        <span class="n">station_collision_array_1</span><span class="p">:</span> <span class="n">StationCollisionArrayV1</span><span class="p">,</span>
<span class="linenos"> 368</span>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="linenos"> 369</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;Test the creation of a DENM (Decentralized Environmental Notification</span>
<span class="linenos"> 370</span><span class="sd">        Message) record using the DenServiceDataManager.</span>
<span class="linenos"> 371</span>
<span class="linenos"> 372</span><span class="sd">        This test verifies that the ``_create_denm`` method correctly constructs a ``DenmRecord``</span>
<span class="linenos"> 373</span><span class="sd">        object with the expected properties based on the provided ``station_collision_array``</span>
<span class="linenos"> 374</span><span class="sd">        and other parameters.</span>
<span class="linenos"> 375</span>
<span class="linenos"> 376</span><span class="sd">        Asserts:</span>
<span class="linenos"> 377</span><span class="sd">            - The returned object is an instance of `DenmRecord`.</span>
<span class="linenos"> 378</span><span class="sd">            - The ``originatingStationId`` and ``sequenceNumber`` in the management container&#39;s</span>
<span class="linenos"> 379</span><span class="sd">              action ID are set correctly.</span>
<span class="linenos"> 380</span><span class="sd">            - The ``detectionTime`` and ``referenceTime`` in the management container match the</span>
<span class="linenos"> 381</span><span class="sd">              input data.</span>
<span class="linenos"> 382</span><span class="sd">            - The ``eventPosition`` in the management container matches the position of the</span>
<span class="linenos"> 383</span><span class="sd">              first station.</span>
<span class="linenos"> 384</span><span class="sd">            - The ``perceivedObject.position`` in the pre-crash container matches the position</span>
<span class="linenos"> 385</span><span class="sd">              of the second station.</span>
<span class="linenos"> 386</span>
<span class="linenos"> 387</span><span class="sd">        Args:</span>
<span class="linenos"> 388</span><span class="sd">            mock_logger: A mock logger instance for testing purposes.</span>
<span class="linenos"> 389</span><span class="sd">            station_collision_array_1 (StationCollisionArrayV1): The input data containing</span>
<span class="linenos"> 390</span><span class="sd">                station collision information.</span>
<span class="linenos"> 391</span>
<span class="linenos"> 392</span><span class="sd">        Returns:</span>
<span class="linenos"> 393</span><span class="sd">            None</span>
<span class="linenos"> 394</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos"> 395</span>        <span class="n">den_service_data_manager</span> <span class="o">=</span> <span class="n">DenServiceDataManager</span><span class="p">(</span>
<span class="linenos"> 396</span>            <span class="n">station_id</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
<span class="linenos"> 397</span>            <span class="n">time_after_collision</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
<span class="linenos"> 398</span>            <span class="n">denm_last_update_max_delay_ms</span><span class="o">=</span><span class="mi">2000</span><span class="p">,</span>
<span class="linenos"> 399</span>            <span class="n">denm_check_last_update_max_interval</span><span class="o">=</span><span class="mi">3000</span><span class="p">,</span>
<span class="linenos"> 400</span>            <span class="n">logger</span><span class="o">=</span><span class="n">mock_logger</span><span class="p">,</span>
<span class="linenos"> 401</span>        <span class="p">)</span>
<span class="linenos"> 402</span>        <span class="n">denm</span> <span class="o">=</span> <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_create_denm</span><span class="p">(</span>
<span class="linenos"> 403</span>            <span class="n">record_key</span><span class="o">=</span><span class="p">(</span><span class="mi">101</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
<span class="linenos"> 404</span>            <span class="n">action_id</span><span class="o">=</span><span class="n">ActionId</span><span class="p">(</span>
<span class="linenos"> 405</span>                <span class="n">originatingStationId</span><span class="o">=</span><span class="mi">103</span><span class="p">,</span>
<span class="linenos"> 406</span>                <span class="n">sequenceNumber</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
<span class="linenos"> 407</span>            <span class="p">),</span>
<span class="linenos"> 408</span>            <span class="n">detection_time_its</span><span class="o">=</span><span class="n">ItsTime</span><span class="o">.</span><span class="n">create_from_iso_time</span><span class="p">(</span>
<span class="linenos"> 409</span>                <span class="n">time_str</span><span class="o">=</span><span class="n">station_collision_array_1</span><span class="o">.</span><span class="n">detectionTime</span>
<span class="linenos"> 410</span>            <span class="p">),</span>
<span class="linenos"> 411</span>            <span class="n">station_collision_array</span><span class="o">=</span><span class="n">station_collision_array_1</span><span class="p">,</span>
<span class="linenos"> 412</span>            <span class="n">position_reference</span><span class="o">=</span><span class="n">station_collision_array_1</span><span class="o">.</span><span class="n">stations</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
<span class="linenos"> 413</span>            <span class="n">station</span><span class="o">=</span><span class="n">station_collision_array_1</span><span class="o">.</span><span class="n">stations</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
<span class="linenos"> 414</span>        <span class="p">)</span>
<span class="linenos"> 415</span>        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">denm</span><span class="p">,</span> <span class="n">DenmRecord</span><span class="p">)</span>
<span class="linenos"> 416</span>        <span class="k">assert</span> <span class="n">denm</span><span class="o">.</span><span class="n">denm</span><span class="o">.</span><span class="n">managementContainer</span><span class="o">.</span><span class="n">actionId</span><span class="o">.</span><span class="n">originatingStationId</span> <span class="o">==</span> <span class="mi">103</span>
<span class="linenos"> 417</span>        <span class="k">assert</span> <span class="n">denm</span><span class="o">.</span><span class="n">denm</span><span class="o">.</span><span class="n">managementContainer</span><span class="o">.</span><span class="n">actionId</span><span class="o">.</span><span class="n">sequenceNumber</span> <span class="o">==</span> <span class="mi">0</span>
<span class="linenos"> 418</span>        <span class="k">assert</span> <span class="p">(</span>
<span class="linenos"> 419</span>            <span class="n">denm</span><span class="o">.</span><span class="n">denm</span><span class="o">.</span><span class="n">managementContainer</span><span class="o">.</span><span class="n">detectionTime</span>
<span class="linenos"> 420</span>            <span class="o">==</span> <span class="n">station_collision_array_1</span><span class="o">.</span><span class="n">detectionTime</span>
<span class="linenos"> 421</span>        <span class="p">)</span>
<span class="linenos"> 422</span>        <span class="k">assert</span> <span class="p">(</span>
<span class="linenos"> 423</span>            <span class="n">denm</span><span class="o">.</span><span class="n">denm</span><span class="o">.</span><span class="n">managementContainer</span><span class="o">.</span><span class="n">referenceTime</span>
<span class="linenos"> 424</span>            <span class="o">==</span> <span class="n">station_collision_array_1</span><span class="o">.</span><span class="n">detectionTime</span>
<span class="linenos"> 425</span>        <span class="p">)</span>
<span class="linenos"> 426</span>        <span class="k">assert</span> <span class="p">(</span>
<span class="linenos"> 427</span>            <span class="n">denm</span><span class="o">.</span><span class="n">denm</span><span class="o">.</span><span class="n">managementContainer</span><span class="o">.</span><span class="n">validityDuration</span>
<span class="linenos"> 428</span>            <span class="o">==</span> <span class="n">station_collision_array_1</span><span class="o">.</span><span class="n">timeToCollision</span>
<span class="linenos"> 429</span>            <span class="o">+</span> <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_time_after_collision</span>
<span class="linenos"> 430</span>        <span class="p">)</span>
<span class="linenos"> 431</span>        <span class="k">assert</span> <span class="p">(</span>
<span class="linenos"> 432</span>            <span class="n">denm</span><span class="o">.</span><span class="n">denm</span><span class="o">.</span><span class="n">managementContainer</span><span class="o">.</span><span class="n">eventPosition</span>
<span class="linenos"> 433</span>            <span class="o">==</span> <span class="n">station_collision_array_1</span><span class="o">.</span><span class="n">stations</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">position</span>
<span class="linenos"> 434</span>        <span class="p">)</span>
<span class="linenos"> 435</span>        <span class="k">assert</span> <span class="n">denm</span><span class="o">.</span><span class="n">denm</span><span class="o">.</span><span class="n">preCrashContainer</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
<span class="linenos"> 436</span>        <span class="k">assert</span> <span class="p">(</span>
<span class="linenos"> 437</span>            <span class="n">denm</span><span class="o">.</span><span class="n">denm</span><span class="o">.</span><span class="n">preCrashContainer</span><span class="o">.</span><span class="n">perceivedObject</span><span class="o">.</span><span class="n">position</span>
<span class="linenos"> 438</span>            <span class="o">==</span> <span class="n">station_collision_array_1</span><span class="o">.</span><span class="n">stations</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">position</span>
<span class="linenos"> 439</span>        <span class="p">)</span>
<span class="linenos"> 440</span>        <span class="k">assert</span> <span class="p">(</span>
<span class="linenos"> 441</span>            <span class="n">denm</span><span class="o">.</span><span class="n">denm</span><span class="o">.</span><span class="n">preCrashContainer</span><span class="o">.</span><span class="n">timeToCollision</span>
<span class="linenos"> 442</span>            <span class="o">==</span> <span class="n">station_collision_array_1</span><span class="o">.</span><span class="n">timeToCollision</span>
<span class="linenos"> 443</span>        <span class="p">)</span></div>

<span class="linenos"> 444</span>
<div class="viewcode-block" id="TestDenServiceDataManager.test_insert_station_collision_array">
<a class="viewcode-back" href="../../test_rst/test.test_den_service_data_manager.html#test.test_den_service_data_manager.TestDenServiceDataManager.test_insert_station_collision_array">[docs]</a>
<span class="linenos"> 445</span>    <span class="k">def</span><span class="w"> </span><span class="nf">test_insert_station_collision_array</span><span class="p">(</span>
<span class="linenos"> 446</span>        <span class="bp">self</span><span class="p">,</span>
<span class="linenos"> 447</span>        <span class="n">mock_logger</span><span class="p">:</span> <span class="n">Logger</span><span class="p">,</span>
<span class="linenos"> 448</span>        <span class="n">station_collision_array_1</span><span class="p">:</span> <span class="n">StationCollisionArrayV1</span><span class="p">,</span>
<span class="linenos"> 449</span>        <span class="n">station_collision_array_2</span><span class="p">:</span> <span class="n">StationCollisionArrayV1</span><span class="p">,</span>
<span class="linenos"> 450</span>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="linenos"> 451</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;Test the insertion of station collision arrays into the DEN service data</span>
<span class="linenos"> 452</span><span class="sd">        manager.</span>
<span class="linenos"> 453</span>
<span class="linenos"> 454</span><span class="sd">        This test verifies that:</span>
<span class="linenos"> 455</span>
<span class="linenos"> 456</span><span class="sd">            #. Station collision arrays are correctly inserted and converted to DENM records</span>
<span class="linenos"> 457</span><span class="sd">            #. Sequence numbers are properly incremented after each insertion</span>
<span class="linenos"> 458</span><span class="sd">            #. DENM records have correct action ID and record key attributes</span>
<span class="linenos"> 459</span><span class="sd">            #. Internal data structures (_denm_sorted_records, _record_key_index, _action_id_index)</span>
<span class="linenos"> 460</span><span class="sd">               are properly maintained and synchronized</span>
<span class="linenos"> 461</span><span class="sd">            #. Multiple insertions work correctly with different collision arrays</span>
<span class="linenos"> 462</span><span class="sd">            #. Records are properly indexed and accessible through different lookup mechanisms</span>
<span class="linenos"> 463</span>
<span class="linenos"> 464</span><span class="sd">        The test performs two insertions and validates the state after each operation,</span>
<span class="linenos"> 465</span><span class="sd">        ensuring proper record management and indexing functionality.</span>
<span class="linenos"> 466</span>
<span class="linenos"> 467</span><span class="sd">        Args:</span>
<span class="linenos"> 468</span><span class="sd">            mock_logger: A mock logger instance for testing purposes.</span>
<span class="linenos"> 469</span><span class="sd">            station_collision_array_1 (StationCollisionArrayV1): First test collision array fixture</span>
<span class="linenos"> 470</span><span class="sd">            station_collision_array_2 (StationCollisionArrayV1): Second test collision array fixture</span>
<span class="linenos"> 471</span>
<span class="linenos"> 472</span><span class="sd">        Returns:</span>
<span class="linenos"> 473</span><span class="sd">            None</span>
<span class="linenos"> 474</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos"> 475</span>        <span class="n">den_service_data_manager</span> <span class="o">=</span> <span class="n">DenServiceDataManager</span><span class="p">(</span>
<span class="linenos"> 476</span>            <span class="n">station_id</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
<span class="linenos"> 477</span>            <span class="n">time_after_collision</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
<span class="linenos"> 478</span>            <span class="n">denm_last_update_max_delay_ms</span><span class="o">=</span><span class="mi">2000</span><span class="p">,</span>
<span class="linenos"> 479</span>            <span class="n">denm_check_last_update_max_interval</span><span class="o">=</span><span class="mi">3000</span><span class="p">,</span>
<span class="linenos"> 480</span>            <span class="n">logger</span><span class="o">=</span><span class="n">mock_logger</span><span class="p">,</span>
<span class="linenos"> 481</span>        <span class="p">)</span>
<span class="linenos"> 482</span>        <span class="n">denm_list</span> <span class="o">=</span> <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">insert_station_collision_array</span><span class="p">(</span>
<span class="linenos"> 483</span>            <span class="n">station_collision_array</span><span class="o">=</span><span class="n">station_collision_array_1</span>
<span class="linenos"> 484</span>        <span class="p">)</span>
<span class="linenos"> 485</span>        <span class="k">assert</span> <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_sequence_number</span> <span class="o">==</span> <span class="mi">2</span>
<span class="linenos"> 486</span>        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">denm_list</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>
<span class="linenos"> 487</span>        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">record</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">iterable</span><span class="o">=</span><span class="n">denm_list</span><span class="p">):</span>
<span class="linenos"> 488</span>            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">record</span><span class="p">,</span> <span class="n">DenmRecord</span><span class="p">)</span>
<span class="linenos"> 489</span>            <span class="k">assert</span> <span class="n">record</span><span class="o">.</span><span class="n">action_id_index</span> <span class="o">==</span> <span class="p">(</span>
<span class="linenos"> 490</span>                <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_station_id</span><span class="p">,</span>
<span class="linenos"> 491</span>                <span class="n">index</span><span class="p">,</span>
<span class="linenos"> 492</span>            <span class="p">)</span>
<span class="linenos"> 493</span>        <span class="k">assert</span> <span class="n">denm_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">record_key</span> <span class="o">==</span> <span class="p">(</span>
<span class="linenos"> 494</span>            <span class="mi">101</span><span class="p">,</span>
<span class="linenos"> 495</span>            <span class="mi">1</span><span class="p">,</span>
<span class="linenos"> 496</span>            <span class="mi">102</span><span class="p">,</span>
<span class="linenos"> 497</span>            <span class="mi">0</span><span class="p">,</span>
<span class="linenos"> 498</span>        <span class="p">)</span>
<span class="linenos"> 499</span>        <span class="k">assert</span> <span class="n">denm_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">record_key</span> <span class="o">==</span> <span class="p">(</span>
<span class="linenos"> 500</span>            <span class="mi">101</span><span class="p">,</span>
<span class="linenos"> 501</span>            <span class="mi">1</span><span class="p">,</span>
<span class="linenos"> 502</span>            <span class="mi">102</span><span class="p">,</span>
<span class="linenos"> 503</span>            <span class="mi">1</span><span class="p">,</span>
<span class="linenos"> 504</span>        <span class="p">)</span>
<span class="linenos"> 505</span>        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_denm_sorted_records</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>
<span class="linenos"> 506</span>        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">record</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">iterable</span><span class="o">=</span><span class="n">denm_list</span><span class="p">):</span>
<span class="linenos"> 507</span>            <span class="k">assert</span> <span class="n">record</span> <span class="o">==</span> <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_denm_sorted_records</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
<span class="linenos"> 508</span>            <span class="k">assert</span> <span class="p">(</span>
<span class="linenos"> 509</span>                <span class="n">record</span> <span class="o">==</span> <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_record_key_index</span><span class="p">[</span><span class="n">record</span><span class="o">.</span><span class="n">record_key</span><span class="p">]</span>
<span class="linenos"> 510</span>            <span class="p">)</span>
<span class="linenos"> 511</span>            <span class="k">assert</span> <span class="p">(</span>
<span class="linenos"> 512</span>                <span class="n">record</span>
<span class="linenos"> 513</span>                <span class="o">==</span> <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_action_id_index</span><span class="p">[</span><span class="n">record</span><span class="o">.</span><span class="n">action_id_index</span><span class="p">]</span>
<span class="linenos"> 514</span>            <span class="p">)</span>
<span class="linenos"> 515</span>        <span class="c1"># Insert a different station collision array</span>
<span class="linenos"> 516</span>        <span class="n">denm_list</span> <span class="o">=</span> <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">insert_station_collision_array</span><span class="p">(</span>
<span class="linenos"> 517</span>            <span class="n">station_collision_array</span><span class="o">=</span><span class="n">station_collision_array_2</span>
<span class="linenos"> 518</span>        <span class="p">)</span>
<span class="linenos"> 519</span>        <span class="k">assert</span> <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_sequence_number</span> <span class="o">==</span> <span class="mi">3</span>
<span class="linenos"> 520</span>        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">denm_list</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>
<span class="linenos"> 521</span>        <span class="k">assert</span> <span class="n">denm_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">action_id_index</span> <span class="o">==</span> <span class="p">(</span>
<span class="linenos"> 522</span>            <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_station_id</span><span class="p">,</span>
<span class="linenos"> 523</span>            <span class="mi">1</span><span class="p">,</span>
<span class="linenos"> 524</span>        <span class="p">)</span>
<span class="linenos"> 525</span>        <span class="k">assert</span> <span class="n">denm_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">action_id_index</span> <span class="o">==</span> <span class="p">(</span>
<span class="linenos"> 526</span>            <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_station_id</span><span class="p">,</span>
<span class="linenos"> 527</span>            <span class="mi">2</span><span class="p">,</span>
<span class="linenos"> 528</span>        <span class="p">)</span>
<span class="linenos"> 529</span>        <span class="k">assert</span> <span class="n">denm_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">record_key</span> <span class="o">==</span> <span class="p">(</span>
<span class="linenos"> 530</span>            <span class="mi">101</span><span class="p">,</span>
<span class="linenos"> 531</span>            <span class="mi">1</span><span class="p">,</span>
<span class="linenos"> 532</span>            <span class="mi">102</span><span class="p">,</span>
<span class="linenos"> 533</span>            <span class="mi">1</span><span class="p">,</span>
<span class="linenos"> 534</span>        <span class="p">)</span>
<span class="linenos"> 535</span>        <span class="k">assert</span> <span class="n">denm_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">record_key</span> <span class="o">==</span> <span class="p">(</span>
<span class="linenos"> 536</span>            <span class="mi">101</span><span class="p">,</span>
<span class="linenos"> 537</span>            <span class="mi">1</span><span class="p">,</span>
<span class="linenos"> 538</span>            <span class="mi">102</span><span class="p">,</span>
<span class="linenos"> 539</span>            <span class="mi">2</span><span class="p">,</span>
<span class="linenos"> 540</span>        <span class="p">)</span>
<span class="linenos"> 541</span>        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_denm_sorted_records</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span>
<span class="linenos"> 542</span>        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">record</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">iterable</span><span class="o">=</span><span class="n">denm_list</span><span class="p">):</span>
<span class="linenos"> 543</span>            <span class="k">assert</span> <span class="n">record</span> <span class="o">==</span> <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_denm_sorted_records</span><span class="p">[</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
<span class="linenos"> 544</span>            <span class="k">assert</span> <span class="p">(</span>
<span class="linenos"> 545</span>                <span class="n">record</span> <span class="o">==</span> <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_record_key_index</span><span class="p">[</span><span class="n">record</span><span class="o">.</span><span class="n">record_key</span><span class="p">]</span>
<span class="linenos"> 546</span>            <span class="p">)</span>
<span class="linenos"> 547</span>            <span class="k">assert</span> <span class="p">(</span>
<span class="linenos"> 548</span>                <span class="n">record</span>
<span class="linenos"> 549</span>                <span class="o">==</span> <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_action_id_index</span><span class="p">[</span><span class="n">record</span><span class="o">.</span><span class="n">action_id_index</span><span class="p">]</span>
<span class="linenos"> 550</span>            <span class="p">)</span></div>

<span class="linenos"> 551</span>
<div class="viewcode-block" id="TestDenServiceDataManager.test_get_denm_records_reference_expired">
<a class="viewcode-back" href="../../test_rst/test.test_den_service_data_manager.html#test.test_den_service_data_manager.TestDenServiceDataManager.test_get_denm_records_reference_expired">[docs]</a>
<span class="linenos"> 552</span>    <span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span>
<span class="linenos"> 553</span>        <span class="n">argnames</span><span class="o">=</span><span class="s2">&quot;now_str,expires_records_key, oldest_record_key&quot;</span><span class="p">,</span>
<span class="linenos"> 554</span>        <span class="n">argvalues</span><span class="o">=</span><span class="p">[</span>
<span class="linenos"> 555</span>            <span class="p">(</span><span class="s2">&quot;2023-01-01T14:00:02.300Z&quot;</span><span class="p">,</span> <span class="p">[],</span> <span class="p">(</span><span class="mi">101</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">0</span><span class="p">)),</span>
<span class="linenos"> 556</span>            <span class="p">(</span><span class="s2">&quot;2023-01-01T14:00:02.301Z&quot;</span><span class="p">,</span> <span class="p">[(</span><span class="mi">101</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">0</span><span class="p">)],</span> <span class="p">(</span><span class="mi">101</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span>
<span class="linenos"> 557</span>            <span class="p">(</span>
<span class="linenos"> 558</span>                <span class="s2">&quot;2023-01-01T14:00:03.301Z&quot;</span><span class="p">,</span>
<span class="linenos"> 559</span>                <span class="p">[(</span><span class="mi">101</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">101</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">101</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">2</span><span class="p">)],</span>
<span class="linenos"> 560</span>                <span class="kc">None</span><span class="p">,</span>
<span class="linenos"> 561</span>            <span class="p">),</span>
<span class="linenos"> 562</span>        <span class="p">],</span>
<span class="linenos"> 563</span>    <span class="p">)</span>
<span class="linenos"> 564</span>    <span class="k">def</span><span class="w"> </span><span class="nf">test_get_denm_records_reference_expired</span><span class="p">(</span>
<span class="linenos"> 565</span>        <span class="bp">self</span><span class="p">,</span>
<span class="linenos"> 566</span>        <span class="n">mocker</span><span class="p">:</span> <span class="n">MockerFixture</span><span class="p">,</span>
<span class="linenos"> 567</span>        <span class="n">mock_logger</span><span class="p">:</span> <span class="n">Logger</span><span class="p">,</span>
<span class="linenos"> 568</span>        <span class="n">station_collision_array_1</span><span class="p">:</span> <span class="n">StationCollisionArrayV1</span><span class="p">,</span>
<span class="linenos"> 569</span>        <span class="n">station_collision_array_2</span><span class="p">:</span> <span class="n">StationCollisionArrayV1</span><span class="p">,</span>
<span class="linenos"> 570</span>        <span class="n">now_str</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="linenos"> 571</span>        <span class="n">expires_records_key</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]],</span>
<span class="linenos"> 572</span>        <span class="n">oldest_record_key</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]],</span>
<span class="linenos"> 573</span>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="linenos"> 574</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;Test the `get_denm_records_reference_expired` method of</span>
<span class="linenos"> 575</span><span class="sd">        `DenServiceDataManager`.</span>
<span class="linenos"> 576</span>
<span class="linenos"> 577</span><span class="sd">        This test verifies that expired DENM records are correctly identified and</span>
<span class="linenos"> 578</span><span class="sd">        removed from the internal indices, and that the oldest remaining</span>
<span class="linenos"> 579</span><span class="sd">        record is correctly determined.</span>
<span class="linenos"> 580</span>
<span class="linenos"> 581</span><span class="sd">        Asserts:</span>
<span class="linenos"> 582</span><span class="sd">            - The number of records in all relevant indices is reduced by the</span>
<span class="linenos"> 583</span><span class="sd">              number of expired records.</span>
<span class="linenos"> 584</span><span class="sd">            - The number of expired records matches the expected count.</span>
<span class="linenos"> 585</span><span class="sd">            - The oldest remaining record matches the expected key.</span>
<span class="linenos"> 586</span>
<span class="linenos"> 587</span><span class="sd">        Args:</span>
<span class="linenos"> 588</span><span class="sd">            mocker (MockerFixture): Pytest fixture for mocking.</span>
<span class="linenos"> 589</span><span class="sd">            mock_logger: A mock logger instance for testing purposes.</span>
<span class="linenos"> 590</span><span class="sd">            station_collision_array_1 (StationCollisionArrayV1): First test</span>
<span class="linenos"> 591</span><span class="sd">                collision array to insert.</span>
<span class="linenos"> 592</span><span class="sd">            station_collision_array_2 (StationCollisionArrayV1): Second test</span>
<span class="linenos"> 593</span><span class="sd">                collision array to insert.</span>
<span class="linenos"> 594</span><span class="sd">            now_str (str): ISO-formatted string representing the current time.</span>
<span class="linenos"> 595</span><span class="sd">            expires_records_key (list[tuple[int, int, int, int]]): List of keys</span>
<span class="linenos"> 596</span><span class="sd">                for records expected to expire.</span>
<span class="linenos"> 597</span><span class="sd">            oldest_record_key (Optional[tuple[int, int, int, int]]): The expected</span>
<span class="linenos"> 598</span><span class="sd">                key of the oldest remaining record, or None.</span>
<span class="linenos"> 599</span>
<span class="linenos"> 600</span><span class="sd">        Returns:</span>
<span class="linenos"> 601</span><span class="sd">            None</span>
<span class="linenos"> 602</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos"> 603</span>        <span class="c1"># Arrange</span>
<span class="linenos"> 604</span>        <span class="n">den_service_data_manager</span> <span class="o">=</span> <span class="n">DenServiceDataManager</span><span class="p">(</span>
<span class="linenos"> 605</span>            <span class="n">station_id</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
<span class="linenos"> 606</span>            <span class="n">time_after_collision</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
<span class="linenos"> 607</span>            <span class="n">denm_last_update_max_delay_ms</span><span class="o">=</span><span class="mi">2000</span><span class="p">,</span>
<span class="linenos"> 608</span>            <span class="n">denm_check_last_update_max_interval</span><span class="o">=</span><span class="mi">3000</span><span class="p">,</span>
<span class="linenos"> 609</span>            <span class="n">logger</span><span class="o">=</span><span class="n">mock_logger</span><span class="p">,</span>
<span class="linenos"> 610</span>        <span class="p">)</span>
<span class="linenos"> 611</span>        <span class="n">now</span> <span class="o">=</span> <span class="n">ItsTime</span><span class="o">.</span><span class="n">create_from_iso_time</span><span class="p">(</span><span class="n">time_str</span><span class="o">=</span><span class="n">now_str</span><span class="p">)</span>
<span class="linenos"> 612</span>        <span class="n">mock_time</span> <span class="o">=</span> <span class="n">mocker</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span>
<span class="linenos"> 613</span>            <span class="s2">&quot;step_cloud_schemas.classes.its_time.time&quot;</span><span class="p">,</span> <span class="n">autospec</span><span class="o">=</span><span class="kc">True</span>
<span class="linenos"> 614</span>        <span class="p">)</span>
<span class="linenos"> 615</span>        <span class="n">mock_time</span><span class="o">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="n">now</span><span class="o">.</span><span class="n">epoch</span>
<span class="linenos"> 616</span>        <span class="c1"># execute</span>
<span class="linenos"> 617</span>        <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">insert_station_collision_array</span><span class="p">(</span>
<span class="linenos"> 618</span>            <span class="n">station_collision_array</span><span class="o">=</span><span class="n">station_collision_array_1</span>
<span class="linenos"> 619</span>        <span class="p">)</span>
<span class="linenos"> 620</span>        <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">insert_station_collision_array</span><span class="p">(</span>
<span class="linenos"> 621</span>            <span class="n">station_collision_array</span><span class="o">=</span><span class="n">station_collision_array_2</span>
<span class="linenos"> 622</span>        <span class="p">)</span>
<span class="linenos"> 623</span>        <span class="n">records_number</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_record_key_index</span><span class="p">)</span>
<span class="linenos"> 624</span>        <span class="p">(</span><span class="n">expired_records</span><span class="p">,</span> <span class="n">oldest_record</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span>
<span class="linenos"> 625</span>            <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">get_denm_records_clean_reference_expired</span><span class="p">()</span>
<span class="linenos"> 626</span>        <span class="p">)</span>
<span class="linenos"> 627</span>        <span class="n">expired_records_keys_number</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">expires_records_key</span><span class="p">)</span>
<span class="linenos"> 628</span>        <span class="c1"># Assert</span>
<span class="linenos"> 629</span>        <span class="k">assert</span> <span class="p">(</span>
<span class="linenos"> 630</span>            <span class="nb">len</span><span class="p">(</span><span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_record_key_index</span><span class="p">)</span>
<span class="linenos"> 631</span>            <span class="o">==</span> <span class="n">records_number</span> <span class="o">-</span> <span class="n">expired_records_keys_number</span>
<span class="linenos"> 632</span>        <span class="p">)</span>
<span class="linenos"> 633</span>        <span class="k">assert</span> <span class="p">(</span>
<span class="linenos"> 634</span>            <span class="nb">len</span><span class="p">(</span><span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_action_id_index</span><span class="p">)</span>
<span class="linenos"> 635</span>            <span class="o">==</span> <span class="n">records_number</span> <span class="o">-</span> <span class="n">expired_records_keys_number</span>
<span class="linenos"> 636</span>        <span class="p">)</span>
<span class="linenos"> 637</span>        <span class="k">assert</span> <span class="p">(</span>
<span class="linenos"> 638</span>            <span class="nb">len</span><span class="p">(</span><span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_denm_sorted_records</span><span class="p">)</span>
<span class="linenos"> 639</span>            <span class="o">==</span> <span class="n">records_number</span> <span class="o">-</span> <span class="n">expired_records_keys_number</span>
<span class="linenos"> 640</span>        <span class="p">)</span>
<span class="linenos"> 641</span>        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">expired_records</span><span class="p">)</span> <span class="o">==</span> <span class="n">expired_records_keys_number</span>
<span class="linenos"> 642</span>        <span class="k">assert</span> <span class="p">(</span>
<span class="linenos"> 643</span>            <span class="n">oldest_record</span><span class="o">.</span><span class="n">record_key</span> <span class="k">if</span> <span class="n">oldest_record</span> <span class="k">else</span> <span class="kc">None</span>
<span class="linenos"> 644</span>        <span class="p">)</span> <span class="o">==</span> <span class="n">oldest_record_key</span></div>

<span class="linenos"> 645</span>
<div class="viewcode-block" id="TestDenServiceDataManager.test_get_denm_records_reference_expired_validity">
<a class="viewcode-back" href="../../test_rst/test.test_den_service_data_manager.html#test.test_den_service_data_manager.TestDenServiceDataManager.test_get_denm_records_reference_expired_validity">[docs]</a>
<span class="linenos"> 646</span>    <span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span>
<span class="linenos"> 647</span>        <span class="n">argnames</span><span class="o">=</span><span class="s2">&quot;now_str,validity_expires_records_key, oldest_record_key&quot;</span><span class="p">,</span>
<span class="linenos"> 648</span>        <span class="n">argvalues</span><span class="o">=</span><span class="p">[</span>
<span class="linenos"> 649</span>            <span class="p">(</span><span class="s2">&quot;2023-01-01T14:00:07.300Z&quot;</span><span class="p">,</span> <span class="p">[],</span> <span class="p">(</span><span class="mi">101</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">0</span><span class="p">)),</span>
<span class="linenos"> 650</span>            <span class="p">(</span><span class="s2">&quot;2023-01-01T14:00:07.301Z&quot;</span><span class="p">,</span> <span class="p">[(</span><span class="mi">101</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">0</span><span class="p">)],</span> <span class="p">(</span><span class="mi">101</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span>
<span class="linenos"> 651</span>            <span class="p">(</span><span class="s2">&quot;2023-01-01T14:00:10.300Z&quot;</span><span class="p">,</span> <span class="p">[(</span><span class="mi">101</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">0</span><span class="p">)],</span> <span class="p">(</span><span class="mi">101</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">1</span><span class="p">)),</span>
<span class="linenos"> 652</span>            <span class="p">(</span>
<span class="linenos"> 653</span>                <span class="s2">&quot;2023-01-01T14:00:10.301Z&quot;</span><span class="p">,</span>
<span class="linenos"> 654</span>                <span class="p">[(</span><span class="mi">101</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">101</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">101</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">2</span><span class="p">)],</span>
<span class="linenos"> 655</span>                <span class="kc">None</span><span class="p">,</span>
<span class="linenos"> 656</span>            <span class="p">),</span>
<span class="linenos"> 657</span>        <span class="p">],</span>
<span class="linenos"> 658</span>    <span class="p">)</span>
<span class="linenos"> 659</span>    <span class="k">def</span><span class="w"> </span><span class="nf">test_get_denm_records_reference_expired_validity</span><span class="p">(</span>
<span class="linenos"> 660</span>        <span class="bp">self</span><span class="p">,</span>
<span class="linenos"> 661</span>        <span class="n">mocker</span><span class="p">:</span> <span class="n">MockerFixture</span><span class="p">,</span>
<span class="linenos"> 662</span>        <span class="n">mock_logger</span><span class="p">:</span> <span class="n">Logger</span><span class="p">,</span>
<span class="linenos"> 663</span>        <span class="n">station_collision_array_1</span><span class="p">:</span> <span class="n">StationCollisionArrayV1</span><span class="p">,</span>
<span class="linenos"> 664</span>        <span class="n">station_collision_array_2</span><span class="p">:</span> <span class="n">StationCollisionArrayV1</span><span class="p">,</span>
<span class="linenos"> 665</span>        <span class="n">now_str</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="linenos"> 666</span>        <span class="n">validity_expires_records_key</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]],</span>
<span class="linenos"> 667</span>        <span class="n">oldest_record_key</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]],</span>
<span class="linenos"> 668</span>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="linenos"> 669</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;Test the ``get_denm_records_reference_expired`` method of</span>
<span class="linenos"> 670</span><span class="sd">        ``DenServiceDataManager``.</span>
<span class="linenos"> 671</span>
<span class="linenos"> 672</span><span class="sd">        This test verifies that expired DENM records are correctly identified and</span>
<span class="linenos"> 673</span><span class="sd">        removed from the internal indices, and that the oldest remaining</span>
<span class="linenos"> 674</span><span class="sd">        record is correctly determined.</span>
<span class="linenos"> 675</span>
<span class="linenos"> 676</span><span class="sd">        Asserts:</span>
<span class="linenos"> 677</span><span class="sd">            - The number of records in all relevant indices is reduced by the</span>
<span class="linenos"> 678</span><span class="sd">              number of expired records.</span>
<span class="linenos"> 679</span><span class="sd">            - The number of expired records matches the expected count.</span>
<span class="linenos"> 680</span><span class="sd">            - The oldest remaining record matches the expected key.</span>
<span class="linenos"> 681</span>
<span class="linenos"> 682</span><span class="sd">        Args:</span>
<span class="linenos"> 683</span><span class="sd">            mocker (MockerFixture): Pytest fixture for mocking.</span>
<span class="linenos"> 684</span><span class="sd">            mock_logger: A mock logger instance for testing purposes.</span>
<span class="linenos"> 685</span><span class="sd">            station_collision_array_1 (StationCollisionArrayV1): First test</span>
<span class="linenos"> 686</span><span class="sd">                collision array to insert.</span>
<span class="linenos"> 687</span><span class="sd">            station_collision_array_2 (StationCollisionArrayV1): Second test</span>
<span class="linenos"> 688</span><span class="sd">                collision array to insert.</span>
<span class="linenos"> 689</span><span class="sd">            now_str (str): ISO-formatted string representing the current time.</span>
<span class="linenos"> 690</span><span class="sd">            validity_expires_records_key (list[tuple[int, int, int, int]]): List of keys</span>
<span class="linenos"> 691</span><span class="sd">                for records expected to expire for validity.</span>
<span class="linenos"> 692</span><span class="sd">            oldest_record_key (Optional[tuple[int, int, int, int]]): The expected</span>
<span class="linenos"> 693</span><span class="sd">                key of the oldest remaining record, or None.</span>
<span class="linenos"> 694</span>
<span class="linenos"> 695</span><span class="sd">        Returns:</span>
<span class="linenos"> 696</span><span class="sd">            None</span>
<span class="linenos"> 697</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos"> 698</span>        <span class="c1"># Arrange</span>
<span class="linenos"> 699</span>        <span class="n">den_service_data_manager</span> <span class="o">=</span> <span class="n">DenServiceDataManager</span><span class="p">(</span>
<span class="linenos"> 700</span>            <span class="n">station_id</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
<span class="linenos"> 701</span>            <span class="n">time_after_collision</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
<span class="linenos"> 702</span>            <span class="n">denm_last_update_max_delay_ms</span><span class="o">=</span><span class="mi">20000</span><span class="p">,</span>
<span class="linenos"> 703</span>            <span class="n">denm_check_last_update_max_interval</span><span class="o">=</span><span class="mi">30000</span><span class="p">,</span>
<span class="linenos"> 704</span>            <span class="n">logger</span><span class="o">=</span><span class="n">mock_logger</span><span class="p">,</span>
<span class="linenos"> 705</span>        <span class="p">)</span>
<span class="linenos"> 706</span>        <span class="n">now</span> <span class="o">=</span> <span class="n">ItsTime</span><span class="o">.</span><span class="n">create_from_iso_time</span><span class="p">(</span><span class="n">time_str</span><span class="o">=</span><span class="n">now_str</span><span class="p">)</span>
<span class="linenos"> 707</span>        <span class="n">mock_time</span> <span class="o">=</span> <span class="n">mocker</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span>
<span class="linenos"> 708</span>            <span class="s2">&quot;step_cloud_schemas.classes.its_time.time&quot;</span><span class="p">,</span> <span class="n">autospec</span><span class="o">=</span><span class="kc">True</span>
<span class="linenos"> 709</span>        <span class="p">)</span>
<span class="linenos"> 710</span>        <span class="n">mock_time</span><span class="o">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="n">now</span><span class="o">.</span><span class="n">epoch</span>
<span class="linenos"> 711</span>        <span class="c1"># execute</span>
<span class="linenos"> 712</span>        <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">insert_station_collision_array</span><span class="p">(</span>
<span class="linenos"> 713</span>            <span class="n">station_collision_array</span><span class="o">=</span><span class="n">station_collision_array_1</span>
<span class="linenos"> 714</span>        <span class="p">)</span>
<span class="linenos"> 715</span>        <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">insert_station_collision_array</span><span class="p">(</span>
<span class="linenos"> 716</span>            <span class="n">station_collision_array</span><span class="o">=</span><span class="n">station_collision_array_2</span>
<span class="linenos"> 717</span>        <span class="p">)</span>
<span class="linenos"> 718</span>        <span class="n">records_number</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_record_key_index</span><span class="p">)</span>
<span class="linenos"> 719</span>        <span class="p">(</span><span class="n">expired_records</span><span class="p">,</span> <span class="n">oldest_record</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span>
<span class="linenos"> 720</span>            <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">get_denm_records_clean_reference_expired</span><span class="p">()</span>
<span class="linenos"> 721</span>        <span class="p">)</span>
<span class="linenos"> 722</span>        <span class="n">validity_expired_records_keys_number</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">validity_expires_records_key</span><span class="p">)</span>
<span class="linenos"> 723</span>        <span class="c1"># Assert</span>
<span class="linenos"> 724</span>        <span class="k">assert</span> <span class="p">(</span>
<span class="linenos"> 725</span>            <span class="nb">len</span><span class="p">(</span><span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_record_key_index</span><span class="p">)</span>
<span class="linenos"> 726</span>            <span class="o">==</span> <span class="n">records_number</span> <span class="o">-</span> <span class="n">validity_expired_records_keys_number</span>
<span class="linenos"> 727</span>        <span class="p">)</span>
<span class="linenos"> 728</span>        <span class="k">assert</span> <span class="p">(</span>
<span class="linenos"> 729</span>            <span class="nb">len</span><span class="p">(</span><span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_action_id_index</span><span class="p">)</span>
<span class="linenos"> 730</span>            <span class="o">==</span> <span class="n">records_number</span> <span class="o">-</span> <span class="n">validity_expired_records_keys_number</span>
<span class="linenos"> 731</span>        <span class="p">)</span>
<span class="linenos"> 732</span>        <span class="k">assert</span> <span class="p">(</span>
<span class="linenos"> 733</span>            <span class="nb">len</span><span class="p">(</span><span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_denm_sorted_records</span><span class="p">)</span>
<span class="linenos"> 734</span>            <span class="o">==</span> <span class="n">records_number</span> <span class="o">-</span> <span class="n">validity_expired_records_keys_number</span>
<span class="linenos"> 735</span>        <span class="p">)</span>
<span class="linenos"> 736</span>        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">expired_records</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
<span class="linenos"> 737</span>        <span class="k">assert</span> <span class="p">(</span>
<span class="linenos"> 738</span>            <span class="n">oldest_record</span><span class="o">.</span><span class="n">record_key</span> <span class="k">if</span> <span class="n">oldest_record</span> <span class="k">else</span> <span class="kc">None</span>
<span class="linenos"> 739</span>        <span class="p">)</span> <span class="o">==</span> <span class="n">oldest_record_key</span></div>

<span class="linenos"> 740</span>
<div class="viewcode-block" id="TestDenServiceDataManager.test_get_interval_oldest_update_ms_none">
<a class="viewcode-back" href="../../test_rst/test.test_den_service_data_manager.html#test.test_den_service_data_manager.TestDenServiceDataManager.test_get_interval_oldest_update_ms_none">[docs]</a>
<span class="linenos"> 741</span>    <span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span>
<span class="linenos"> 742</span>        <span class="n">argnames</span><span class="o">=</span><span class="s2">&quot;now_str, oldest_record_update_ms&quot;</span><span class="p">,</span>
<span class="linenos"> 743</span>        <span class="n">argvalues</span><span class="o">=</span><span class="p">[</span>
<span class="linenos"> 744</span>            <span class="p">(</span><span class="s2">&quot;2023-01-01T14:00:02.300Z&quot;</span><span class="p">,</span> <span class="mi">2000</span><span class="p">),</span>
<span class="linenos"> 745</span>            <span class="p">(</span><span class="s2">&quot;2023-01-01T14:00:02.301Z&quot;</span><span class="p">,</span> <span class="mi">1001</span><span class="p">),</span>
<span class="linenos"> 746</span>            <span class="p">(</span><span class="s2">&quot;2023-01-01T14:00:04.301Z&quot;</span><span class="p">,</span> <span class="mi">3000</span><span class="p">),</span>
<span class="linenos"> 747</span>        <span class="p">],</span>
<span class="linenos"> 748</span>    <span class="p">)</span>
<span class="linenos"> 749</span>    <span class="k">def</span><span class="w"> </span><span class="nf">test_get_interval_oldest_update_ms_none</span><span class="p">(</span>
<span class="linenos"> 750</span>        <span class="bp">self</span><span class="p">,</span>
<span class="linenos"> 751</span>        <span class="n">mocker</span><span class="p">:</span> <span class="n">MockerFixture</span><span class="p">,</span>
<span class="linenos"> 752</span>        <span class="n">mock_logger</span><span class="p">:</span> <span class="n">Logger</span><span class="p">,</span>
<span class="linenos"> 753</span>        <span class="n">station_collision_array_1</span><span class="p">:</span> <span class="n">StationCollisionArrayV1</span><span class="p">,</span>
<span class="linenos"> 754</span>        <span class="n">station_collision_array_2</span><span class="p">:</span> <span class="n">StationCollisionArrayV1</span><span class="p">,</span>
<span class="linenos"> 755</span>        <span class="n">now_str</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="linenos"> 756</span>        <span class="n">oldest_record_update_ms</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
<span class="linenos"> 757</span>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="linenos"> 758</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;Test that `get_interval_oldest_update_ms` returns the expected value when no</span>
<span class="linenos"> 759</span><span class="sd">        records have an update time, by inserting two station collision arrays, mocking</span>
<span class="linenos"> 760</span><span class="sd">        the current time, and verifying the returned interval matches the expected</span>
<span class="linenos"> 761</span><span class="sd">        value.</span>
<span class="linenos"> 762</span>
<span class="linenos"> 763</span><span class="sd">        Asserts:</span>
<span class="linenos"> 764</span><span class="sd">            That the interval returned by `get_interval_oldest_update_ms` equals</span>
<span class="linenos"> 765</span><span class="sd">            `oldest_record_update_ms`.</span>
<span class="linenos"> 766</span>
<span class="linenos"> 767</span><span class="sd">        Args:</span>
<span class="linenos"> 768</span><span class="sd">            mocker (MockerFixture): Pytest fixture for mocking.</span>
<span class="linenos"> 769</span><span class="sd">            mock_logger: A mock logger instance for testing purposes.</span>
<span class="linenos"> 770</span><span class="sd">            station_collision_array_1 (StationCollisionArrayV1): First station collision array</span>
<span class="linenos"> 771</span><span class="sd">                to insert.</span>
<span class="linenos"> 772</span><span class="sd">            station_collision_array_2 (StationCollisionArrayV1): Second station collision array</span>
<span class="linenos"> 773</span><span class="sd">                to insert.</span>
<span class="linenos"> 774</span><span class="sd">            now_str (str): ISO formatted string representing the current time.</span>
<span class="linenos"> 775</span><span class="sd">            oldest_record_update_ms (int): Expected interval in milliseconds for the oldest</span>
<span class="linenos"> 776</span><span class="sd">                record update.</span>
<span class="linenos"> 777</span>
<span class="linenos"> 778</span><span class="sd">        Returns:</span>
<span class="linenos"> 779</span><span class="sd">            None</span>
<span class="linenos"> 780</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos"> 781</span>        <span class="n">den_service_data_manager</span> <span class="o">=</span> <span class="n">DenServiceDataManager</span><span class="p">(</span>
<span class="linenos"> 782</span>            <span class="n">station_id</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
<span class="linenos"> 783</span>            <span class="n">time_after_collision</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
<span class="linenos"> 784</span>            <span class="n">denm_last_update_max_delay_ms</span><span class="o">=</span><span class="mi">2000</span><span class="p">,</span>
<span class="linenos"> 785</span>            <span class="n">denm_check_last_update_max_interval</span><span class="o">=</span><span class="mi">3000</span><span class="p">,</span>
<span class="linenos"> 786</span>            <span class="n">logger</span><span class="o">=</span><span class="n">mock_logger</span><span class="p">,</span>
<span class="linenos"> 787</span>        <span class="p">)</span>
<span class="linenos"> 788</span>        <span class="n">now</span> <span class="o">=</span> <span class="n">ItsTime</span><span class="o">.</span><span class="n">create_from_iso_time</span><span class="p">(</span><span class="n">time_str</span><span class="o">=</span><span class="n">now_str</span><span class="p">)</span>
<span class="linenos"> 789</span>        <span class="n">mock_time</span> <span class="o">=</span> <span class="n">mocker</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span>
<span class="linenos"> 790</span>            <span class="s2">&quot;step_cloud_schemas.classes.its_time.time&quot;</span><span class="p">,</span> <span class="n">autospec</span><span class="o">=</span><span class="kc">True</span>
<span class="linenos"> 791</span>        <span class="p">)</span>
<span class="linenos"> 792</span>        <span class="n">mock_time</span><span class="o">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="n">now</span><span class="o">.</span><span class="n">epoch</span>
<span class="linenos"> 793</span>        <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">insert_station_collision_array</span><span class="p">(</span>
<span class="linenos"> 794</span>            <span class="n">station_collision_array</span><span class="o">=</span><span class="n">station_collision_array_1</span>
<span class="linenos"> 795</span>        <span class="p">)</span>
<span class="linenos"> 796</span>        <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">insert_station_collision_array</span><span class="p">(</span>
<span class="linenos"> 797</span>            <span class="n">station_collision_array</span><span class="o">=</span><span class="n">station_collision_array_2</span>
<span class="linenos"> 798</span>        <span class="p">)</span>
<span class="linenos"> 799</span>        <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">get_denm_records_clean_reference_expired</span><span class="p">()</span>
<span class="linenos"> 800</span>        <span class="k">assert</span> <span class="p">(</span>
<span class="linenos"> 801</span>            <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">get_interval_oldest_update_ms</span><span class="p">()</span>
<span class="linenos"> 802</span>            <span class="o">==</span> <span class="n">oldest_record_update_ms</span>
<span class="linenos"> 803</span>        <span class="p">)</span></div>

<span class="linenos"> 804</span>
<div class="viewcode-block" id="TestDenServiceDataManager.test_get_interval_oldest_update_ms_oldest_record">
<a class="viewcode-back" href="../../test_rst/test.test_den_service_data_manager.html#test.test_den_service_data_manager.TestDenServiceDataManager.test_get_interval_oldest_update_ms_oldest_record">[docs]</a>
<span class="linenos"> 805</span>    <span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span>
<span class="linenos"> 806</span>        <span class="n">argnames</span><span class="o">=</span><span class="s2">&quot;now_str, oldest_record_update_ms&quot;</span><span class="p">,</span>
<span class="linenos"> 807</span>        <span class="n">argvalues</span><span class="o">=</span><span class="p">[</span>
<span class="linenos"> 808</span>            <span class="p">(</span><span class="s2">&quot;2023-01-01T14:00:02.300Z&quot;</span><span class="p">,</span> <span class="mi">2000</span><span class="p">),</span>
<span class="linenos"> 809</span>            <span class="p">(</span><span class="s2">&quot;2023-01-01T14:00:02.301Z&quot;</span><span class="p">,</span> <span class="mi">1001</span><span class="p">),</span>
<span class="linenos"> 810</span>            <span class="p">(</span><span class="s2">&quot;2023-01-01T14:00:04.301Z&quot;</span><span class="p">,</span> <span class="mi">3000</span><span class="p">),</span>
<span class="linenos"> 811</span>        <span class="p">],</span>
<span class="linenos"> 812</span>    <span class="p">)</span>
<span class="linenos"> 813</span>    <span class="k">def</span><span class="w"> </span><span class="nf">test_get_interval_oldest_update_ms_oldest_record</span><span class="p">(</span>
<span class="linenos"> 814</span>        <span class="bp">self</span><span class="p">,</span>
<span class="linenos"> 815</span>        <span class="n">mocker</span><span class="p">:</span> <span class="n">MockerFixture</span><span class="p">,</span>
<span class="linenos"> 816</span>        <span class="n">mock_logger</span><span class="p">:</span> <span class="n">Logger</span><span class="p">,</span>
<span class="linenos"> 817</span>        <span class="n">station_collision_array_1</span><span class="p">:</span> <span class="n">StationCollisionArrayV1</span><span class="p">,</span>
<span class="linenos"> 818</span>        <span class="n">station_collision_array_2</span><span class="p">:</span> <span class="n">StationCollisionArrayV1</span><span class="p">,</span>
<span class="linenos"> 819</span>        <span class="n">now_str</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="linenos"> 820</span>        <span class="n">oldest_record_update_ms</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
<span class="linenos"> 821</span>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="linenos"> 822</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;Test that the ``get_interval_oldest_update_ms`` method of</span>
<span class="linenos"> 823</span><span class="sd">        ``DenServiceDataManager`` returns the correct interval in milliseconds for the</span>
<span class="linenos"> 824</span><span class="sd">        oldest record, given a set of inserted station collision arrays.</span>
<span class="linenos"> 825</span>
<span class="linenos"> 826</span><span class="sd">        This test:</span>
<span class="linenos"> 827</span>
<span class="linenos"> 828</span><span class="sd">            - Mocks the current time using ``mocker.patch`` to ensure deterministic behavior.</span>
<span class="linenos"> 829</span><span class="sd">            - Inserts two ``StationCollisionArrayV1`` records into the data manager.</span>
<span class="linenos"> 830</span><span class="sd">            - Retrieves the oldest record using ``get_denm_records_clean_reference_expired``.</span>
<span class="linenos"> 831</span><span class="sd">            - Asserts that the interval returned by ``get_interval_oldest_update_ms`` for the</span>
<span class="linenos"> 832</span><span class="sd">              oldest record matches the expected value.</span>
<span class="linenos"> 833</span>
<span class="linenos"> 834</span><span class="sd">        Args:</span>
<span class="linenos"> 835</span><span class="sd">            mocker (MockerFixture): The pytest-mock fixture for patching.</span>
<span class="linenos"> 836</span><span class="sd">            mock_logger: A mock logger instance for testing purposes.</span>
<span class="linenos"> 837</span><span class="sd">            station_collision_array_1 (StationCollisionArrayV1): The first station collision</span>
<span class="linenos"> 838</span><span class="sd">                array to insert.</span>
<span class="linenos"> 839</span><span class="sd">            station_collision_array_2 (StationCollisionArrayV1): The second station collision</span>
<span class="linenos"> 840</span><span class="sd">                array to insert.</span>
<span class="linenos"> 841</span><span class="sd">            now_str (str): The ISO time string representing the current time to mock.</span>
<span class="linenos"> 842</span><span class="sd">            oldest_record_update_ms (int): The expected interval in milliseconds for the</span>
<span class="linenos"> 843</span><span class="sd">                oldest record.</span>
<span class="linenos"> 844</span>
<span class="linenos"> 845</span><span class="sd">        Returns:</span>
<span class="linenos"> 846</span><span class="sd">            None</span>
<span class="linenos"> 847</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos"> 848</span>        <span class="n">den_service_data_manager</span> <span class="o">=</span> <span class="n">DenServiceDataManager</span><span class="p">(</span>
<span class="linenos"> 849</span>            <span class="n">station_id</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
<span class="linenos"> 850</span>            <span class="n">time_after_collision</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
<span class="linenos"> 851</span>            <span class="n">denm_last_update_max_delay_ms</span><span class="o">=</span><span class="mi">2000</span><span class="p">,</span>
<span class="linenos"> 852</span>            <span class="n">denm_check_last_update_max_interval</span><span class="o">=</span><span class="mi">3000</span><span class="p">,</span>
<span class="linenos"> 853</span>            <span class="n">logger</span><span class="o">=</span><span class="n">mock_logger</span><span class="p">,</span>
<span class="linenos"> 854</span>        <span class="p">)</span>
<span class="linenos"> 855</span>        <span class="n">now</span> <span class="o">=</span> <span class="n">ItsTime</span><span class="o">.</span><span class="n">create_from_iso_time</span><span class="p">(</span><span class="n">time_str</span><span class="o">=</span><span class="n">now_str</span><span class="p">)</span>
<span class="linenos"> 856</span>        <span class="n">mock_time</span> <span class="o">=</span> <span class="n">mocker</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span>
<span class="linenos"> 857</span>            <span class="s2">&quot;step_cloud_schemas.classes.its_time.time&quot;</span><span class="p">,</span> <span class="n">autospec</span><span class="o">=</span><span class="kc">True</span>
<span class="linenos"> 858</span>        <span class="p">)</span>
<span class="linenos"> 859</span>        <span class="n">mock_time</span><span class="o">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="n">now</span><span class="o">.</span><span class="n">epoch</span>
<span class="linenos"> 860</span>        <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">insert_station_collision_array</span><span class="p">(</span>
<span class="linenos"> 861</span>            <span class="n">station_collision_array</span><span class="o">=</span><span class="n">station_collision_array_1</span>
<span class="linenos"> 862</span>        <span class="p">)</span>
<span class="linenos"> 863</span>        <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">insert_station_collision_array</span><span class="p">(</span>
<span class="linenos"> 864</span>            <span class="n">station_collision_array</span><span class="o">=</span><span class="n">station_collision_array_2</span>
<span class="linenos"> 865</span>        <span class="p">)</span>
<span class="linenos"> 866</span>        <span class="p">(</span><span class="n">_</span><span class="p">,</span> <span class="n">oldest_record</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span>
<span class="linenos"> 867</span>            <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">get_denm_records_clean_reference_expired</span><span class="p">()</span>
<span class="linenos"> 868</span>        <span class="p">)</span>
<span class="linenos"> 869</span>        <span class="k">assert</span> <span class="p">(</span>
<span class="linenos"> 870</span>            <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">get_interval_oldest_update_ms</span><span class="p">(</span>
<span class="linenos"> 871</span>                <span class="n">oldest_record</span><span class="o">=</span><span class="n">oldest_record</span>
<span class="linenos"> 872</span>            <span class="p">)</span>
<span class="linenos"> 873</span>            <span class="o">==</span> <span class="n">oldest_record_update_ms</span>
<span class="linenos"> 874</span>        <span class="p">)</span></div>

<span class="linenos"> 875</span>
<div class="viewcode-block" id="TestDenServiceDataManager.test_get_interval_oldest_update_ms_long_max_delay">
<a class="viewcode-back" href="../../test_rst/test.test_den_service_data_manager.html#test.test_den_service_data_manager.TestDenServiceDataManager.test_get_interval_oldest_update_ms_long_max_delay">[docs]</a>
<span class="linenos"> 876</span>    <span class="nd">@pytest</span><span class="o">.</span><span class="n">mark</span><span class="o">.</span><span class="n">parametrize</span><span class="p">(</span>
<span class="linenos"> 877</span>        <span class="n">argnames</span><span class="o">=</span><span class="s2">&quot;now_str, oldest_record_update_ms&quot;</span><span class="p">,</span>
<span class="linenos"> 878</span>        <span class="n">argvalues</span><span class="o">=</span><span class="p">[</span>
<span class="linenos"> 879</span>            <span class="p">(</span><span class="s2">&quot;2023-01-01T14:00:02.299Z&quot;</span><span class="p">,</span> <span class="mi">1999</span><span class="p">),</span>
<span class="linenos"> 880</span>            <span class="p">(</span><span class="s2">&quot;2023-01-01T14:00:02.300Z&quot;</span><span class="p">,</span> <span class="mi">2000</span><span class="p">),</span>
<span class="linenos"> 881</span>            <span class="p">(</span><span class="s2">&quot;2023-01-01T14:00:04.300Z&quot;</span><span class="p">,</span> <span class="mi">3000</span><span class="p">),</span>
<span class="linenos"> 882</span>        <span class="p">],</span>
<span class="linenos"> 883</span>    <span class="p">)</span>
<span class="linenos"> 884</span>    <span class="k">def</span><span class="w"> </span><span class="nf">test_get_interval_oldest_update_ms_long_max_delay</span><span class="p">(</span>
<span class="linenos"> 885</span>        <span class="bp">self</span><span class="p">,</span>
<span class="linenos"> 886</span>        <span class="n">mocker</span><span class="p">:</span> <span class="n">MockerFixture</span><span class="p">,</span>
<span class="linenos"> 887</span>        <span class="n">mock_logger</span><span class="p">:</span> <span class="n">Logger</span><span class="p">,</span>
<span class="linenos"> 888</span>        <span class="n">station_collision_array_1</span><span class="p">:</span> <span class="n">StationCollisionArrayV1</span><span class="p">,</span>
<span class="linenos"> 889</span>        <span class="n">station_collision_array_2</span><span class="p">:</span> <span class="n">StationCollisionArrayV1</span><span class="p">,</span>
<span class="linenos"> 890</span>        <span class="n">now_str</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="linenos"> 891</span>        <span class="n">oldest_record_update_ms</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
<span class="linenos"> 892</span>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="linenos"> 893</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;Test that the ``get_interval_oldest_update_ms`` method of</span>
<span class="linenos"> 894</span><span class="sd">        ``DenServiceDataManager`` correctly calculates the interval in milliseconds</span>
<span class="linenos"> 895</span><span class="sd">        since the oldest record was updated, given a long maximum delay scenario.</span>
<span class="linenos"> 896</span>
<span class="linenos"> 897</span><span class="sd">        This test:</span>
<span class="linenos"> 898</span>
<span class="linenos"> 899</span><span class="sd">            - Mocks the current time using ``ItsTime.create_from_iso_time``.</span>
<span class="linenos"> 900</span><span class="sd">            - Inserts two station collision arrays into the data manager.</span>
<span class="linenos"> 901</span><span class="sd">            - Retrieves the oldest record using ``get_denm_records_clean_reference_expired``.</span>
<span class="linenos"> 902</span><span class="sd">            - Asserts that the interval returned by ``get_interval_oldest_update_ms``</span>
<span class="linenos"> 903</span><span class="sd">              matches the expected value.</span>
<span class="linenos"> 904</span>
<span class="linenos"> 905</span><span class="sd">        Args:</span>
<span class="linenos"> 906</span><span class="sd">            mocker (MockerFixture): The pytest-mock fixture for patching.</span>
<span class="linenos"> 907</span><span class="sd">            mock_logger: A mock logger instance for testing purposes.</span>
<span class="linenos"> 908</span><span class="sd">            station_collision_array_1 (StationCollisionArrayV1): The first station collision</span>
<span class="linenos"> 909</span><span class="sd">                array to insert.</span>
<span class="linenos"> 910</span><span class="sd">            station_collision_array_2 (StationCollisionArrayV1): The second station collision</span>
<span class="linenos"> 911</span><span class="sd">                array to insert.</span>
<span class="linenos"> 912</span><span class="sd">            now_str (str): The ISO time string representing the current time.</span>
<span class="linenos"> 913</span><span class="sd">            oldest_record_update_ms (int): The expected interval in milliseconds since the</span>
<span class="linenos"> 914</span><span class="sd">                oldest record update.</span>
<span class="linenos"> 915</span>
<span class="linenos"> 916</span><span class="sd">        Returns:</span>
<span class="linenos"> 917</span><span class="sd">            None</span>
<span class="linenos"> 918</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos"> 919</span>        <span class="n">den_service_data_manager</span> <span class="o">=</span> <span class="n">DenServiceDataManager</span><span class="p">(</span>
<span class="linenos"> 920</span>            <span class="n">station_id</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
<span class="linenos"> 921</span>            <span class="n">time_after_collision</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
<span class="linenos"> 922</span>            <span class="n">denm_last_update_max_delay_ms</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span>
<span class="linenos"> 923</span>            <span class="n">denm_check_last_update_max_interval</span><span class="o">=</span><span class="mi">3000</span><span class="p">,</span>
<span class="linenos"> 924</span>            <span class="n">logger</span><span class="o">=</span><span class="n">mock_logger</span><span class="p">,</span>
<span class="linenos"> 925</span>        <span class="p">)</span>
<span class="linenos"> 926</span>        <span class="n">now</span> <span class="o">=</span> <span class="n">ItsTime</span><span class="o">.</span><span class="n">create_from_iso_time</span><span class="p">(</span><span class="n">time_str</span><span class="o">=</span><span class="n">now_str</span><span class="p">)</span>
<span class="linenos"> 927</span>        <span class="n">mock_time</span> <span class="o">=</span> <span class="n">mocker</span><span class="o">.</span><span class="n">patch</span><span class="p">(</span>
<span class="linenos"> 928</span>            <span class="s2">&quot;step_cloud_schemas.classes.its_time.time&quot;</span><span class="p">,</span> <span class="n">autospec</span><span class="o">=</span><span class="kc">True</span>
<span class="linenos"> 929</span>        <span class="p">)</span>
<span class="linenos"> 930</span>        <span class="n">mock_time</span><span class="o">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="n">now</span><span class="o">.</span><span class="n">epoch</span>
<span class="linenos"> 931</span>        <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">insert_station_collision_array</span><span class="p">(</span>
<span class="linenos"> 932</span>            <span class="n">station_collision_array</span><span class="o">=</span><span class="n">station_collision_array_1</span>
<span class="linenos"> 933</span>        <span class="p">)</span>
<span class="linenos"> 934</span>        <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">insert_station_collision_array</span><span class="p">(</span>
<span class="linenos"> 935</span>            <span class="n">station_collision_array</span><span class="o">=</span><span class="n">station_collision_array_2</span>
<span class="linenos"> 936</span>        <span class="p">)</span>
<span class="linenos"> 937</span>        <span class="p">(</span><span class="n">_</span><span class="p">,</span> <span class="n">oldest_record</span><span class="p">)</span> <span class="o">=</span> <span class="p">(</span>
<span class="linenos"> 938</span>            <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">get_denm_records_clean_reference_expired</span><span class="p">()</span>
<span class="linenos"> 939</span>        <span class="p">)</span>
<span class="linenos"> 940</span>        <span class="k">assert</span> <span class="p">(</span>
<span class="linenos"> 941</span>            <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">get_interval_oldest_update_ms</span><span class="p">(</span>
<span class="linenos"> 942</span>                <span class="n">oldest_record</span><span class="o">=</span><span class="n">oldest_record</span>
<span class="linenos"> 943</span>            <span class="p">)</span>
<span class="linenos"> 944</span>            <span class="o">==</span> <span class="n">oldest_record_update_ms</span>
<span class="linenos"> 945</span>        <span class="p">)</span></div>

<span class="linenos"> 946</span>
<div class="viewcode-block" id="TestDenServiceDataManager.test_remove_denm_record">
<a class="viewcode-back" href="../../test_rst/test.test_den_service_data_manager.html#test.test_den_service_data_manager.TestDenServiceDataManager.test_remove_denm_record">[docs]</a>
<span class="linenos"> 947</span>    <span class="k">def</span><span class="w"> </span><span class="nf">test_remove_denm_record</span><span class="p">(</span>
<span class="linenos"> 948</span>        <span class="bp">self</span><span class="p">,</span>
<span class="linenos"> 949</span>        <span class="n">mock_logger</span><span class="p">:</span> <span class="n">Logger</span><span class="p">,</span>
<span class="linenos"> 950</span>        <span class="n">station_collision_array_1</span><span class="p">:</span> <span class="n">StationCollisionArrayV1</span><span class="p">,</span>
<span class="linenos"> 951</span>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="linenos"> 952</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;Tests the removal of a DENM record from the DenServiceDataManager.</span>
<span class="linenos"> 953</span>
<span class="linenos"> 954</span><span class="sd">        This test verifies that:</span>
<span class="linenos"> 955</span>
<span class="linenos"> 956</span><span class="sd">            - Removing a DENM record with a specific ActionId correctly updates</span>
<span class="linenos"> 957</span><span class="sd">              the internal data structures.</span>
<span class="linenos"> 958</span><span class="sd">            - The record is removed from _denm_sorted_records, _record_key_index,</span>
<span class="linenos"> 959</span><span class="sd">              and _action_id_index.</span>
<span class="linenos"> 960</span><span class="sd">            - Attempting to remove the same record again does not alter the state</span>
<span class="linenos"> 961</span><span class="sd">              of the data manager.</span>
<span class="linenos"> 962</span><span class="sd">            - The remaining records and their indices are as expected after each</span>
<span class="linenos"> 963</span><span class="sd">              removal operation.</span>
<span class="linenos"> 964</span>
<span class="linenos"> 965</span><span class="sd">        Args:</span>
<span class="linenos"> 966</span><span class="sd">            mock_logger: A mock logger instance for testing purposes.</span>
<span class="linenos"> 967</span><span class="sd">            station_collision_array_1 (StationCollisionArrayV1): The collision</span>
<span class="linenos"> 968</span><span class="sd">                array to insert and test removal with.</span>
<span class="linenos"> 969</span>
<span class="linenos"> 970</span><span class="sd">        Returns:</span>
<span class="linenos"> 971</span><span class="sd">            None</span>
<span class="linenos"> 972</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos"> 973</span>        <span class="n">den_service_data_manager</span> <span class="o">=</span> <span class="n">DenServiceDataManager</span><span class="p">(</span>
<span class="linenos"> 974</span>            <span class="n">station_id</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
<span class="linenos"> 975</span>            <span class="n">time_after_collision</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
<span class="linenos"> 976</span>            <span class="n">denm_last_update_max_delay_ms</span><span class="o">=</span><span class="mi">2000</span><span class="p">,</span>
<span class="linenos"> 977</span>            <span class="n">denm_check_last_update_max_interval</span><span class="o">=</span><span class="mi">3000</span><span class="p">,</span>
<span class="linenos"> 978</span>            <span class="n">logger</span><span class="o">=</span><span class="n">mock_logger</span><span class="p">,</span>
<span class="linenos"> 979</span>        <span class="p">)</span>
<span class="linenos"> 980</span>        <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">insert_station_collision_array</span><span class="p">(</span>
<span class="linenos"> 981</span>            <span class="n">station_collision_array</span><span class="o">=</span><span class="n">station_collision_array_1</span>
<span class="linenos"> 982</span>        <span class="p">)</span>
<span class="linenos"> 983</span>        <span class="c1"># Remove the first record</span>
<span class="linenos"> 984</span>        <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">remove_denm_record</span><span class="p">(</span>
<span class="linenos"> 985</span>            <span class="n">denm_id</span><span class="o">=</span><span class="n">ActionId</span><span class="p">(</span><span class="n">originatingStationId</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">sequenceNumber</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos"> 986</span>        <span class="p">)</span>
<span class="linenos"> 987</span>        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_denm_sorted_records</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
<span class="linenos"> 988</span>        <span class="k">assert</span> <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_denm_sorted_records</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">_action_id_index</span> <span class="o">==</span> <span class="p">(</span>
<span class="linenos"> 989</span>            <span class="mi">100</span><span class="p">,</span>
<span class="linenos"> 990</span>            <span class="mi">1</span><span class="p">,</span>
<span class="linenos"> 991</span>        <span class="p">)</span>
<span class="linenos"> 992</span>        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_record_key_index</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
<span class="linenos"> 993</span>        <span class="k">assert</span> <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_record_key_index</span><span class="p">[</span>
<span class="linenos"> 994</span>            <span class="p">(</span>
<span class="linenos"> 995</span>                <span class="mi">101</span><span class="p">,</span>
<span class="linenos"> 996</span>                <span class="mi">1</span><span class="p">,</span>
<span class="linenos"> 997</span>                <span class="mi">102</span><span class="p">,</span>
<span class="linenos"> 998</span>                <span class="mi">1</span><span class="p">,</span>
<span class="linenos"> 999</span>            <span class="p">)</span>
<span class="linenos">1000</span>        <span class="p">]</span><span class="o">.</span><span class="n">_action_id_index</span> <span class="o">==</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="linenos">1001</span>        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_action_id_index</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
<span class="linenos">1002</span>        <span class="k">assert</span> <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_action_id_index</span><span class="p">[(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]</span><span class="o">.</span><span class="n">_action_id_index</span> <span class="o">==</span> <span class="p">(</span>
<span class="linenos">1003</span>            <span class="mi">100</span><span class="p">,</span>
<span class="linenos">1004</span>            <span class="mi">1</span><span class="p">,</span>
<span class="linenos">1005</span>        <span class="p">)</span>
<span class="linenos">1006</span>        <span class="c1"># Remove the same record again, should not change anything</span>
<span class="linenos">1007</span>        <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">remove_denm_record</span><span class="p">(</span>
<span class="linenos">1008</span>            <span class="n">denm_id</span><span class="o">=</span><span class="n">ActionId</span><span class="p">(</span><span class="n">originatingStationId</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">sequenceNumber</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="linenos">1009</span>        <span class="p">)</span>
<span class="linenos">1010</span>        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_denm_sorted_records</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
<span class="linenos">1011</span>        <span class="k">assert</span> <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_denm_sorted_records</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">_action_id_index</span> <span class="o">==</span> <span class="p">(</span>
<span class="linenos">1012</span>            <span class="mi">100</span><span class="p">,</span>
<span class="linenos">1013</span>            <span class="mi">1</span><span class="p">,</span>
<span class="linenos">1014</span>        <span class="p">)</span>
<span class="linenos">1015</span>        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_record_key_index</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
<span class="linenos">1016</span>        <span class="k">assert</span> <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_record_key_index</span><span class="p">[</span>
<span class="linenos">1017</span>            <span class="p">(</span>
<span class="linenos">1018</span>                <span class="mi">101</span><span class="p">,</span>
<span class="linenos">1019</span>                <span class="mi">1</span><span class="p">,</span>
<span class="linenos">1020</span>                <span class="mi">102</span><span class="p">,</span>
<span class="linenos">1021</span>                <span class="mi">1</span><span class="p">,</span>
<span class="linenos">1022</span>            <span class="p">)</span>
<span class="linenos">1023</span>        <span class="p">]</span><span class="o">.</span><span class="n">_action_id_index</span> <span class="o">==</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="linenos">1024</span>        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_action_id_index</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
<span class="linenos">1025</span>        <span class="k">assert</span> <span class="n">den_service_data_manager</span><span class="o">.</span><span class="n">_action_id_index</span><span class="p">[(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]</span><span class="o">.</span><span class="n">_action_id_index</span> <span class="o">==</span> <span class="p">(</span>
<span class="linenos">1026</span>            <span class="mi">100</span><span class="p">,</span>
<span class="linenos">1027</span>            <span class="mi">1</span><span class="p">,</span>
<span class="linenos">1028</span>        <span class="p">)</span></div>
</div>

</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Vodafone Automotive.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>